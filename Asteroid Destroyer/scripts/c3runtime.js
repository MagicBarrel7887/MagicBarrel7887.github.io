// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(d){function b(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+C*I;f[1]=B*E+k*I;f[2]=x*K+C*t;f[3]=B*K+k*t;return f}function a(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function e(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+C*N;f[1]=B*K+E*N;f[2]=x*Q+C*S;f[3]=B*Q+E*S;f[4]=x*W+C*t+I;f[5]=B*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function l(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*B+W*I+V*Q;f[2]=S*C+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*B+ia*I+ca*Q;f[5]=ea*C+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*B+la*I+t*Q;f[8]=oa*C+la*K+
t*k;return f}function h(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function m(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*B+ra*K+sa*W+pa*ca;f[2]=la*C+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*B+ra*K+sa*W+pa*ca;f[6]=la*C+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*B+ra*K+sa*W+pa*ca;f[10]=la*C+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*B+ra*K+sa*W+pa*ca;f[14]=la*C+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=x+x,K=B+B,N=C+C;k=x*I;var Q=x*K;x*=N;var S=B*K;B*=N;C*=N;I*=E;K*=E;E*=N;f[0]=1-(S+C);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(k+C);f[6]=B+I;f[7]=0;f[8]=x+K;f[9]=B-I;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],B=k[6],C=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,B);f[2]=Math.hypot(C,
E,I);return f}function w(f,k){var t=new qa(3);u(t,k);var x=1/t[0],B=1/t[1],C=1/t[2],E=k[0]*x;t=k[1]*B;var I=k[2]*C,K=k[4]*x,N=k[5]*B,Q=k[6]*C;x*=k[8];B*=k[9];k=k[10]*C;C=E+N+k;0<C?(E=2*Math.sqrt(C+1),f[3]=.25*E,f[0]=(Q-B)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(Q-B)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+B)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+B)/E,f[2]=.25*E);return f}function r(f,
k,t,x,B){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=(B+x)*t,f[14]=2*B*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,k,t,x,B,C,E){var I=1/(k-t),K=1/(x-B),N=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*I;f[13]=(B+x)*K;f[14]=(E+C)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function H(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function L(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function P(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],B=k[2];t=t*t+x*x+B*B;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],B=k[1];k=k[2];var C=t[0],E=t[1];t=t[2];f[0]=B*t-k*E;f[1]=k*C-x*t;f[2]=x*E-B*C;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var B=new qa(4);B[0]=f;B[1]=k;B[2]=t;B[3]=x;return B}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,B){f[0]=k;f[1]=t;f[2]=x;f[3]=B;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],B=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+B*B+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t*t+x*x+B*B+k*k;0<C&&(C=1/Math.sqrt(C));f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=k*C;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var B=k[0],C=k[1],E=k[2];k=k[3];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-C);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+B*K-C*I;f[1]=B*t+k*I+C*E-x*K;f[2]=C*t+k*K+x*I-B*E;f[3]=k*t-x*E-B*I-C*K;return f}function zb(f,k,t){t*=.5;var x=k[0],B=
k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=B*t+C*E;f[2]=C*t-B*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-C*E;f[1]=B*t+k*E;f[2]=C*t+x*E;f[3]=k*t-B*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+B*E;f[1]=B*t-x*E;f[2]=C*t+k*E;f[3]=k*t-C*E;return f}function Cb(f,k){var t=k[0],x=k[1],B=k[2],C=Math.sqrt(t*t+x*x+B*B);k=Math.exp(k[3]);var E=
0<C?k*Math.sin(C)/C:0;f[0]=t*E;f[1]=x*E;f[2]=B*E;f[3]=k*Math.cos(C);return f}function Db(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=Math.sqrt(t*t+x*x+B*B);C=0<C?Math.atan2(C,k)/C:0;f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=.5*Math.log(t*t+x*x+B*B+k*k);return f}function kb(f,k,t,x){var B=k[0],C=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=B*I+C*K+E*N+k*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*B+x*
I;f[1]=Q*C+x*K;f[2]=Q*E+x*N;f[3]=Q*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var B=(x+1)%3,C=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*B+B]-k[3*C+C]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*B+C]-k[3*C+B])*t;f[B]=(k[3*B+x]+k[3*x+B])*t;f[C]=(k[3*C+x]+k[3*x+C])*t}return f}function Fb(f,k,t){var x=.5*t[0],B=.5*t[1];t=.5*t[2];var C=k[0],E=k[1],I=k[2];k=k[3];f[0]=C;
f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+B*I-t*E;f[5]=B*k+t*C-x*I;f[6]=t*k+x*E-B*C;f[7]=-x*C-B*E-t*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+B*ca-C*ia;f[1]=B*t+E*ia+C*ea-x*ca;f[2]=C*t+E*ca+x*ia-B*ea;f[3]=E*t-x*ea-B*ia-C*ca;f[4]=x*Q+E*I+B*N-C*K+S*t+k*ea+W*ca-V*ia;f[5]=B*Q+E*K+C*I-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=C*Q+E*N+x*K-B*I+V*t+k*ca+S*ia-W*ea;f[7]=E*Q-x*I-B*K-C*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get jha(){return qa},Nla:Ma,iha:"zyx",Gsa:function(f){qa=f},Psa:function(f){return f*Mb},rd:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},pa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},Ox:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Of:function(f,k,t,x){var B=new qa(4);B[0]=f;B[1]=k;B[2]=t;B[3]=x;return B},set:function(f,k,t,x,B){f[0]=k;f[1]=t;f[2]=x;f[3]=B;return f},nX:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},At:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t*k-B*x;if(!C)return null;C=1/C;f[0]=k*C;f[1]=-x*C;f[2]=-B*C;f[3]=t*C;return f},dW:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},BL:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=B*t+k*E;f[2]=x*-E+C*t;f[3]=B*-E+k*t;return f},scale:function(f,k,t){var x=k[1],B=k[2],C=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=B*t;f[3]=C*t;return f},HD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},FL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},Am:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},EL:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},dka:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},Bm:a,Jj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},rd:function(f,k){var t=f[0],x=f[1],B=f[2];f=f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},UL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},VL:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},jo:b,sub:a}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},pa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},Ox:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Of:function(f,
k,t,x,B,C){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=B;E[5]=C;return E},set:function(f,k,t,x,B,C,E){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;return f},At:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4];k=k[5];var I=t*C-x*B;if(!I)return null;I=1/I;f[0]=C*I;f[1]=-x*I;f[2]=-B*I;f[3]=t*I;f[4]=(B*k-C*E)*I;f[5]=(x*E-t*k)*I;return f},BL:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:e,rotate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+C*K;f[1]=B*t+E*K;f[2]=x*-K+C*t;f[3]=B*-K+E*t;f[4]=I;f[5]=k;return f},scale:function(f,k,t){var x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=B*t;f[3]=C*t;f[4]=E;f[5]=I;return f},translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=x*K+C*t+I;f[5]=B*K+E*t+k;return f},HD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},FL:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},GL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},Am:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},EL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},Bm:c,UL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
VL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},Jj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},rd:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4];f=f[5];var I=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(N))&&Math.abs(C-Q)<=1E-6*Math.max(1,Math.abs(C),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},jo:e,sub:c}),Qb=Object.freeze({__proto__:null,create:g,Lfa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},pa:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},Of:function(f,k,t,x,B,C,E,I,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=B;N[5]=C;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,k,t,x,B,C,E,I,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Ox:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},nX:function(f,k){if(f===k){var t=k[1],x=k[2],B=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=B}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},At:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-I*N,S=-k*C+I*K,W=N*C-E*K,V=t*Q+x*S+B*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-k*x+B*N)*V;f[2]=(I*x-B*E)*V;f[3]=S*V;f[4]=(k*t-B*K)*V;f[5]=(-I*t+B*C)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*C)*V;return f},dW:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-I*N;f[1]=B*N-x*k;f[2]=x*I-B*E;f[3]=I*K-C*k;f[4]=t*k-B*K;f[5]=B*C-t*I;f[6]=C*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*C;return f},BL:function(f){var k=f[3],t=f[4],x=f[5],B=f[6],C=f[7],E=f[8];return f[0]*(E*t-x*C)+f[1]*(-E*k+x*B)+f[2]*(C*k-t*B)},multiply:l,translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*B+t*I+Q;f[8]=S*C+t*K+k;return f},rotate:function(f,k,t){var x=k[0],B=
k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*B+S*I;f[2]=t*C+S*K;f[3]=t*E-S*x;f[4]=t*I-S*B;f[5]=t*K-S*C;f[6]=N;f[7]=Q;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},GL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},HD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},FL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},rqa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},Mfa:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=k;E*=k;k*=I;f[0]=1-x-B;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-B;f[7]=Q-C;f[2]=N-E;f[5]=Q+C;f[8]=1-t-x;return f},Fra:function(f,
k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(B*S-x*W-C*Ca)*V;f[4]=(t*W-B*Q+C*Ba)*V;f[5]=(x*Q-t*S-C*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},SW:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Am:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},EL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},Bm:h,UL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},VL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},Jj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},rd:function(f,k){var t=f[0],
x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(B-W)<=1E-6*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},jo:l,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},pa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},Of:function(f,k,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=B;ca[5]=C;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Ox:m,nX:function(f,k){if(f===k){var t=k[1],x=k[2],B=k[3],C=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=C;f[11]=k[14];f[12]=B;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},At:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(B*Ja-x*Ka-C*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-B*Ca+C*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-C*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+B*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},dW:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=
t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=B*Ja-x*Ka-C*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-B*Ca+C*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-C*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+B*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},BL:function(f){var k=f[0],t=f[1],x=f[2],
B=f[4],C=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=k*C-t*B,ea=k*E-x*B,ia=t*E-x*C,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(B*la-C*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],B=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*B+k[8]*t+k[12],f[13]=k[1]*x+k[5]*B+k[9]*t+k[13],f[14]=k[2]*x+k[6]*B+k[10]*t+k[14],f[15]=k[3]*x+k[7]*B+k[11]*t+k[15];else{var C=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=C;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=C*x+N*B+V*t+k[12];f[13]=E*x+Q*B+ea*t+k[13];f[14]=I*x+S*B+ia*t+k[14];f[15]=K*x+W*B+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],B=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*B;f[5]=k[5]*B;f[6]=k[6]*B;f[7]=k[7]*B;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var B=x[0],C=x[1];x=x[2];var E=Math.hypot(B,C,x);if(1E-6>E)return null;E=1/E;B*=E;C*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=B*B*N+K;var pa=C*B*N+x*I;var za=x*B*N-C*I;var Aa=B*C*N-x*I;var Ba=C*C*N+K;var Ca=x*C*N+B*I;var Fa=B*x*N+C*I;B=C*x*N-B*I;C=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*B+ca*C;f[9]=E*Fa+V*B+oa*C;f[10]=Q*Fa+ea*B+la*C;f[11]=S*Fa+ia*B+ra*C;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},fM:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[4],C=k[5],E=k[6],I=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=B*t+K*x;f[5]=C*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-B*x;f[9]=N*t-C*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},gM:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[0],C=k[1],E=k[2],I=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=B*t-K*x;f[1]=C*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=B*x+K*t;f[9]=C*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},hM:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[0],C=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=B*t+K*x;f[1]=C*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-B*x;f[5]=N*t-C*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},GL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},FL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},HD:function(f,k,t){var x=t[0],B=t[1];t=t[2];var C=Math.hypot(x,B,t);if(1E-6>C)return null;C=1/C;x*=C;B*=C;t*=C;C=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=B*x*E+t*C;f[2]=t*x*E-B*C;f[3]=0;f[4]=x*B*E-t*C;f[5]=B*B*E+k;f[6]=t*B*E+x*C;f[7]=0;f[8]=x*t*E+B*C;f[9]=B*t*E-x*C;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},xqa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},yqa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},zqa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Nfa:p,tqa:function(f,k){var t=new qa(3),x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+B*B+C*C+E*E;0<S?(t[0]=2*(I*E+Q*x+K*C-N*B)/S,t[1]=2*(K*E+Q*B+N*x-I*C)/S,t[2]=2*(N*E+Q*C+I*B-K*x)/S):(t[0]=2*(I*E+Q*x+K*C-N*B),t[1]=2*(K*E+Q*B+N*x-I*C),t[2]=2*(N*E+Q*C+I*B-K*x));p(f,k,t);return f},Qfa:q,Mqa:u,Lqa:w,fqa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var B=x[0],C=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(B,C,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=B*S;C*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(Q-E)/x,f[2]=(C-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(C+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(C+I)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(C-I)/x,f[0]=(Q+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},uqa:function(f,k,t,x){var B=k[0],C=k[1],E=k[2],I=k[3],K=B+B,N=C+C,Q=E+E;k=B*K;var S=B*N;B*=Q;var W=C*N;C*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(B-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(k+E))*V;f[6]=(C+K)*V;f[7]=0;f[8]=(B+N)*x;f[9]=(C-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},vqa:function(f,k,t,x,B){var C=k[0],E=k[1],I=k[2],K=k[3],N=C+C,Q=E+E,S=I+I;k=C*N;var W=C*Q,V=C*S;C=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=B[0];K=B[1];B=B[2];N=(1-(C+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;k=(1-(k+C))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*B);f[13]=t[1]+K-(la*x+ea*K+E*B);f[14]=t[2]+B-(ca*x+oa*K+k*B);f[15]=1;return f},Mfa:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=k;E*=k;k*=I;f[0]=1-x-B;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-B;f[6]=Q+C;f[7]=0;f[8]=N+E;f[9]=Q-C;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Ofa:function(f,k,t,x,B,C,E){var I=1/(t-k),K=1/(B-
x),N=1/(C-E);f[0]=2*C*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*C*K;f[6]=0;f[7]=0;f[8]=(t+k)*I;f[9]=(B+x)*K;f[10]=(E+C)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*C*2*N;f[15]=0;return f},Qra:r,perspective:r,Rra:function(f,k,t,x,B){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=B*t,f[14]=B*x*t):(f[10]=-1,f[14]=-x);return f},Pra:function(f,k,t,x){var B=Math.tan(k.Wsa*Math.PI/180),C=Math.tan(k.hqa*Math.PI/
180),E=Math.tan(k.sra*Math.PI/180);k=Math.tan(k.osa*Math.PI/180);var I=2/(E+k),K=2/(B+C);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(B-C)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},Nra:v,zga:v,Ora:function(f,k,t,x,B,C,E){var I=1/(k-t),K=1/(x-B);E=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*I;f[13]=(B+x)*K;f[14]=C*E;f[15]=1;return f},nga:function(f,k,t,x){var B=
k[0],C=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(k-Q))return m(f);t=B-N;x=C-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*B+K*C+E*k);f[13]=
-(I*B+W*C+V*k);f[14]=-(t*B+x*C+N*k);f[15]=1;return f},Msa:function(f,k,t,x){var B=k[0],C=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=B-t[0];var N=C-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=B;f[13]=C;f[14]=k;f[15]=1;return f},Am:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},EL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},Bm:y,UL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},VL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},Jj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},rd:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(B-ra)<=1E-6*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},jo:n,sub:y}),rb=function(){var f=A();return function(k,t,x,B,C,E){t||(t=3);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,Of:z,pa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},Bm:F,multiply:H,um:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},iM:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},Lx:L,gX:P,VD:R,NW:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,ho:Z,AL:X,me:function(f,k,t,x){var B=k[0],C=k[1];k=k[2];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-
C);f[2]=k+x*(t[2]-k);return f},Oga:function(f,k,t,x){var B=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),C=Math.sin(B),E=Math.sin((1-x)*B)/C;x=Math.sin(x*B)/C;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},Qqa:function(f,k,t,x,B,C){var E=C*C,I=E*(2*C-3)+1,K=E*(C-2)+C,N=E*(C-1);C=E*(3-2*C);f[0]=k[0]*I+t[0]*K+x[0]*N+B[0]*C;f[1]=k[1]*I+t[1]*K+x[1]*N+B[1]*C;f[2]=k[2]*I+t[2]*K+x[2]*N+B[2]*C;return f},Ppa:function(f,k,t,x,B,C){var E=1-C,I=E*E,K=C*C,N=I*E;I*=3*C;E*=3*K;C*=K;f[0]=k[0]*N+
t[0]*I+x[0]*E+B[0]*C;f[1]=k[1]*N+t[1]*I+x[1]*E+B[1]*C;f[2]=k[2]*N+t[2]*I+x[2]*E+B[2]*C;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,B=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*B;f[1]=Math.sin(t)*B;f[2]=x*k;return f},pM:function(f,k,t){var x=k[0],B=k[1];k=k[2];var C=t[3]*x+t[7]*B+t[11]*k+t[15];C=C||1;f[0]=(t[0]*x+t[4]*B+t[8]*k+t[12])/C;f[1]=(t[1]*x+t[5]*B+t[9]*k+t[13])/C;f[2]=(t[2]*x+t[6]*B+t[10]*k+t[14])/C;return f},Xga:function(f,k,t){var x=k[0],B=k[1];k=k[2];f[0]=x*t[0]+B*t[3]+
k*t[6];f[1]=x*t[1]+B*t[4]+k*t[7];f[2]=x*t[2]+B*t[5]+k*t[8];return f},Yga:function(f,k,t){var x=t[0],B=t[1],C=t[2],E=k[0],I=k[1];k=k[2];var K=B*k-C*I,N=C*E-x*k,Q=x*I-B*E;t=2*t[3];f[0]=E+K*t+2*(B*Q-C*N);f[1]=I+N*t+2*(C*K-x*Q);f[2]=k+Q*t+2*(x*N-B*K);return f},fM:function(f,k,t,x){var B=[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[0];C[1]=B[1]*Math.cos(x)-B[2]*Math.sin(x);C[2]=B[1]*Math.sin(x)+B[2]*Math.cos(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},gM:function(f,k,t,x){var B=
[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[2]*Math.sin(x)+B[0]*Math.cos(x);C[1]=B[1];C[2]=B[2]*Math.cos(x)-B[0]*Math.sin(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},hM:function(f,k,t,x){var B=[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[0]*Math.cos(x)-B[1]*Math.sin(x);C[1]=B[0]*Math.sin(x)+B[1]*Math.cos(x);C[2]=B[2];f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],B=f[2],C=k[0],E=k[1],I=k[2];f=(t=Math.sqrt((t*
t+x*x+B*B)*(C*C+E*E+I*I)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},zX:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Am:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Jj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},rd:function(f,k){var t=f[0],x=f[1];f=f[2];var B=k[0],C=k[1];k=k[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
jo:H,rW:J,pW:L,fX:P,Tx:G,UD:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,B,C,E){t||(t=4);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Of:va,pa:ta,set:ya,add:Na,Bm:Sa,multiply:Ta,um:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,iM:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Lx:eb,gX:fb,length:Pa,VD:Va,NW:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,ho:Ya,AL:function(f,k,t,x){var B=t[0]*x[1]-t[1]*x[0],C=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];f[0]=N*t-Q*K+k*I;f[1]=-(x*t)+
Q*E-k*C;f[2]=x*K-N*E+k*B;f[3]=-(x*I)+N*C-Q*B;return f},me:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var B=t*t+x*x}while(1<=B);do{var C=2*Ma()-1;var E=2*Ma()-1;var I=C*C+E*E}while(1<=I);B=Math.sqrt((1-B)/I);f[0]=k*t;f[1]=k*x;f[2]=k*C*B;f[3]=k*E*B;return f},pM:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];f[0]=t[0]*x+t[4]*B+t[8]*C+t[12]*k;f[1]=t[1]*x+t[5]*B+t[9]*C+t[13]*k;f[2]=t[2]*x+t[6]*B+t[10]*C+t[14]*k;f[3]=t[3]*x+t[7]*B+t[11]*C+t[15]*k;return f},Yga:function(f,k,t){var x=
k[0],B=k[1],C=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*C-K*B,Q=t*B+K*x-E*C,S=t*C+E*B-I*x;x=-E*x-I*B-K*C;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=k[3];return f},zX:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},Am:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Jj:wb,rd:function(f,k){var t=f[0],x=f[1],B=f[2];f=f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,jo:Ta,rW:Ua,pW:eb,fX:fb,Tx:Pa,UD:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,B,C){var E=Z(B,C);if(-.999999>E)return X(f,k,B),1E-6>G(f)&&X(f,t,B),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,B,C);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,B,C,E,I){kb(f,x,E,I);kb(k,B,C,I);kb(t,f,k,2*I*(1-I));return t}}(),gb=function(){var f=g();return function(k,t,x,B){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=B[0];f[4]=B[1];f[7]=B[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,Ox:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Esa:xb,Iqa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Gqa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,fM:zb,gM:Ab,hM:Bb,Qpa:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,mga:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},Oga:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),B=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=B*Math.sin(2*Math.PI*t);f[1]=B*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},At:function(f,k){var t=k[0],x=k[1],B=k[2];
k=k[3];var C=t*t+x*x+B*B+k*k;C=C?1/C:0;f[0]=-t*C;f[1]=-x*C;f[2]=-B*C;f[3]=k*C;return f},rfa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},sqa:Eb,qqa:function(f,k,t,x){var B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",C=Math.PI/360;k*=C;x*=C;t*=C;C=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(B){case "xyz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "xzy":f[0]=C*K*Q-E*I*N;f[1]=E*
I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yxz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yzx":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zxy":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zyx":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;default:throw Error("Unknown angle order "+B);}return f},Am:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Of:va,pa:ta,set:ya,add:Na,jo:yb,scale:Wa,ho:Ya,me:vb,length:Pa,Tx:Pa,VD:Va,UD:Va,normalize:ib,Jj:wb,rd:function(f,k){return.999999<=Math.abs(Ya(f,k))},tsa:tb,Jsa:ub,Dsa:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},Of:function(f,k,t,x,B,C,E,I){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=B;K[5]=C;K[6]=E;K[7]=I;return K},wqa:function(f,k,t,x,B,C,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=t;I[3]=x;B*=.5;C*=.5;E*=.5;I[4]=B*x+C*t-E*k;I[5]=C*x+E*f-B*t;I[6]=E*x+B*k-C*f;I[7]=-B*f-C*k-E*t;return I},Nfa:Fb,GL:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},HD:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},Lfa:function(f,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},pa:Gb,Ox:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,B,C,E,I,K){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;return f},Kqa:ta,Jqa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Hsa:ta,Fsa:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},Qfa:function(f,k){var t=k[4],x=k[5],B=k[6],C=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+C*E+x*K-B*I);f[1]=2*(x*k+C*I+B*E-t*K);f[2]=2*(B*k+
C*K+t*I-x*E);return f},translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=E*I+B*t-C*K+N;f[5]=E*K+C*I-x*t+Q;f[6]=E*t+x*K-B*I+S;f[7]=-x*I-B*K-C*t+k;return f},fM:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;zb(f,k,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+
I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},gM:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Ab(f,k,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},hM:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Bb(f,k,t);x=f[0];B=
f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},rsa:function(f,k,t){var x=t[0],B=t[1],C=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+I*C-K*B;f[1]=I*t+N*B+K*x-E*C;f[2]=K*t+N*C+E*B-I*x;f[3]=N*t-E*x-I*B-K*C;E=k[4];I=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+I*C-K*B;f[5]=I*t+N*B+K*x-E*C;f[6]=K*t+N*C+E*B-I*x;f[7]=N*t-E*x-I*B-K*C;return f},ssa:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+B*
K-C*I;f[1]=B*N+k*I+C*E-x*K;f[2]=C*N+k*K+x*I-B*E;f[3]=k*N-x*E-B*I-C*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+B*K-C*I;f[5]=B*N+k*I+C*E-x*K;f[6]=C*N+k*K+x*I-B*E;f[7]=k*N-x*E-B*I-C*K;return f},qsa:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var B=Math.hypot(t[0],t[1],t[2]);x*=.5;var C=Math.sin(x),E=C*t[0]/B,I=C*t[1]/B;t=C*t[2]/B;x=Math.cos(x);B=k[0];C=k[1];var K=k[2],N=k[3];f[0]=B*x+N*E+C*t-K*I;f[1]=C*x+N*I+K*E-B*t;f[2]=K*x+N*t+B*I-C*E;f[3]=N*x-B*E-C*I-K*t;B=k[4];C=k[5];K=k[6];k=k[7];f[4]=
B*x+k*E+C*t-K*I;f[5]=C*x+k*I+K*E-B*t;f[6]=K*x+k*t+B*I-C*E;f[7]=k*x-B*E-C*I-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,jo:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},ho:Ya,me:function(f,k,t,x){var B=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*B+t[0]*x;f[1]=k[1]*B+t[1]*x;f[2]=k[2]*B+t[2]*x;f[3]=
k[3]*B+t[3]*x;f[4]=k[4]*B+t[4]*x;f[5]=k[5]*B+t[5]*x;f[6]=k[6]*B+t[6]*x;f[7]=k[7]*B+t[7]*x;return f},At:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},rfa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Tx:Pa,VD:Va,UD:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,B=k[1]/t,C=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*I+B*K+C*N+E*k;f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-B*Q)/t;f[6]=(N-C*Q)/t;f[7]=(k-E*Q)/t}return f},Am:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Jj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},rd:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(B-S)<=1E-6*Math.max(1,Math.abs(B),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,B,C,E){t||(t=2);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],C(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},Of:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},pa:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},Bm:mb,multiply:nb,um:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},iM:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},Lx:ob,gX:Qa,length:pb,
VD:qb,NW:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},ho:function(f,k){return f[0]*k[0]+f[1]*k[1]},AL:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},me:function(f,k,t,x){var B=k[0];k=k[1];f[0]=B+x*(t[0]-B);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},Tsa:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},Usa:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},Xga:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},pM:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var B=k[0]-t[0];k=k[1]-t[1];var C=Math.sin(x);x=Math.cos(x);f[0]=B*x-k*C+t[0];f[1]=B*C+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var B=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(B&&(t*x+f*k)/B,-1),1))},zX:function(f){f[0]=0;f[1]=0;return f},Am:function(f){return"vec2("+f[0]+", "+f[1]+")"},Jj:function(f,k){return f[0]===k[0]&&f[1]===k[1]},rd:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Tx:pb,sub:mb,jo:nb,rW:Za,
pW:ob,fX:Qa,UD:qb,forEach:gb});d.Kj=Nb;d.yra=Ob;d.zra=Pb;d.Ara=Qb;d.wm=Rb;d.Zra=tb;d.$ra=ub;d.ata=gb;d.ZD=rb;d.ey=sb;Object.defineProperty(d,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Gpa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Kj={}));
{"use strict";function d(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function b(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function a(r,v,y){return 0<b(r,v,y)}function e(r,v,y){return 0<=b(r,v,y)}function c(r,v,y){return 0>=b(r,v,y)}var ab=[],bb=[];function g(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function l(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function h(r,v,y,A){for(;y<A;y++)r.push(v[y])}function m(r,v){var y=l(r,v-1),A=l(r,v);r=l(r,v+1);return 0>b(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(m(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,L=H;if(e(l(A,J+1),l(A,J),l(A,L))&&c(l(A,J-1),l(A,J),
l(A,L)))y=!1;else{y=g(l(A,J),l(A,L));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&e(l(A,J),l(A,L),l(A,P+1))&&c(l(A,J),l(A,L),l(A,P))){cb[0]=l(A,J);cb[1]=l(A,L);Jb[0]=l(A,P);Jb[1]=l(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(l(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([l(r,F),l(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],L=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(m(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(a(l(r,Y-1),l(r,Y),l(r,ta))&&c(l(r,Y-1),l(r,Y),l(r,ta-1))){L=u(l(r,Y-1),l(r,Y),l(r,ta),l(r,ta-1));var ya=l(r,Y+1);var Na=l(r,Y);0>b(ya,Na,L)&&(ya=g(r[Y],L),ya<P&&(P=ya,J=L,T=ta))}a(l(r,Y+1),l(r,Y),l(r,ta+1))&&c(l(r,Y+1),l(r,Y),l(r,ta))&&(L=u(l(r,Y+1),l(r,Y),l(r,ta),l(r,ta+1)),a(l(r,Y-1),l(r,Y),L)&&(ya=g(r[Y],L),ya<va&&(va=ya,H=L,R=ta)))}if(T===(R+1)%r.length)L[0]=(J[0]+H[0])/2,L[1]=(J[1]+H[1])/2,A.push(L),Y<R?(h(X,r,Y,R+1),X.push(L),ba.push(L),0!==T&&h(ba,r,T,r.length),h(ba,
r,0,Y+1)):(0!==Y&&h(X,r,Y,r.length),h(X,r,0,R+1),X.push(L),ba.push(L),h(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(l(r,Y-1),l(r,Y),l(r,ta))&&c(l(r,Y+1),l(r,Y),l(r,ta))){ya=g(l(r,Y),l(r,ta));if(T=ya<H)a:{T=r;J=Y;L=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==L&&(va+1)%T.length!==J&&(va+1)%T.length!==L&&d(l(T,J),l(T,L),l(T,va),l(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(h(X,r,Y,Z+1),0!==Z&&h(ba,r,Z,r.length),h(ba,r,0,Y+1)):(0!==
Y&&h(X,r,Y,r.length),h(X,r,0,Z+1),h(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.Vra={eqa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},asa:w,Yqa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(d(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(d(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},fsa:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
l(r,A-1);var z=l(r,A),F=l(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===b(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},gsa:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},xra:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(a(l(r,v-1),l(r,v),l(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const d=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Qx=!1;d.OL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Rf={}}
{"use strict";const d=self.D;d.fP=class{constructor(b){this.Jea=b;this.Ma=new Map;this.Jaa()}Jaa(){var b=this.Jea;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.Kaa(a)}Kaa(b){if(b)if(b.includes("=")){var a=b.indexOf("="),e=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ma.set(e,b)}else this.Ma.set(b,null)}rz(b){return this.Ma.has(b)}ca(b){b=this.Ma.get(b);return"undefined"===typeof b?null:b}};d.gP=new d.fP(location.search);
d.tka=new d.fP(location.hash);d.gP.ca("mode")}
{"use strict";const d=self.D,b=navigator.userAgent;let a={lga:/linux|openbsd|freebsd|netbsd/i.test(b),ofa:/CrOS/.test(b),$D:/trident|iemobile|msie|tizen/i.test(b),Fqa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),iW:/bb10/i.test(b),Ffa:/edge\//i.test(b),qX:/trident/i.test(b),webkit:/webkit/i.test(b),Iga:/safari\//i.test(b),nfa:/chrome\//i.test(b),pfa:/chromium\//i.test(b),tfa:/crosswalk|xwalk/i.test(b),Hra:/nwjs/i.test(b),afa:/amazonwebappplatform/i.test(b),dha:/wv\)/.test(b),bfa:/android/i.test(b),
vga:/nokiabrowser\/[0-9.]+/i.test(b)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Sb=/OPR\/[0-9.]+/.exec(b),Tb=/tizen\s+[0-9.]+/i.exec(b),Ub=/iphone\s+os\s+[0-9_]+/i.exec(b),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Wb=/windows\s+phone\s+[0-9.]+/i.exec(b),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Yb=/chrome\/[0-9.]+/i.exec(b),Zb=/chromium\/[0-9.]+/i.exec(b),$b=/nwjs\/[0-9.]+/i.exec(b),ac=/firefox\/[0-9.]+/i.exec(b),bc=/msie\s+[0-9.]+/i.exec(b),cc=/edge\/[0-9.]+/i.exec(b),
dc=/edg\/[0-9.]+/i.exec(b),ec=/silk\/[0-9.]+/i.exec(b);let e="(unknown)",c="(unknown)",g="(unknown)",l="(unknown)",h="(unknown)",m="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),r=>{e="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{e="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",a.lga,()=>{e="Linux"});u("isChromeOS",a.ofa,()=>{e="Chrome OS"});u("isAndroid",!a.$D&&Lb,r=>{e="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{e="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!a.$D&&Ub,r=>{e="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!a.$D&&Vb,r=>{e="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{e="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{e="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",a.iW,()=>{e="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!a.Ffa&&!a.opera&&Yb,r=>{g="Chrome";h="Chromium";(r=r.split("/")[1])&&(l=r)});u("isOpera",Sb,r=>{g="Opera";h="Chromium";(r=r.split("/")[1])&&(l=r)});u("isChromium",Zb,r=>{h=g="Chromium";(r=r.split("/")[1])&&(l=r)});u("isFirefox",ac,r=>{g="Firefox";h="Gecko";(r=r.split("/")[1])&&(l=r)});u("isInternetExplorer",bc,
r=>{g="Internet Explorer";h="Trident";(r=r.split(" ")[1])&&(l=r)});u("isTrident","Internet Explorer"!==g&&a.qX,()=>{h="Trident";var r=/rv:[0-9.]+/i.exec(b);r&&r.length&&(g="Internet Explorer",(r=r[0].split(":")[1])&&(l=r))});u("isEdge",cc,r=>{h=g="Edge";(r=r.split("/")[1])&&(l=r)});u("isEdgeChromium",dc,r=>{g="Edge";h="Chromium";(r=r.split("/")[1])&&(l=r)});u("isSafari",a.Iga&&!a.vga&&!a.nfa&&!a.pfa&&!a.Eqa&&!a.iW,()=>{g="Safari";h="WebKit";var r=/version\/[0-9.]+/i.exec(b),v=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);r&&r.length&&(r=r[0].split("/")[1])&&(l=r);v&&v.length&&(g="Chrome for iOS",(v=v[0].split("/")[1])&&(l=v));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(l=y))});u("isSilk",ec,r=>{g="Silk";(r=r.split("/")[1])&&(l=r)});u("isCrosswalk",a.tfa,()=>m="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>m="cordova");u("isNWJS",$b,r=>{m="nwjs";g="NW.js";h="Chromium";(r=r.split("/")[1])&&(l=r)});u("isAmazonWebApp",a.afa,()=>m="webapp");
u("isHomeScreenWebApp","nwjs"!==m&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>m="webapp");u("isFalseSafari","Safari"===g&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===m&&a.dha,()=>m="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!a.$D&&a.bfa,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&a.qX,()=>h="Trident");u("isWebkitFallback","(unknown)"===e&&a.webkit,()=>h="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===m,()=>n=!0);p="nwjs"===m;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=l,p=n=!1);d.kd={gr:e,Oka:c,oy:g,Zha:l,kE:parseFloat(l),qy:h,qE:m,Eja:n,CF:!n,Fja:p,Aja:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),vja:"Mac OS X"===e||"iOS"===e,Jja:w,Mja:"Linux"===e}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function g(w,r){return h(w,r)}function l(w,r){return h(w,r,!0)}async function h(w,r,v=!1,
y=!0){const A=await m(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return d.delete(w),h(w,r,v,!1);throw G;}}function m(w){p(w);let r=d.get(w);r instanceof Promise||(r=n(w),d.set(w,r),r.catch(()=>d.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await m(this.name)}set(w,r){p(w);return l(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=e(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return g(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=e(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return l(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=e(v);r=c(r);await Promise.all([r,v])})}clear(){return l(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=e(r);w=c(w);await Promise.all([w,r])})}keys(){return g(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=e(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return g(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAll();r=e(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return g(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.W2=u}"use strict";
{const d=self.W2,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(m){throw Error(`"${m}" is not implemented`);
}function g(m){if("function"===typeof m)throw Error("localforage callback API is not implemented; please use the promise API instead");}function l(m){return"object"===typeof m?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(m)}):Promise.resolve(m)}class h{constructor(m){this.L=m;a.set(this,new Map)}hv(m){if(!e)for(const n of b)if(m&&n.test(m.message)){console.error("Unable to use local storage, reverting to in-memory store: ",m,m.message);e=!0;break}}async aU(m){m=
a.get(this).get(m);m=await l(m);return"undefined"===typeof m?null:m}async wV(m,n){n=await l(n);a.get(this).set(m,n)}rV(m){a.get(this).delete(m)}ET(){a.get(this).clear()}FU(){return Array.from(a.get(this).keys())}async getItem(m,n){g(n);if(e)return await this.aU(m);let p;try{p=await this.L.get(m)}catch(q){this.hv(q);if(e)return await this.aU(m);console.error(`Error reading '${m}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(m,n,p){g(p);"undefined"===
typeof n&&(n=null);if(e)await this.wV(m,n);else try{await this.L.set(m,n)}catch(q){if(this.hv(q),e)await this.wV(m,n);else throw q;}}async removeItem(m,n){g(n);if(e)this.rV(m);else try{await this.L.delete(m)}catch(p){this.hv(p),e?this.rV(m):console.error(`Error removing '${m}' from storage: `,p)}}async clear(m){g(m);if(e)this.ET();else try{await this.L.clear()}catch(n){this.hv(n),e?this.ET():console.error("Error clearing storage: ",n)}}async keys(m){g(m);if(e)return this.FU();m=[];try{m=await this.L.keys()}catch(n){this.hv(n);
if(e)return this.FU();console.error("Error getting storage keys: ",n)}return m}ready(m){g(m);return e?Promise.resolve(!0):this.L.ready()}zL(m){if("object"!==typeof m)throw new TypeError("invalid options object");m=m.name;if("string"!==typeof m)throw new TypeError("invalid store name");m=new d(m);return new h(m)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.D;d.Fb={};d.Fb.qpa=(()=>{try{if("Safari"===d.kd.oy||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.Fb.Bia="undefined"!==typeof HTMLDialogElement;d.Fb.Wla=!!self.requestIdleCallback;d.Fb.ImageBitmap=!!self.createImageBitmap&&"Safari"!==d.kd.oy;d.Fb.ImageBitmapOptions=!1;d.Fb.wz=!1;if(d.Fb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,
32),{premultiplyAlpha:"none"}).then(()=>{d.Fb.ImageBitmapOptions=!0}).catch(()=>{d.Fb.ImageBitmapOptions=!1})}catch(b){d.Fb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(b=>{d.Fb.wz=10===b.width&&10===b.height}).catch(()=>{d.Fb.wz=!1})}catch(b){d.Fb.wz=!1}}d.Fb.dia=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.kd.oy);d.Fb.gla=!(!navigator.permissions||!navigator.permissions.query);d.Fb.eP="undefined"!==typeof Proxy;
d.Fb.Dia="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Fb.ty="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;d.Fb.Nia="function"===typeof fetch;d.Fb.ila=!!(self.isSecureContext&&"Opera"!==d.kd.oy&&navigator.storage&&navigator.storage.persist);d.Fb.Eoa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===d.kd.gr)fc=!1;else{var gc=document.documentElement;fc=
!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}d.Fb.Via=fc;d.Fb.kja="undefined"!==typeof self.ImageDecoder;d.Fb.rpa=!!self.VideoEncoder;d.Fb.Ika=!!self.showOpenFilePicker;d.Fb.Jka=!(!navigator.fonts||!navigator.fonts.query);d.Fb.jpa=!!navigator.userActivation}
{"use strict";const d=self.D;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(d.Ot(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,e){return a.reduce((c,g)=>{0<e&&Array.isArray(g)?Array.prototype.push.apply(c,b(g,e-1)):c.push(g);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.le||(Array.prototype.le=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.le||(String.prototype.le=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>b({usage:e,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.D;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+d.Qy())}}
{"use strict";const d=self.D,b=self.Rf;d.Nm=function(e){return"number"===typeof e};d.ag=function(e){return d.Nm(e)&&isFinite(e)};d.eg=function(e){if(!d.Nm(e))throw new TypeError("expected number");};d.qP=function(){};d.qma=function(e,c,g){if(!d.Nm(e)||isNaN(e)||c>e||g<e)throw new RangeError("number outside of range");};d.cma=function(...e){for(let c of e);};d.dg=function(e){if(!d.ag(e))throw new TypeError("expected finite number");};d.nP=function(){};d.$la=function(...e){for(let c of e);};d.Pi=function(e){return"string"===
typeof e};d.Md=function(e){if(!d.Pi(e))throw new TypeError("expected string");};d.sP=function(){};d.ema=function(...e){for(let c of e);};d.vO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Dma=function(e){if(!d.vO(e))throw new TypeError("expected simple object");};d.Ama=function(e){if(!d.oe(e)&&!d.vO(e))throw new TypeError("expected simple object");};d.uO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.lP=function(e){if(!d.uO(e))throw new TypeError("expected object");
};d.rP=function(){};d.dma=function(...e){for(let c of e);};d.tF=function(e){return d.Km(e,Blob)&&"string"===typeof e.name};d.oma=function(e){if(!d.tF(e))throw new TypeError("expected file");};d.yma=function(){};d.Oo=function(e){return Array.isArray(e)};d.WF=function(e){if(!d.Oo(e))throw new TypeError("expected array");};d.mP=function(){};d.Zla=function(...e){for(let c of e);};d.w2=function(e){return d.Oo(e)?e.length?d.Oo(e[0])?!0:!1:!0:!1};d.Yla=function(e){if(!d.w2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Oo(c))throw new TypeError("expected 2d array");};d.rma=function(){};d.uF=function(e){return"function"===typeof e};d.kk=function(e,c){if(!d.uF(e))throw new TypeError("expected function");if(!d.oe(c)&&e!==c)throw new TypeError("expected same function reference");};d.oP=function(){};d.ama=function(...e){for(let c of e);};d.gma=function(e,...c){if(!d.uF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!d.oe(g)&&
e===g)return;throw new TypeError("expected same function reference");};d.sma=function(...e){if(!d.oe(e))for(let c of e);};d.Km=function(e,c){return e instanceof c};d.rO=function(e,...c){for(let g of c)if(d.Km(e,g))return!0;return!1};d.XF=function(e,c){if(!d.Km(e,c))throw new TypeError("unexpected type");};d.pP=function(){};d.bma=function(e,...c){for(let g of c);};d.hma=function(e,...c){if(!d.rO(e,...c))throw new TypeError("unexpected type");};d.ima=function(e,...c){if(!d.oe(e)&&!d.rO(e,...c))throw new TypeError("unexpected type");
};d.wja=function(e,c){for(let g of e)if(!d.Km(g,c))return!1;return!0};d.xja=function(e){for(let c of e)if(!d.ag(c))return!1;return!0};d.jma=function(e){for(let c of e);};d.tma=function(e){if(!d.oe(e))for(let c of e);};d.kma=function(e){for(let c of e);};d.uma=function(e){if(!d.oe(e))for(let c of e);};d.Bja=function(e,c){return d.oe(e)||!d.Pi(e.nodeName)?!1:!c||d.Dg(e.nodeName,c)};d.lma=function(e,c){if(d.oe(e)||!d.Pi(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Dg(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.vma=function(){};d.wF=function(e,c){return d.oe(e)||!d.Pi(e.tagName)?!1:!c||d.Dg(e.tagName,c)};d.pma=function(e,c){if(d.oe(e)||!d.Pi(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.Dg(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.zma=function(){};d.lO=function(e){return d.wF(e,"img")||d.wF(e,"canvas")||d.wF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.mma=function(e){if(!d.lO(e))throw new TypeError("expected drawable");
};d.wma=function(){};d.mO=function(e){return e instanceof ImageData?!0:d.lO(e)};d.nma=function(e){if(!d.mO(e))throw new TypeError("expected drawable or image data");};d.xma=function(e){if(!d.oe(e)&&!d.mO(e))throw new TypeError("expected drawable or image data");};d.R2=function(e){return"string"===typeof e||e instanceof d.jF||e instanceof d.Dm};d.Ema=function(e){if(!d.R2(e))throw new TypeError("expected string-like");};d.Bma=function(){};d.fma=function(...e){for(let c of e);};d.Cma=function(){throw Error("must be overridden");
};d.Nka=function(){throw Error("not yet implemented");};d.Dja=function(e,...c){if("undefined"===typeof e)return!1;for(let g of c){if("undefined"===typeof e[g])return!1;e=e[g]}return!0};d.oe=function(e){return"undefined"===typeof e||null===e};d.Nha=function(e){let c=e[0].constructor;for(let g of e)if(g.constructor!==c)return!1;return c};d.Oha=function(e,c){for(let g of e)if(!(g instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);d.bka=function(e){return d.Km(e,a)};d.Fma=function(){};
d.ppa=function(e){d.d7(e,a)};d.opa=function(e,...c){if(!d.c7(e,...c))throw new TypeError("unexpected type");};d.c7=function(e,...c){for(const g of c)if(d.zQ(e,g))return!0;return!1};d.d7=function(e,c){if(!d.zQ(e,c))throw new TypeError("unexpected type");};d.zQ=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};b.eg=d.eg;b.qP=d.qP;b.dg=d.dg;b.nP=d.nP;b.Md=d.Md;b.sP=d.sP;b.lP=d.lP;b.rP=d.rP;b.WF=d.WF;b.mP=d.mP;b.kk=d.kk;b.oP=d.oP;b.XF=d.XF;b.pP=d.pP;b.oe=
d.oe}
{"use strict";const d=self.D,b=new Map;d.Ola=function(u,...w){b.has(u)||b.set(u,-1);-1===b.get(u)&&b.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);b.set(u,-1)}))};let a;d.Aoa=function(u){performance.mark(u);a||(a=new Map);a.has(u)||a.set(u,{current:0,total:0,hW:0,tL:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.hW.toPrecision(3)} :: calls => ${this.tL}`}})};d.Hia=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=a.get(u);u.current=w.duration;u.total+=u.current;u.hW=u.total/u.tL;u.tL++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};d.Qy=function(){return Error().stack};d.zia=function(){debugger};d.Wpa=function(u,w){return u&&u instanceof w?u:null};d.$k=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.Nm(u)?"<number>":d.Pi(u)?"<string>":d.Oo(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":d.uF(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.JD=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,c=new Map,g=new WeakMap,l=new WeakMap;d.Iq={};const h=new Set(["then","splice"]);function m(u){console.warn("[Defence] "+
u+" @",d.Qy())}d.Iq.get=function(u,w){w in u||"symbol"===typeof w||h.has(w)||m(`Accessed missing property '${w}' from defended object '${d.$k(u)}', returning undefined`);l.has(u)&&"symbol"!==typeof w&&!h.has(w)&&m(`Accessed property '${w}' on a released object '${d.$k(u)}'\nObject was originally released at: ${l.get(u)})\nCall stack at access: `);return u[w]};d.Iq.set=function(u,w,r){w in u||e.has(u)||m(`Set non-existent property '${w}' to '${r}' on defended object '${d.$k(u)}'`);{var v=d.JD(u[w]);
let y=d.JD(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||m(`Set '${d.JD(u[w])}' property '${w}' to type '${d.JD(r)}' on defended object '${d.$k(u)}'`);l.has(u)&&m(`Set property '${w}' on a released object '${d.$k(u)}'\nObject was originally released at: ${l.get(u)})\nCall stack at access: `);u[w]=r;return!0};d.Iq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${d.$k(u)}'`);};d.Iq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${d.$k(u)}'`);};d.Iq.jqa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.$k(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(w=>d.$k(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
d.ka=class{constructor(){if(d.OL&&d.Fb.eP){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,d.Iq);e.set(u,w);c.set(w,u);g.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};d.vfa=function(u){if(d.OL&&d.Fb.eP&&u instanceof d.ka){if(!c.has(u))return u;let w=c.get(u);c.delete(u);e.delete(w);return u}return d.Qx?Object.seal(u):u};d.C=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),e.clear(),A;}if(d.OL){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);d.qm(v,[...y]);v.length&&console.warn(`[Defence] '${d.$k(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return d.vfa(r)};d.A=function(u){(u=g.get(u))&&l.set(u,d.Qy())};d.kA=function(){let u=g.get(void 0);return u?!!l.get(u):!1};let q=new Map;d.fla=class{constructor(u){this.Ja="";u&&this.start(u)}start(u){this.Ja=u;performance.mark(this.Ja+"-Start")}end(){performance.mark(this.Ja+"-End");performance.measure(this.Ja,
this.Ja+"-Start",this.Ja+"-End")}next(u){this.end();this.Ja=u;performance.mark(this.Ja+"-Start")}}}
{"use strict";const d=self.D,b=2*Math.PI,a=Math.PI/180,e=180/Math.PI;d.wrap=function(g,l,h){g=Math.floor(g);l=Math.floor(l);h=Math.floor(h);return g<l?(g=h-(l-g)%(h-l),g===h?0:g):l+(g-l)%(h-l)};d.oga=function(g,l,h,m){return(g-l)*(m-0)/(h-l)};d.normalize=function(g,l,h){return(g-l)/(h-l)};d.T=function(g,l,h){return g<l?l:g>h?h:g};d.qd=function(g){g%=b;0>g&&(g+=b);return g};d.Ua=function(g){return g*a};d.Fg=function(g){return g*e};d.tm=function(g,l,h,m){return Math.hypot(h-g,m-l)};d.qW=function(g,
l,h,m){g=h-g;l=m-l;return g*g+l*l};d.pm=function(g,l,h,m){return Math.atan2(m-l,h-g)};d.Aq=function(g,l){if(g===l)return 0;g=Math.sin(g)*Math.sin(l)+Math.cos(g)*Math.cos(l);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};d.rL=function(g,l,h){let m=Math.sin(g),n=Math.cos(g),p=Math.sin(l),q=Math.cos(l);return Math.acos(m*p+n*q)>h?0<n*p-m*q?d.qd(g+h):d.qd(g-h):d.qd(l)};d.cf=function(g,l){return 0>=Math.cos(g)*Math.sin(l)-Math.sin(g)*Math.cos(l)};d.qL=function(g,l,h,m=0){let n=d.Aq(g,l);m*=b;return d.cf(l,
g)?d.qd(g+(n+m)*h):d.qd(g-(n+m)*h)};d.dfa=function(g,l,h,m=0){const n=d.Aq(g,l);m*=b;return d.cf(l,g)?d.qd(g+(n+m)*h):d.qd((b-n+m)*h)};d.cfa=function(g,l,h,m=0){const n=d.Aq(g,l);m*=b;return d.cf(l,g)?d.qd((-b+n-m)*h):d.qd(g-(n+m)*h)};d.me=function(g,l,h){return g+h*(l-g)};d.XD=function(g,l,h){return g===l?0:(h-g)/(l-g)};d.Ega=function(g,l,h,m){return d.me(0,m,d.XD(g,l,h))};d.RD=function(g,l,h,m){return d.me(d.me(g,l,m),d.me(l,h,m),m)};d.oW=function(g,l,h,m,n){return d.me(d.RD(g,l,h,n),d.RD(l,h,m,
n),n)};d.nW=function(g,l,h){return(g+l+(g-l)*Math.cos(h*Math.PI))/2};d.Bi=function(g){return 0<g&&0===(g-1&g)};d.PD=function(g){--g;for(let l=1;32>l;l<<=1)g|=g>>l;return g+1};d.usa=function(g,l){return Math.round(g*l)/l};d.oqa=function(g,l){return Math.floor(g*l)/l};d.ay=function(g){return Math.round(1E6*g)/1E6};d.toFixed=function(g,l){g=g.toFixed(l);for(l=g.length-1;0<=l&&"0"===g.charAt(l);--l);0<=l&&"."===g.charAt(l)&&--l;return 0>l?g:g.substr(0,l+1)};d.a4=function(g,l,h){return d.T(g,0,255)|d.T(l,
0,255)<<8|d.T(h,0,255)<<16};d.Lz=function(g,l,h,m){g=d.T(Math.floor(1024*g),-8192,8191);l=d.T(Math.floor(1024*l),-8192,8191);h=d.T(Math.floor(1024*h),-8192,8191);m=d.T(Math.floor(1023*m),0,1023);0>g&&(g+=16384);0>l&&(l+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*l+1024*h+m)};d.$O=function(g,l,h){return d.Lz(g,l,h,1)};d.YE=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};d.PE=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};d.FE=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};d.K_=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};d.Ufa=function(g,l){g=Math.floor(g);for(l=Math.floor(l);0!==l;){let h=l;l=g%l;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Hqa=function(g,l){g=Math.floor(g);l=Math.floor(l);if(g===l)return[1,1];for(var h of c){let m=
g/h[0]*h[1];if(1>Math.abs(l-m))return h.slice(0);m=g/h[1]*h[0];if(1>Math.abs(l-m))return[h[1],h[0]]}h=d.Ufa(g,l);return[g/h,l/h]};d.Csa=function(g,l,h,m,n,p,q,u){var w=Math.min(g,h),r=Math.max(n,q);if(Math.max(g,h)<Math.min(n,q)||w>r)return!1;w=Math.min(l,m);r=Math.max(p,u);if(Math.max(l,m)<Math.min(p,u)||w>r)return!1;w=n-g+q-h;r=p-l+u-m;g=h-g;l=m-l;n=q-n;p=u-p;u=Math.abs(l*n-p*g);return Math.abs(n*r-p*w)>u?!1:Math.abs(g*r-l*w)<=u};d.xm=function(g,l,h,m,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-g+v-h;u=r-l+y-m;g=h-g;l=m-l;w=v-w;r=y-r;y=Math.abs(l*w-r*g);return Math.abs(w*u-r*q)>y?!1:Math.abs(g*u-l*q)<=y};d.SD=function(g,l,h,m,n){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(l,m),w=Math.max(l,m),r=n.Gb,v=n.Hb,y=n.vc,A=n.wc,G=n.pc,z=n.qc,F=n.nc;n=n.oc;return d.xm(g,l,h,m,p,q,u,w,r,v,y,A)||d.xm(g,l,h,m,p,q,u,w,y,A,G,z)||d.xm(g,l,h,m,p,q,u,w,G,z,F,n)||d.xm(g,l,h,m,p,q,u,w,F,n,r,v)};d.Bsa=function(g,l,h,m,n){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(l,m),w=Math.max(l,m);let r=0;for(let v=n.length-4;r<=v;r+=2)if(d.xm(g,l,h,m,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return d.xm(g,l,h,m,p,q,u,w,n[r],n[r+1],n[0],n[1])};d.Dga=function(g,l,h,m,n,p,q,u){h-=g;p=u-p;const w=h*p-(m-l)*(q-n);if(0===w)return 2;m=((l-m)*(q-g)+h*(u-l))/w;return 0<m&&1.000001>m?(p*(q-g)+(n-q)*(u-l))/w:2};d.Zx=function(g,l,h,m,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return d.Dga(g,l,h,m,n-r,p-w,q+r,u+w)};d.fga=function(g,l,h,m,n,p,q,u){n-=
h;p-=m;q-=h;u-=m;g-=h;h=l-m;l=n*n+p*p;m=n*q+p*u;n=n*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(l*p-m*m);p=(p*n-m*q)*u;n=(l*q-m*n)*u;return 0<=p&&0<=n&&1>=p+n};d.aha=function(g,l,h,m,n,p,q,u){n-=h;p-=m;q-=h;u-=m;g-=h;const w=l-m;l=n*n+p*p;m=n*q+p*u;h=q*q+u*u;n=g*n+w*p;p=g*q+w*u;q=l*h-m*m;u=(h*n-m*p)/q;n=(l*p-m*n)/q;return[1-u-n,u,n]};d.$ga=function(g,l,h,m,n,p,q,u,w){return[g*m+l*p+h*u,g*n+l*q+h*w]}}
{"use strict";const d=self.D;let b=null,a="";if("undefined"!==typeof document){b=document;const m=document.querySelector("base");if(a=m&&m.hasAttribute("href")?m.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}d.Wia=function(){return a};d.GE=function(){if(!b)return"";const m=b.location;return d.N0(m.origin+m.pathname)+a};d.N0=function(m){if(!m.length||m.endsWith("/")||m.endsWith("\\"))return m;const n=Math.max(m.lastIndexOf("/"),m.lastIndexOf("\\"));return-1===
n?"":m.substr(0,n+1)};d.$ia=function(m){if(!m.length)return m;if(m.endsWith("/")||m.endsWith("\\"))return"";const n=Math.max(m.lastIndexOf("/"),m.lastIndexOf("\\"));return-1===n?m:m.substr(n+1)};d.j0=function(m){let n=m.lastIndexOf(".");return 1>n?"":m.substr(n)};d.Yy=function(m){let n=m.lastIndexOf(".");return 1>n?m:m.substr(0,n)};d.w3=function(m){return m.replace(/\\/g,"/")};d.Gja=function(m,n){return n===(m?d.j0(m).slice(1):"")};d.Oia=function(m,n){let p,q;d.tF(m)&&(p=d.Yy(m.name));d.Pi(m)&&(p=
d.Yy(m));d.tF(n)&&(q=d.Yy(n.name));d.Pi(n)&&(q=d.Yy(n));return p===q};d.ela=function(m){m=d.w3(m);let n=/^\w:\//.exec(m);n?(n=n[0],m=m.slice(3),"/"!==m[0]&&(m="/"+m)):n="";m=m.replace(/\/{2,}/g,"/");1<m.length&&"/"===m.slice(-1)&&(m=m.slice(0,-1));var p=m.lastIndexOf("/")+1;let q="",u=m,w="";0<p&&(q=m.slice(0,p),u=m.slice(p));m=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),m=u.slice(0,-w.length));return{dir:q,Npa:u,name:m,root:n,ext:w,Aqa:n+q+u}};d.GG=function(m,n){return new Promise(p=>{self.setTimeout(p,
m,n)})};d.Lsa=function(m){try{m()}catch(n){d.Qx&&console.warn("Swallowed exception: ",n)}};d.Era=function(){};d.Dg=function(m,n){return"string"!==typeof m||"string"!==typeof n?!1:m===n||m.normalize().toLowerCase()===n.normalize().toLowerCase()};d.kqa=function(m,n){return"string"!==typeof m||"string"!==typeof n?!1:m===n?!0:m.normalize()===n.normalize()};d.bha=function(m,n){var p=0;m[p++]=n[0];m[p++]=n[1];m[p++]=n[2];m[p++]=n[3];m[p++]=n[4];m[p++]=n[5];m[p++]=n[6];m[p++]=n[7];m[p++]=n[8];m[p++]=n[9];
m[p++]=n[10];m[p++]=n[11];m[p++]=n[12];m[p++]=n[13];m[p++]=n[14];m[p]=n[15]};d.df=function(m,n){m.length=n};d.G=function(m){m&&0!==m.length&&d.df(m,0)};d.qfa=function(m){if(m){for(let n=0;n<m.length;n++)d.df(m[n],0);d.df(m,0)}};d.FD=function(m,n,p){n|=0;var q=m.length;if(!(n<=q))for(;q<n;++q)m.push(p)};d.XW=function(m){var n=4;const p=m.length;n<p?d.df(m,n):n>p&&d.FD(m,n,"0")};d.Vc=function(m,n){d.G(m);d.qm(m,n)};d.qm=function(m,n){if(1E4>n.length)m.push(...n);else for(let p=0,q=n.length;p<q;++p)m.push(n[p])};
d.hfa=function(m,n){n=Math.floor(n);if(!(0>n||n>=m.length)){for(var p=m.length-1;n<p;++n)m[n]=m[n+1];d.df(m,p)}};d.Zk=function(m,n){n=m.indexOf(n);0<=n&&m.splice(n,1)};d.Kpa=function(m,n){let p=m.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(m[q]!==n[q])return!1;return!0};d.gfa=function(m,n){let p=[],q=0;for(let u=0,w=m.length;u<w;++u){let r=m[u];n(r)?p.push(r):(m[q]=r,++q)}d.df(m,q);return p};d.Cg=function(m,n){const p=m.length;let q=0;for(let u=0,w=m.length;u<w;++u){let r=m[u];n.has(r)||
(m[q++]=r)}d.df(m,q);return p-q};d.aga=function(m,n){return m!==Math.floor(m)?!1:0<=m&&m<n.length};d.$sa=function(m,n){if(!d.aga(m,n))throw new RangeError("array index out of bounds");};d.yL=function(m){return m.slice()};d.wfa=function(m,n){let p=[];for(let q of m)if(d.uO(q)){m=n(q);if(!m)throw Error("missing clone");if(m.constructor!==q.constructor)throw Error("object is not a clone");p.push(m)}else d.Oo(q)?p.push(d.wfa(q,n)):p.push(q);return p};d.Xpa=function(m){let n=[];for(let p of m)n.push(p.slice());
return n};d.Bra=function(m,n){return new Set([...m,...n])};d.Cra=function(m,n){for(const p of n)m.add(p);return m};d.first=function(m){for(let n of m)return n;return null};d.xor=function(m,n){return!m!==!n};d.compare=function(m,n,p){switch(n){case 0:return m===p;case 1:return m!==p;case 2:return m<p;case 3:return m<=p;case 4:return m>p;case 5:return m>=p;default:return!1}};d.Pqa=function(m){for(let n in m)if(m.hasOwnProperty(n))return!0;return!1};d.q4=function(m,n){return m.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=m.length;v<y;++v)u.push(void 0),m[v].then(A=>{r||(u[v]=A,++w,w===m.length?p(u):n(w,m.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let e=[];d.vha=function(m){e.push(m)};d.Yia=function(){let m=0;for(let n of e){let p=n();m+=p}return Math.floor(m)};let c=1;const g=new Map,l=new MessageChannel;l.port2.onmessage=function(m){m=m.data;const n=g.get(m);g.delete(m);n&&n(performance.now())};d.VF=function(m){const n=c++;g.set(n,m);l.port1.postMessage(n);
return n};d.uY=function(m){g.delete(m)};d.j4=d.VF;d.a7=function(){return new Promise(m=>d.j4(m))};const h=new Set;d.Xla=function(m){const n=self.requestAnimationFrame(async p=>{await d.a7();h.has(n)&&(h.delete(n),m(p))});h.add(n);return n};d.bia=function(m){h.has(m)&&(self.cancelAnimationFrame(m),h.delete(m))}}
{"use strict";const d=self.D;d.qF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.DF=function(b){return!d.qF(b)};d.I6=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.Ny=function(b){return fetch(b,void 0).then(a=>{d.I6(a);return a})};d.Qt=function(b){return d.Ny(b).then(a=>a.text())};d.kN=function(b){return d.Ny(b).then(a=>a.json())};d.dl=function(b){return d.Ny(b).then(a=>a.blob())};d.Pt=function(b){return d.Ny(b).then(a=>
a.arrayBuffer())};d.C_=function(b){return new Promise((a,e)=>{const c=new Image;c.onload=()=>a(c);c.onerror=g=>e(g);c.src=b})};d.jY=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(b)})};d.yM=function(b){return"function"===typeof b.text?b.text():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsText(b)})};d.Wha=function(b){return d.yM(b).then(a=>
JSON.parse(a))};d.kY=async function(b){b=URL.createObjectURL(b);try{const a=await d.C_(b);URL.revokeObjectURL(b);b="";return a}finally{b&&URL.revokeObjectURL(b)}};d.Ch=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=b;e.height=a;return e}return new OffscreenCanvas(b,a)};d.ty=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.T(e,0,1);return b.toBlob?new Promise(c=>b.toBlob(c,a,e)):b.convertToBlob?
b.convertToBlob({type:a,quality:e}):d.po(()=>d.HM(b,a,e))};d.HM=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.T(e,0,1);return d.ZY(b.toDataURL(a,e))};d.ZY=function(b){b=d.b4(b);return d.iY(b.data,b.pga)};d.b4=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var e=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=a[2];e="base64"===a[1]||"base64"===c?atob(e):decodeURIComponent(e);
return{pga:b,data:e}};d.iY=function(b,a){var e=b.length;let c=e>>2,g=new Uint8Array(e),l=new Uint32Array(g.buffer,0,c),h,m;for(m=h=0;h<c;++h)l[h]=b.charCodeAt(m++)|b.charCodeAt(m++)<<8|b.charCodeAt(m++)<<16|b.charCodeAt(m++)<<24;for(e&=3;e--;)g[m]=b.charCodeAt(m),++m;return a?new Blob([g],{type:a}):new Blob([g])};d.eN=function(b,a,e){const c=d.Ch(b.width,b.height);c.getContext("2d").drawImage(b,0,0);return d.ty(c,a,e)};d.jja=function(b,a,e){const c=d.Ch(b.width,b.height);c.getContext("2d").putImageData(b,
0,0);return d.HM(c,a,e)};d.ija=function(b,a,e){if(d.Fb.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(c=>d.eN(c,a,e));if(d.Fb.ImageBitmap)return createImageBitmap(b).then(c=>d.eN(c,a,e));{const c=d.Ch(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.ty(c,a,e)}};d.PY=function(b,a){b.clear();for(const e of a)b.add(e)};d.wka=function(b){const a=Object.create(null);for(const [e,c]of b.entries())a[e]=c;return a};d.Pka=function(b,a){a.clear();for(const [e,
c]of Object.entries(b))a.set(e,c)};d.DG=function e(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>e(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [g,l]of Object.entries(a))c[g]=e(l);return c}}return a};d.CE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(g=>c(g)));if("map"===e._c3type_)return new Map(e.data.map(g=>[g[0],c(g[1])]));
{const g=Object.create(null);for(const [l,h]of Object.entries(e))g[l]=c(h);return g}}return e};d.nY=function(e){let c="",g=!1;for(const l of e)"-"===l?g=!0:g?(c+=l.toUpperCase(),g=!1):c+=l;return c};d.Mm=function(e){return"object"===typeof e&&"function"===typeof e.next};d.n3=function(e){const c=[];for(let g=0;g<e;++g)c.push(0);return c}}
{"use strict";const d=self.D;d.eb=class{constructor(b,a,e,c){this.$a=this.ab=this.Ia=this.Xa=0;b instanceof d.eb?this.set(b):this.mo(b||0,a||0,e||0,c||0)}Ht(b,a,e){this.Xa=+b;this.Ia=+a;this.ab=+e;this.T()}mo(b,a,e,c){this.Xa=+b;this.Ia=+a;this.ab=+e;this.$a=+c;this.T()}set(b){this.Xa=b.Xa;this.Ia=b.Ia;this.ab=b.ab;this.$a=b.$a;return this}pa(b){return this.set(b)}add(b){this.Xa+=b.Xa;this.Ia+=b.Ia;this.ab+=b.ab;this.$a+=b.$a;this.T()}cW(b,a,e){this.Xa+=+b;this.Ia+=+a;this.ab+=+e;this.$a+=0;this.T()}Hj(b){this.Xa=
b.Xa;this.Ia=b.Ia;this.ab=b.ab}cX(b){this.Xa=d.T(+b,0,1)}Mga(b){this.Ia=d.T(+b,0,1)}Jga(b){this.ab=d.T(+b,0,1)}Ft(b){this.$a=d.T(+b,0,1)}clone(){return d.C(d.eb,this.Xa,this.Ia,this.ab,this.$a)}toArray(){return[this.Xa,this.Ia,this.ab,this.$a]}Ah(b,a){b[a++]=this.Xa;b[a++]=this.Ia;b[a++]=this.ab;b[a]=this.$a}rd(b){return this.Xa===b.Xa&&this.Ia===b.Ia&&this.ab===b.ab&&this.$a===b.$a}vm(b){return this.Xa===b.Xa&&this.Ia===b.Ia&&this.ab===b.ab}ED(b,a,e,c){return this.Xa===b&&this.Ia===a&&this.ab===
e&&this.$a===c}multiply(b){this.Xa*=b.Xa;this.Ia*=b.Ia;this.ab*=b.ab;this.$a*=b.$a}cM(){this.Xa*=this.$a;this.Ia*=this.$a;this.ab*=this.$a}T(){this.Xa=d.T(this.Xa,0,1);this.Ia=d.T(this.Ia,0,1);this.ab=d.T(this.ab,0,1);this.$a=d.T(this.$a,0,1);return this}Gt(b){this.Xa=d.YE(b);this.Ia=d.PE(b);this.ab=d.FE(b);this.$a=d.K_(b)}Pfa(){return`rgb(${100*(d.ag(void 0)?NaN:this.Xa)}%, ${100*(d.ag(void 0)?NaN:this.Ia)}%, ${100*(d.ag(void 0)?NaN:this.ab)}%)`}PW(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var e=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.cX(b);isFinite(e)&&this.Mga(e);isFinite(a)&&this.Jga(a);this.Ft(1)}}}toJSON(){return[this.Xa,this.Ia,this.ab,this.$a]}ym(b){!Array.isArray(b)||3>b.length||(this.Xa=b[0],this.Ia=b[1],this.ab=b[2],this.$a=4<=b.length?b[3]:1)}set r(b){this.cX(b)}get r(){return this.Xa}set zq(b){this.Ft(b)}get zq(){return this.$a}static wE(b,a){return d.T(Math.max(b,
a)-Math.min(b,a),0,1)}};d.eb.vpa=Object.freeze(d.C(d.eb,1,1,1,1));d.eb.Vha=Object.freeze(d.C(d.eb,0,0,0,1));d.eb.Woa=Object.freeze(d.C(d.eb,0,0,0,0))}
{"use strict";const d=self.D;d.Ru=class{constructor(b,a){this.ba=this.ja=0;b instanceof d.Ru?this.pa(b):this.set(b||0,a||0)}set(b,a){this.ja=+b;this.ba=+a}pa(b){this.ja=b.ja;this.ba=b.ba}rd(b){return this.ja===b.ja&&this.ba===b.ba}toArray(){return[this.ja,this.ba]}Ah(b,a){b[a++]=this.ja;b[a]=this.ba}offset(b,a){this.ja+=+b;this.ba+=+a}scale(b,a){this.ja*=b;this.ba*=a}um(b,a){this.ja/=b;this.ba/=a}round(){this.ja=Math.round(this.ja);this.ba=Math.round(this.ba)}floor(){this.ja=Math.floor(this.ja);this.ba=
Math.floor(this.ba)}ceil(){this.ja=Math.ceil(this.ja);this.ba=Math.ceil(this.ba)}angle(){return d.pm(0,0,this.ja,this.ba)}kga(){return this.ja*this.ja+this.ba*this.ba}length(){return Math.sqrt(this.kga())}Hga(b,a){const e=this.ja*a-this.ba*b;this.ba=this.ba*a+this.ja*b;this.ja=e}rotate(b){0!==b&&this.Hga(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.ja+=Math.cos(b)*a,this.ba+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.ja/=b,this.ba/=b)}T(b,a){this.ja=d.T(this.ja,b,a);this.ba=
d.T(this.ba,b,a)}}}
{"use strict";const d=self.D;d.Rect=class{constructor(b,a,e,c){this.W=this.aa=this.O=this.R=0;b instanceof d.Rect?this.pa(b):this.set(b||0,a||0,e||0,c||0)}set(b,a,e,c){this.R=+b;this.O=+a;this.aa=+e;this.W=+c}zh(b,a,e,c){b=+b;a=+a;this.R=b;this.O=a;this.aa=b+ +e;this.W=a+ +c}pa(b){this.R=+b.R;this.O=+b.O;this.aa=+b.aa;this.W=+b.W}clone(){return new d.Rect(this.R,this.O,this.aa,this.W)}rd(b){return this.R===b.R&&this.O===b.O&&this.aa===b.aa&&this.W===b.W}Gfa(b,a,e,c){return this.R===b&&this.O===a&&
this.width()===e&&this.height()===c}toArray(){return[this.R,this.O,this.aa,this.W]}Vga(){new DOMRect(this.R,this.O,this.width(),this.height())}Ah(b,a){b[a++]=this.R;b[a++]=this.O;b[a++]=this.aa;b[a]=this.W}fha(b,a){b[a++]=this.R;b[a++]=this.O;b[a++]=this.aa;b[a++]=this.O;b[a++]=this.aa;b[a++]=this.W;b[a++]=this.R;b[a]=this.W}width(){return this.aa-this.R}height(){return this.W-this.O}Dt(){return(this.R+this.aa)/2}Et(){return(this.O+this.W)/2}offset(b,a){b=+b;a=+a;this.R+=b;this.O+=a;this.aa+=b;this.W+=
a}offsetLeft(b){this.R+=+b}offsetTop(b){this.O+=+b}xga(b){this.aa+=+b}wga(b){this.W+=+b}KD(b,a){b=+b;a=+a;this.R-=b;this.O-=a;this.aa+=b;this.W+=a}multiply(b,a){this.R*=b;this.O*=a;this.aa*=b;this.W*=a}um(b,a){this.R/=b;this.O/=a;this.aa/=b;this.W/=a}io(){this.O=1-this.O;this.W=1-this.W}Sga(){const b=this.R;this.R=this.aa;this.aa=b}Tga(){const b=this.O;this.O=this.W;this.W=b}round(){this.R=Math.round(this.R);this.O=Math.round(this.O);this.aa=Math.round(this.aa);this.W=Math.round(this.W)}YW(){this.R=
Math.floor(this.R);this.O=Math.floor(this.O);this.aa=Math.ceil(this.aa);this.W=Math.ceil(this.W)}floor(){this.R=Math.floor(this.R);this.O=Math.floor(this.O);this.aa=Math.floor(this.aa);this.W=Math.floor(this.W)}ceil(){this.R=Math.ceil(this.R);this.O=Math.ceil(this.O);this.aa=Math.ceil(this.aa);this.W=Math.ceil(this.W)}T(b,a,e,c){this.R<b&&(this.R=+b);this.O<a&&(this.O=+a);this.aa>e&&(this.aa=+e);this.W>c&&(this.W=+c)}normalize(){this.R>this.aa&&this.Sga();this.O>this.W&&this.Tga()}LD(b){return!(b.aa<
this.R||b.W<this.O||b.R>this.aa||b.O>this.W)}$fa(b,a,e){return!(b.aa+a<this.R||b.W+e<this.O||b.R+a>this.aa||b.O+e>this.W)}Mf(b,a){return b>=this.R&&b<=this.aa&&a>=this.O&&a<=this.W}}}
{"use strict";const d=self.D;d.Cd=class{constructor(b,a,e,c,g,l,h,m){this.oc=this.nc=this.qc=this.pc=this.wc=this.vc=this.Hb=this.Gb=0;b instanceof d.Cd?this.pa(b):this.set(b||0,a||0,e||0,c||0,g||0,l||0,h||0,m||0)}set(b,a,e,c,g,l,h,m){this.Gb=+b;this.Hb=+a;this.vc=+e;this.wc=+c;this.pc=+g;this.qc=+l;this.nc=+h;this.oc=+m}dX(b,a,e,c){this.set(b,a,e,a,e,c,b,c)}pa(b){this.Gb=b.Gb;this.Hb=b.Hb;this.vc=b.vc;this.wc=b.wc;this.pc=b.pc;this.qc=b.qc;this.nc=b.nc;this.oc=b.oc}rd(b){return this.Gb===b.Gb&&this.Hb===
b.Hb&&this.vc===b.vc&&this.wc===b.wc&&this.pc===b.pc&&this.qc===b.qc&&this.nc===b.nc&&this.oc===b.oc}toArray(){return[this.Gb,this.Hb,this.vc,this.wc,this.pc,this.qc,this.nc,this.oc]}Ah(b,a){b[a++]=this.Gb;b[a++]=this.Hb;b[a++]=this.vc;b[a++]=this.wc;b[a++]=this.pc;b[a++]=this.qc;b[a++]=this.nc;b[a]=this.oc}gha(b,a,e){b[a++]=this.Gb;b[a++]=this.Hb;b[a++]=e;b[a++]=this.vc;b[a++]=this.wc;b[a++]=e;b[a++]=this.pc;b[a++]=this.qc;b[a++]=e;b[a++]=this.nc;b[a++]=this.oc;b[a]=e}offset(b,a){b=+b;a=+a;this.Gb+=
b;this.Hb+=a;this.vc+=b;this.wc+=a;this.pc+=b;this.qc+=a;this.nc+=b;this.oc+=a}round(){this.Gb=Math.round(this.Gb);this.Hb=Math.round(this.Hb);this.vc=Math.round(this.vc);this.wc=Math.round(this.wc);this.pc=Math.round(this.pc);this.qc=Math.round(this.qc);this.nc=Math.round(this.nc);this.oc=Math.round(this.oc)}floor(){this.Gb=Math.floor(this.Gb);this.Hb=Math.floor(this.Hb);this.vc=Math.floor(this.vc);this.wc=Math.floor(this.wc);this.pc=Math.floor(this.pc);this.qc=Math.floor(this.qc);this.nc=Math.floor(this.nc);
this.oc=Math.floor(this.oc)}ceil(){this.Gb=Math.ceil(this.Gb);this.Hb=Math.ceil(this.Hb);this.vc=Math.ceil(this.vc);this.wc=Math.ceil(this.wc);this.pc=Math.ceil(this.pc);this.qc=Math.ceil(this.qc);this.nc=Math.ceil(this.nc);this.oc=Math.ceil(this.oc)}Mj(b){this.Gb=b.R;this.Hb=b.O;this.vc=b.aa;this.wc=b.O;this.pc=b.aa;this.qc=b.W;this.nc=b.R;this.oc=b.W}Lga(b,a){0===a?this.Mj(b):this.bX(b,Math.sin(a),Math.cos(a))}bX(b,a,e){const c=b.R*a,g=b.O*a,l=b.aa*a;a*=b.W;const h=b.R*e,m=b.O*e,n=b.aa*e;b=b.W*
e;this.Gb=h-g;this.Hb=m+c;this.vc=n-g;this.wc=m+l;this.pc=n-a;this.qc=b+l;this.nc=h-a;this.oc=b+c}HL(b){b.set(Math.min(this.Gb,this.vc,this.pc,this.nc),Math.min(this.Hb,this.wc,this.qc,this.oc),Math.max(this.Gb,this.vc,this.pc,this.nc),Math.max(this.Hb,this.wc,this.qc,this.oc))}Mf(b,a){var e=this.vc-this.Gb,c=this.wc-this.Hb;const g=this.pc-this.Gb,l=this.qc-this.Hb;b-=this.Gb;a-=this.Hb;var h=e*e+c*c;let m=e*g+c*l;c=e*b+c*a;const n=g*g+l*l,p=g*b+l*a;let q=1/(h*n-m*m);e=(n*c-m*p)*q;h=(h*p-m*c)*q;
if(0<=e&&0<h&&1>e+h)return!0;e=this.nc-this.Gb;c=this.oc-this.Hb;h=e*e+c*c;m=e*g+c*l;c=e*b+c*a;q=1/(h*n-m*m);e=(n*c-m*p)*q;h=(h*p-m*c)*q;return 0<=e&&0<h&&1>e+h}Dt(){return(this.Gb+this.vc+this.pc+this.nc)/4}Et(){return(this.Hb+this.wc+this.qc+this.oc)/4}KL(b){var a=b.Dt(),e=b.Et();if(this.Mf(a,e))return!0;a=this.Dt();e=this.Et();if(b.Mf(a,e))return!0;a=this.Gb;e=this.Hb;const c=this.vc,g=this.wc,l=this.pc,h=this.qc,m=this.nc,n=this.oc;return d.SD(a,e,c,g,b)||d.SD(c,g,l,h,b)||d.SD(l,h,m,n,b)||d.SD(m,
n,a,e,b)}Gga(){const b=this.Gb,a=this.Hb;this.Gb=this.vc;this.Hb=this.wc;this.vc=this.pc;this.wc=this.qc;this.pc=this.nc;this.qc=this.oc;this.nc=b;this.oc=a}}}
{"use strict";const d=self.D,b=[0,0,1,0,1,1,0,1],a=d.C(d.Cd);d.vo=class extends d.ka{constructor(e,c=!0){super();e||(e=b);this.Sd=Float64Array.from(e);this.YA=new d.Rect;this.Sp=!0;this.fh=c}A(){}QW(){return this.Sd.length/2}TD(e){this.Sd.length===e.length?this.Sd.set(e):this.Sd=Float64Array.from(e);this.Sp=!0}Kga(){this.TD(b)}pa(e){this.TD(e.Sd)}jM(){this.Sp=!0}Wea(){if(this.Sp){var e=this.Sd,c=e[0],g=e[1],l=c,h=g;for(let m=0,n=e.length;m<n;m+=2){const p=e[m],q=e[m+1];p<c&&(c=p);p>l&&(l=p);q<g&&
(g=q);q>h&&(h=q)}this.YA.set(c,g,l,h);this.Sp=!1}}Mj(e){let c=this.Sd;8!==c.length&&(this.Sd=c=new Float64Array(8));c[0]=e.R-NaN;c[1]=e.O-NaN;c[2]=e.aa-NaN;c[3]=e.O-NaN;c[4]=e.aa-NaN;c[5]=e.W-NaN;c[6]=e.R-NaN;c[7]=e.W-NaN;this.YA.pa(e);this.YA.offset(NaN,NaN);this.Sp=!1}kM(e,c,g){a.pa(e);a.offset(c,g);this.TD(a.toArray());this.Sp=!0}transform(e,c,g){let l=0,h=1;0!==g&&(l=Math.sin(g),h=Math.cos(g));this.qM(e,c,l,h)}qM(e,c,g,l){const h=this.Sd;for(let m=0,n=h.length;m<n;m+=2){const p=m+1,q=h[m]*e,u=
h[p]*c;h[m]=q*l-u*g;h[p]=u*l+q*g}this.Sp=!0}offset(e,c){const g=this.Sd;for(let l=0,h=g.length;l<h;l+=2)g[l]+=e,g[l+1]+=c}Mf(e,c){const g=this.Sd;if(e===g[0]&&c===g[1])return!0;this.Wea();var l=this.YA;const h=l.R-110,m=l.O-101,n=l.aa+131;l=l.W+120;let p,q,u,w,r,v,y,A;h<e?(p=h,u=e):(p=e,u=h);m<c?(q=m,w=c):(q=c,w=m);n<e?(r=n,y=e):(r=e,y=n);l<c?(v=l,A=c):(v=c,A=l);let G=0,z=0;for(let H=0,J=g.length;H<J;H+=2){var F=(H+2)%J;const L=g[H],P=g[H+1],R=g[F];F=g[F+1];d.xm(h,m,e,c,p,u,q,w,L,P,R,F)&&++G;d.xm(n,
l,e,c,r,y,v,A,L,P,R,F)&&++z}return 1===G%2||1===z%2}Px(e,c,g){const l=e.Sd,h=this.Sd;if(this.Mf(l[0]+c,l[1]+g)||e.Mf(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var m=(n+2)%p;e=h[n];const q=h[n+1],u=h[m];m=h[m+1];let w,r,v,y;e<u?(w=e,v=u):(w=u,v=e);q<m?(r=q,y=m):(r=m,y=q);for(let A=0,G=l.length;A<G;A+=2){const z=(A+2)%G;if(d.xm(e,q,u,m,w,v,r,y,l[A]+c,l[A+1]+g,l[z]+c,l[z+1]+g))return!0}}return!1}$f(){return this.fh}}}
{"use strict";const d=self.D;d.uu=class extends d.ka{constructor(b){super();this.Dk=new Map;if(b)for(const [a,e,c]of b)this.Set(a,e,c)}A(){this.yd();this.Dk=null}yd(){const b=this.Dk;for(const a of b.values())a.clear();b.clear()}Set(b,a,e){const c=this.Dk;let g=c.get(b);g||(g=new Map,c.set(b,g));g.set(a,e)}ca(b,a){return(b=this.Dk.get(b))?b.get(a):b}rz(b){return(b=this.Dk.get(b))?b.has(void 0):!1}wo(b,a){const e=this.Dk,c=e.get(b);c&&c.delete(a)&&0===c.size&&e.delete(b)}cN(b){const a=this.Dk,e=a.get(b);
e&&(e.clear(),a.delete(b));for(const [c,g]of a.entries())g.delete(b)&&0===g.size&&a.delete(c)}Im(){let b=0;for(const a of this.Dk.values())b+=a.size;return b}*values(){for(const b of this.Dk.values())yield*b.values()}*entries(){for(const [b,a]of this.Dk.entries())for(const [e,c]of a.entries())yield[b,e,c]}}}
{"use strict";const d=self.D;d.hE=class extends d.ka{constructor(){super();this.Kn=new Set;this.VA=[];this.Lw=!1}A(){this.yd()}yd(){this.Kn.clear();d.G(this.VA);this.Lw=!1}Kc(b){this.Kn.has(b)||(this.Kn.add(b),this.Lw||this.VA.push(b))}rz(b){return this.Kn.has(b)}wo(b){this.Kn.delete(b)&&(this.Lw=!0)}Im(){return this.Kn.size}Ro(){return 0===this.Kn.size}EE(){this.Lw&&(this.Raa(),this.Lw=!1);return this.VA}Raa(){const b=this.VA;d.G(b);for(const a of this.Kn)b.push(a)}}}
{"use strict";const d=new Map,b=new Map,a=new Map,e=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.Nt=class l{constructor(){}static I2(h){this.PG();return[...b.keys()].includes(h)}static D9(h){const m=g.get(h);if(m)return d.get(m);if(l.I2(h))return d.get(h);if(c.has(h))return c.get(h)}static Go(h){this.PG();const m=l.D9(h);return m?m:e.get(h)}static PG(){0===d.size&&(this.Ib("default",()=>{}),this.Ib("noease",this.v3),this.Ib("easeinsine",this.d_),this.Ib("easeoutsine",
this.m_),this.Ib("easeinoutsine",this.$Z),this.Ib("easeinelastic",this.PZ),this.Ib("easeoutelastic",this.h_),this.Ib("easeinoutelastic",this.VZ),this.Ib("easeinback",this.MZ),this.Ib("easeoutback",this.e_),this.Ib("easeinoutback",this.RZ),this.Ib("easeinbounce",this.fN),this.Ib("easeoutbounce",this.yE),this.Ib("easeinoutbounce",this.SZ),this.Ib("easeincubic",this.OZ),this.Ib("easeoutcubic",this.g_),this.Ib("easeinoutcubic",this.UZ),this.Ib("easeinquad",this.a_),this.Ib("easeoutquad",this.j_),this.Ib("easeinoutquad",
this.XZ),this.Ib("easeinquart",this.b_),this.Ib("easeoutquart",this.k_),this.Ib("easeinoutquart",this.YZ),this.Ib("easeinquint",this.c_),this.Ib("easeoutquint",this.l_),this.Ib("easeinoutquint",this.ZZ),this.Ib("easeincirc",this.NZ),this.Ib("easeoutcirc",this.f_),this.Ib("easeinoutcirc",this.TZ),this.Ib("easeinexpo",this.QZ),this.Ib("easeoutexpo",this.i_),this.Ib("easeinoutexpo",this.WZ),this.HQ("cubicbezier",this.LZ),this.HQ("spline",this.n_))}static Ib(h,m){l.IG(h,m,"predefined")}static HQ(h,m){l.IG(h,
m,"private")}static FX(h,m){this.PG();l.IG(h,m,"custom",void 0)}static IG(h,m,n,p){switch(n){case "predefined":d.set(h,m);b.set(h,m);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(h,m)):e.set(h,m);break;case "private":d.set(h,m);c.set(h,m);break;default:throw Error("unexpected ease mode");}}static v3(h,m,n,p){return n*h/p+m}static a_(h,m,n,p){return n*(h/=p)*h+m}static j_(h,m,n,p){return-n*(h/=p)*(h-2)+m}static XZ(h,m,n,p){return 1>(h/=p/2)?n/2*h*h+m:-n/2*(--h*(h-2)-1)+m}static OZ(h,
m,n,p){return n*(h/=p)*h*h+m}static g_(h,m,n,p){return n*((h=h/p-1)*h*h+1)+m}static UZ(h,m,n,p){return 1>(h/=p/2)?n/2*h*h*h+m:n/2*((h-=2)*h*h+2)+m}static b_(h,m,n,p){return n*(h/=p)*h*h*h+m}static k_(h,m,n,p){return-n*((h=h/p-1)*h*h*h-1)+m}static YZ(h,m,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+m:-n/2*((h-=2)*h*h*h-2)+m}static c_(h,m,n,p){return n*(h/=p)*h*h*h*h+m}static l_(h,m,n,p){return n*((h=h/p-1)*h*h*h*h+1)+m}static ZZ(h,m,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+m:n/2*((h-=2)*h*h*h*h+2)+m}static d_(h,
m,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+m}static m_(h,m,n,p){return n*Math.sin(h/p*(Math.PI/2))+m}static $Z(h,m,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+m}static QZ(h,m,n,p){return 0===h?m:n*Math.pow(2,10*(h/p-1))+m}static i_(h,m,n,p){return h===p?m+n:n*(-Math.pow(2,-10*h/p)+1)+m}static WZ(h,m,n,p){return 0===h?m:h===p?m+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+m:n/2*(-Math.pow(2,-10*--h)+2)+m}static NZ(h,m,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+m}static f_(h,m,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+m}static TZ(h,m,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+m:n/2*(Math.sqrt(1-(h-=2)*h)+1)+m}static PZ(h,m,n,p){let q=0,u=n;if(0===h)return m;if(1===(h/=p))return m+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/q))+m}static h_(h,m,n,p){let q,u=0,w=n;if(0===h)return m;if(1===(h/=p))return m+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+n+m}static VZ(h,m,n,p){let q,u=0,w=n;if(0===h)return m;if(2===(h/=p/2))return m+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>h?-.5*w*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+m:w*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+n+m}static MZ(h,m,n,p,q){void 0===q&&(q=1.70158);return n*(h/=p)*h*((q+1)*h-q)+m}static e_(h,m,n,p,q){void 0===q&&(q=1.70158);return n*((h=h/p-1)*h*((q+1)*h+q)+1)+m}static RZ(h,m,n,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((q*=1.525)+1)*h-q)+m:n/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+m}static fN(h,m,n,p){return n-l.yE(p-h,0,n,p)+m}static yE(h,m,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+m:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+m:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+m:n*(7.5625*(h-=2.625/2.75)*h+.984375)+m}static SZ(h,m,n,p){return h<p/2?.5*l.fN(2*h,0,n,p)+m:.5*l.yE(2*h-p,0,n,p)+.5*n+m}static LZ(h,m,n,p,q){return m+3*h*(n-m)+3*h**2*(m+p-2*n)+h**3*(q-m+3*n-3*p)}static n_(h,m,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-m;u=3*u-6*p+3*m;m=3*(p-m);p=3*r*y*y+2*u*y+m;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+m)*y-h)/(3*r*y*y+2*u*y+m);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+m)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((v-3*w+3*q-n)*h+(3*w-6*q+3*n))*h+3*(q-n))*h}static R_(h,m,n,p){const q=[];p=p-3*n+3*m-h;n=3*n-6*m+3*h;h=3*(m-h);for(let u=
0;11>u;++u)m=.1*u,q.push(((p*m+n)*m+h)*m);return q}}}{"use strict";const d=self.D;d.Jla=class{constructor(){this.CU=[]}A(){this.yd();this.CU=null}yd(){d.qfa(this.CU)}}}"use strict";
self.D.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.bga=this.dM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.bga)throw Error(`cannot stop async event '${this.type}' propagation`);this.dM=!0}};
{"use strict";const d=self.D;d.Event.h1=class extends d.ka{constructor(b){super();this.Aa=b;this.sf=[];this.cs=new Set;this.Af=[];this.Ls=new Set;this.Wv=0;this.Xs=[]}A(){0<this.Wv||(d.G(this.sf),this.cs.clear(),d.G(this.Af),this.Ls.clear(),d.G(this.Xs),d.A(this))}FQ(b,a){this.UR()?this.Xs.push({YL:"add",Ai:b,capture:a}):a?this.cs.has(b)||(this.sf.push(b),this.cs.add(b)):this.Ls.has(b)||(this.Af.push(b),this.Ls.add(b))}fba(b,a){this.UR()?this.Xs.push({YL:"remove",Ai:b,capture:a}):a?this.cs.has(b)&&
(this.cs.delete(b),d.Zk(this.sf,b)):this.Ls.has(b)&&(this.Ls.delete(b),d.Zk(this.Af,b))}s$(){return!this.sf.length&&!this.Af.length}UR(){return 0<this.Wv}Oaa(){const b=new Set,a=new Set;for(const e of this.Xs)if("add"===e.YL)this.FQ(e.Ai,e.capture),e.capture?a.delete(e.Ai):b.delete(e.Ai);else if("remove"===e.YL)e.capture?(this.cs.delete(e.Ai),a.add(e.Ai)):(this.Ls.delete(e.Ai),b.add(e.Ai));else throw Error("invalid op");d.Cg(this.Af,b);d.Cg(this.sf,a);d.G(this.Xs)}n9(b){this.Pr();let a=!1;for(let e=
0,c=this.sf.length;e<c;++e)if(this.sf[e](b),b.dM){a=!0;break}if(!a)for(let e=0,c=this.Af.length;e<c&&(this.Af[e](b),!b.dM);++e);this.Kr();return!b.defaultPrevented}p9(b){this.Pr();for(let a=0,e=this.sf.length;a<e;++a)this.sf[a](b);for(let a=0,e=this.Af.length;a<e;++a)this.Af[a](b);this.Kr();return!0}Pr(){this.Wv++}Kr(){this.Wv--;0===this.Wv&&0<this.Xs.length&&this.Oaa()}xr(b){b?this.Pr():this.Kr()}mR(b){const a=[];this.Pr();for(let c=0,g=this.sf.length;c<g;++c){var e=this.sf[c](b);e instanceof Promise&&
a.push(e)}for(let c=0,g=this.Af.length;c<g;++c)e=this.Af[c](b),e instanceof Promise&&a.push(e);this.Kr();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async k9(b){return await this.mR(b)}async l9(b){this.Pr();for(let e=0,c=this.sf.length;e<c;++e){var a=this.sf[e](b);a instanceof Promise&&await a}for(let e=0,c=this.Af.length;e<c;++e)a=this.Af[e](b),a instanceof Promise&&await a;this.Kr();return!b.defaultPrevented}*m9(b){this.Pr();for(let e=0,c=this.sf.length;e<c;++e){var a=
this.sf[e](b);d.Mm(a)&&(yield*a)}for(let e=0,c=this.Af.length;e<c;++e)a=this.Af[e](b),d.Mm(a)&&(yield*a);this.Kr()}}}
{"use strict";const d=self.D;d.Event.Xb=class extends d.ka{constructor(){super();this.Hp=new Map;this.DI=!1}A(){if(this.DI)throw Error("already released");this.zY();this.DI=!0;d.A(this)}kA(){return this.DI}zY(){for(let b of this.Hp.values())b.A();this.Hp.clear()}pp(b,a){let e=this.Hp.get(b);return e?e:a?(e=d.C(d.Event.h1,b),this.Hp.set(b,e),e):null}fF(b){return this.Hp.has(b)}addEventListener(b,a,e){this.pp(b,!0).FQ(a,!!e)}removeEventListener(b,a,e){let c=this.pp(b,!1);c&&(c.fba(a,!!e),c.s$()&&this.Hp.delete(b))}dispatchEvent(b){const a=
this.pp(b.type,!1);return a?b.cancelable?a.n9(b):a.p9(b):!0}async CL(b){const a=this.pp(b.type,!1);return a?await a.k9(b):!0}Bfa(b){const a=this.pp(b.type,!1);return a?a.mR(b):!0}async Afa(b){const a=this.pp(b.type,!1);a&&await a.l9(b)}Cfa(b){const a=this.pp(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.m9(b)}xr(b){for(const a of this.Hp.values())a.xr(b)}}}
{"use strict";const d=self.D,b="undefined"!==typeof requestIdleCallback;let a=[],e=-1,c=0;function g(n){e=b&&0===c?requestIdleCallback(l,{timeout:35}):setTimeout(l,0<c?1:n)}function l(n){e=-1;if(a.length){var p=performance.now(),q=0;do{h(a.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&a.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.Ai()}catch(q){n.reject(q);return}n.resolve(p)}let m=d.gP.rz("disable-asyncify");
m&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.po=function(n){let p=null;d.Qx&&(p=d.Qy());return new Promise((q,u)=>{a.push({Ai:n,resolve:q,reject:u,stack:p});m?h(a.pop()):-1===e&&g(16)})};d.po.PP=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.D;let b=-1;function a(){b=-1}d.My=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let e=-1,c=-1,g=new Set;function l(){c=e=-1;let h=Date.now();for(let m of g)if(m.N7(h)){let n=m.Ep;if(-1===c||n<c)c=n}else g.delete(m);-1!==c&&(e=self.setTimeout(l,Math.max(c-h+100,1E3)))}d.N1=class{constructor(h,m){this.bs=h;this.kD=1E3*m;this.Ep=0;this.Nb=!1}ld(){let h=d.My();this.Ep=h+this.kD;this.Nb||(g.add(this),this.Nb=!0);-1===e?(c=this.Ep,e=self.setTimeout(l,this.kD+
100)):this.Ep<c&&c>h+1E3&&(self.clearTimeout(e),c=this.Ep,e=self.setTimeout(l,this.kD+100))}N7(h){return h>=this.Ep?this.bs()?(this.Ep=h+this.kD,!0):this.Nb=!1:!0}tY(){this.Nb&&(g.delete(this),this.Nb=!1,0===g.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}A(){this.tY();this.bs=null}}}
{"use strict";const d=self.D;d.Ee=class b{constructor(a){this.rs=!1;this.EI=a}Iy(){this.rs||(this.rs=!0,this.EI&&(this.EI(),this.EI=null))}A(){this.Iy()}static A(a){return new b(()=>a.A())}static Eh(a,e,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const l=new d.Ay;for(let h of e)a.addEventListener(h,c,g),l.Kc(d.C(d.Ee,()=>a.removeEventListener(h,c,g)));return l}a.addEventListener(e,
c,g);return d.C(d.Ee,()=>a.removeEventListener(e,c,g))}};d.Noa=class extends d.Ee{};d.Ay=class extends d.Ee{constructor(...b){super();this.Fd=new Set;for(let a of b)this.Kc(a)}Kc(...b){if(this.rs)throw Error("already disposed");for(let a of b)this.Fd.add(a)}Mh(b){if(this.rs)throw Error("already disposed");this.Fd.delete(b)}Iy(){if(this.rs)throw Error("already disposed");this.rs=!0;for(let b of this.Fd)b.Iy();this.Fd.clear();this.Fd=null}A(){this.Iy()}}}
{"use strict";const d=self.D;d.Ez=class extends d.ka{constructor(){super();this.et=this.ox=this.ba=this.aB=0}Kc(b){this.ba=+b-this.aB;this.ox=this.et+this.ba;this.aB=this.ox-this.et-this.ba;this.et=this.ox}ca(){return this.et}ld(){this.et=this.ox=this.ba=this.aB=0}Set(b){this.ox=this.ba=this.aB=0;this.et=+b}A(){}}}
{"use strict";const d=self.D,b={SF:function(a){this.pX=a;this.left=this.right=this.pX.tb;this.parent=null;this.color=!1;this.key=null},Zo:function(a){this.size=0;this.tb=new b.SF(this);this.tb.color=!1;this.root=this.tb;this.root.parent=this.tb;this.compare=a||this.xfa}};xa=b.Zo.prototype;xa.xfa=function(a,e){return a<e?-1:e<a?1:0};xa.clone=function(){var a=new b.Zo(this.compare);a.Xfa(this);return a};xa.clear=function(){this.size=0;this.tb=new b.SF(this);this.tb.color=!1;this.root=this.tb;this.root.parent=
this.tb};xa.Sx=function(a){var e=a.right;a.right=e.left;e.left!=this.tb&&(e.left.parent=a);e.parent=a.parent;a.parent==this.tb?this.root=e:a==a.parent.left?a.parent.left=e:a.parent.right=e;e.left=a;a.parent=e};xa.$x=function(a){var e=a.left;a.left=e.right;e.right!=this.tb&&(e.right.parent=a);e.parent=a.parent;a.parent==this.tb?this.root=e:a==a.parent.right?a.parent.right=e:a.parent.left=e;e.right=a;a.parent=e};xa.yt=function(a){if(this.contains(a))this.Nx(a).key=a;else{var e=new b.SF(this);e.key=
a;a=this.tb;for(var c=this.root;c!=this.tb;)a=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=a;a==this.tb?this.root=e:0>this.compare(e.key,a.key)?a.left=e:a.right=e;e.left=this.tb;e.right=this.tb;e.color=!0;this.Yfa(e);this.size++}};xa.Yfa=function(a){for(;a!=this.tb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var e=a.parent.parent.right;1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Sx(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.$x(a.parent.parent))}else e=a.parent.parent.left,1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.$x(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.Sx(a.parent.parent));this.root.color=!1};xa.zfa=function(a){var e=a.left==this.tb||a.right==this.tb?a:this.no(a);var c=e.left!=this.tb?e.left:e.right;c.parent=e.parent;e.parent==
this.tb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=a&&(a.key=e.key);0==e.color&&this.yfa(c);this.size--};xa.yfa=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var e=a.parent.right;1==e.color&&(e.color=!1,a.parent.color=!0,this.Sx(a.parent),e=a.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,a=a.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.$x(e),e=a.parent.right),e.color=a.parent.color,a.parent.color=!1,e.right.color=!1,this.Sx(a.parent),
a=this.root)}else e=a.parent.left,1==e.color&&(e.color=!1,a.parent.color=!0,this.$x(a.parent),e=a.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,a=a.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Sx(e),e=a.parent.left),e.color=a.parent.color,a.parent.color=!1,e.left.color=!1,this.$x(a.parent),a=this.root);a.color=!1};xa.remove=function(a){a=this.Nx(a);if(a!=this.tb){var e=a.key;this.zfa(a);return e}return null};xa.min=function(a){for(;a.left!=this.tb;)a=a.left;return a};xa.max=
function(a){for(;a.right!=this.tb;)a=a.right;return a};xa.no=function(a){if(a.right!=this.tb)return this.min(a.right);for(var e=a.parent;e!=this.tb&&a==e.right;)a=e,e=e.parent;return e};xa.Nx=function(a){for(var e=this.root;e!=this.tb&&0!=this.compare(e.key,a);)e=0>this.compare(a,e.key)?e.left:e.right;return e};xa.contains=function(a){return null!=this.Nx(a).key};xa.IL=function(){var a=[];this.forEach(function(e){a.push(e)});return a};xa.Xfa=function(a){if("array"==b.rM(a))for(var e=0;e<a.length;e++)this.yt(a[e]);
else if("function"==b.rM(a.forEach))a.forEach(this.yt,this);else if("function"==b.rM(a.IL))for(a=a.IL(),e=0;e<a.length;e++)this.yt(a[e]);else if("object"==b.rM(a))for(e in a)this.yt(a[e])};xa.range=function(a,e){var c=[];this.Zga(function(g){c.push(g)},a,e);return c};xa.Zga=function(a,e,c){if(!this.Bt())for(e=this.Nx(e),c=this.Nx(c);e!=c&&!a.call(void 0,e.key,this);)e=this.no(e)};xa.forEach=function(a,e){if(!this.Bt())for(var c=this.min(this.root);c!=this.tb;c=this.no(c))a.call(e,c.key,c.key,this)};
xa.some=function(a,e){if(this.Bt())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.no(c))if(a.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(a,e){if(this.Bt())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.no(c))if(!a.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(a,e){var c=[];if(this.Bt())return c;for(var g=this.min(this.root);g!=this.tb;g=this.no(g))c.push(a.call(e,g.key,g.key,this));return c};xa.filter=function(a,e){var c=[];if(this.Bt())return c;
for(var g=this.min(this.root);g!=this.tb;g=this.no(g))a.call(e,g.key,g.key,this)&&c.push(g.key);return c};xa.Bt=function(){return 0==this.size};d.Zo=class extends d.ka{constructor(a){super();this.ph=new b.Zo(a);this.vs=!1;this.kq=new Set;this.lq=new Set}Kc(a){this.vs?this.ph.contains(a)?this.lq.delete(a):this.kq.add(a):this.ph.yt(a)}Mh(a){this.vs?this.ph.contains(a)?this.lq.add(a):this.kq.delete(a):this.ph.remove(a)}rz(a){return this.vs?this.kq.has(a)?!0:!this.lq.has(a)&&this.ph.contains(a):this.ph.contains(a)}yd(){this.ph.clear();
this.kq.clear();this.lq.clear()}toArray(){if(this.vs)throw Error("cannot be used in queueing mode");return this.ph.IL()}Im(){return this.ph.size+this.kq.size-this.lq.size}Ro(){return 0===this.Im()}Nh(a){a=!!a;if(this.vs!==a&&(this.vs=a,!a)){for(const e of this.lq)this.ph.remove(e);this.lq.clear();for(const e of this.kq)this.ph.yt(e);this.kq.clear()}}nN(a){this.ph.forEach(a)}*values(){if(!this.Ro()){var a=this.ph;for(let e=a.min(a.root);e!=a.tb;e=a.no(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.D;d.bP=class{constructor(b=d.hardwareConcurrency){this.wea=b;this.uK=[];this.UH=0}Kc(b){return new Promise((a,e)=>{this.uK.push({Ai:b,resolve:a,reject:e});this.gS()})}async gS(){if(this.uK.length&&!(this.UH>=this.wea)){this.UH++;var b=this.uK.shift();try{const a=await b.Ai();b.resolve(a)}catch(a){b.reject(a)}this.UH--;this.gS()}}}}
{"use strict";const d=self.D;d.A4=class{constructor(b,a,e){this.bs=b;this.hea=a;this.iea=e||2*a;this.jt=-1;this.pC=-Infinity;this.OV=()=>this.Aaa();this.Mda=this.eJ=!1;this.Gv=null}H9(){return"undefined"!==typeof d.gY&&d.gY.Rja()?this.iea:this.hea}sY(){var b=[];if(-1===this.jt){this.Gv=b;b=d.My();var a=b-this.pC,e=this.H9();a>=e&&this.Mda?(this.pC=b,this.FS()):this.jt=self.setTimeout(this.OV,Math.max(e-a,4))}}FS(){this.eJ=!0;const b=this.Gv;this.Gv=null;b?this.bs(...b):this.bs();this.eJ=!1}ld(){this.eJ||
(this.OQ(),this.Gv=null,this.pC=d.My())}Aaa(){this.jt=-1;this.pC=d.My();this.FS()}OQ(){-1!==this.jt&&(self.clearTimeout(this.jt),this.jt=-1)}A(){this.OQ();this.OV=this.Gv=this.bs=null}}}"use strict";function hc(d,b){if(!d.$T)throw Error("no get base size callback set");return d.$T(b)}self.D.Sma=class{constructor(){this.eea=new Map;this.oV=this.qV=this.$T=null}Pz(){if(!this.oV)throw Error("no redraw callback set");this.oV()}};"use strict";
self.D.Rma=class{constructor(d,b){this.lh=d;this.Tda=b;this.Sc=0;hc(this.lh,b).then(()=>{this.lh.Pz()}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);this.lh.Pz()});this.vK=null}A(){if(0>=this.Sc)throw Error("already released");this.Sc--;0===this.Sc&&this.nv()}nv(){if(this.vK){var d=this.lh;if(!d.qV)throw Error("no release result callback set");d.qV(this.vK);this.vK=null}this.lh.eea.delete(this.Tda);this.lh=null}};
{"use strict";const d=self.D;d.bpa="\ufeff";const b=new Set([..."0123456789"]);d.J2=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.GF=function(n){return a.has(n)};d.Pia=function(n){return[...n].filter(p=>!d.GF(p)).join("")};d.FF=function(n){for(const p of n)if(!d.GF(p))return!1;return!0};d.U2=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.E_=function(n){return[...n].filter(p=>
!d.U2(p)).join("")};const e=new Set([..."0123456789.+-e"]);d.$ja=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let q of n)if(!e.has(q))return!1;return!0};d.K4=function(n){let p=n.length;for(;0<p&&d.J2(n.charAt(p-1));)--p;return n.substr(0,p)};d.qja=function(n){let p=d.K4(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const l=/[&<>"']/g;d.t_=function(n){return n.replace(l,g)};d.Iia=function(n){n=d.Ti(n,"\\","\\\\");n=d.Ti(n,'"','\\"');n=d.Ti(n,"\t","\\t");n=d.Ti(n,"\r","");return d.Ti(n,"\n","\\n")};d.Jia=function(n){n=d.Ti(n,"&","&amp;");n=d.Ti(n,"<","&lt;");n=d.Ti(n,">","&gt;");return d.Ti(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Ot=function(n){return n.replace(h,"\\$&")};d.Qia=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};d.Ti=function(n,p,q){return n.replaceAll(p,()=>q)};d.Vla=function(n,p,q){return n.replace(new RegExp(d.Ot(p),"gi"),()=>q)};d.qna=function(n,p){"string"===typeof p?n.textContent=p:p.zU?n.textContent=p.toString():(n.innerHTML=p.oM(),p instanceof d.Dm&&p.ifa(n))};d.Ioa=function(n,p){return n instanceof d.jF||n instanceof d.Dm?n.rd(p):p instanceof d.jF||p instanceof d.Dm?p.rd(n):n===p};d.Joa=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};d.Koa=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};d.Loa=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};d.voa=function(n,p){return n>p?1:n<p?-1:0};d.woa=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?
-1:0};d.Tia=function(n,p){p="common."+(p?"dataRates":"dataSizes")+".";const q=self.$qa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const m={ffa:!1,
ufa:!0,Wfa:!0,qga:!0,ZW:!0};d.Uia=function(n,p){p=Object.assign({},m,p);d.X2.Mla("common.time");const q=[],u=self.lang,w=self.Zqa;if(p.ufa){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.Wfa&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.qga&&(r=Math.floor(n/60),0<r||q.length||!p.ZW)&&(n-=60*r,q.push(w(".minutes",null,r)));p.ZW&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.ffa?u(".approx-prefix"):"")+q.join(u(".separator"));d.X2.Hla();
return n};d.Dpa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};d.Moa=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.qia=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.XW(n);d.XW(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};d.wia=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};d.Goa=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};d.Hoa=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?
r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const d=self.D,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function l(m,n,p){var q=b.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return m=q[0],q=q[1],n?"</"+m+">":`<${m} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:m}const h=/\n/g;d.Dm=class{constructor(m,n){this.Wh=n&&n.uga?m:d.t_(m);this.dJ="";this.FT=!1;this.Dw=[];if(n&&(this.FT=!!n.Zpa,n.links)){if(9<n.links.length)throw Error("too many links");this.Dw=n.links}this.eU=this.Wh.includes("[");this.bV=this.FT&&this.Wh.includes("\n");this.zU=!this.eU&&!this.bV&&!this.Wh.includes("&");this.iU=!1;this.Yv=[]}toString(){return this.Wh}valueOf(){return this.Wh}oM(){if(this.zU)return this.Wh;if(!this.dJ&&this.Wh){let m=this.Wh;
this.eU&&(g=0,c=this.Dw,m=m.replace(a,l),c=null);this.bV&&(m=m.replace(h,"<br>"));this.dJ=m}return this.dJ}ifa(m){if(this.Dw.length)for(let n=0,p=this.Dw.length;n<p;++n){const q=this.Dw[n];if("function"!==typeof q)continue;const u=m.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}rd(m){return m instanceof d.jF?this.oM()===m.oM():m instanceof d.Dm?this.Wh===m.Wh:this.Wh===m}Wga(){if(this.iU)return this.Yv;const m=this.Wh,n=[];let p=e.lastIndex=0;
for(var q;null!==(q=e.exec(m));){var u=q.index;if(0<u&&"\\"===m.charAt(u-1))continue;var w=q[1],r=q[2];const v=m.substring(p,u);p=u+q[0].length;v&&this.Yv.push({text:v,sd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,Ci:u})}p<m.length&&this.Yv.push({text:m.substring(p),sd:n.slice(0)});for(const v of this.Yv)v.text=
this.Naa(v.text);this.iU=!0;return this.Yv}Naa(m){m=d.Ti(m,"\\[","[");return d.Ti(m,"\\\\","\\")}static mQ(m){return m.replace(e,"")}}}
{"use strict";const d=self.D;function b(e){return"\u00a0"===e||"\u202f"===e?!1:d.GF(e)}const a=/[\x09\x0A\x0B\x0C\x0D\x20\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u205F\u3000\u2028\u2029\uFEFF]*$/;d.HG=class{constructor(){this.xn=[]}iS(e,c){let g=0,l=0,h=0,m=0,n=0;for(const p of e)-1===p.width&&(e=c(p.text,p.sd),p.width=e.width,p.height=e.height,p.Eg=e.Eg||0,p.Nf=e.Nf||0,p.Qf=e.Qf||0),g+=p.width,l=Math.max(l,p.height),h=Math.max(h,p.Eg),m=Math.max(m,p.Nf),n=Math.max(n,
p.Qf);return{width:g,height:l,Eg:h,Nf:m,Qf:n}}mA(e,c,g,l,h,m){this.xn.push({wW:e,width:c,height:g,Eg:l,Nf:h,Qf:m})}HG(e,c,g,l,h){"string"===typeof e&&(e=[{text:e,sd:[]}]);d.G(this.xn);if(!(!e.length||1===e.length&&!e[0].text.length||2>g)){if(1===e.length){var m=e[0];const n=m.text;m=m.sd;if(100>=n.length&&!n.includes("\n")){let {width:p,height:q,Eg:u,Nf:w,Qf:r}=c(n,m);p+=h;u=u||0;w=w||0;r=r||0;if(p<=g){this.mA([{text:n,sd:m,width:p,height:q,Eg:u,Nf:w,Qf:r}],p,q,u,w,r);return}}}if("word"===l)l=this.ada(e);
else{l=[];for(const n of e)d.qm(l,[...n.text].map(p=>[{text:p,sd:n.sd}]))}this.tda(l,c,g,h)}}ada(e){const c=[];let g=[],l=!1;for(const m of e){var h=m.text;e=m.sd;for(const n of h)"\n"===n?(0<g.length&&c.push(g),c.push([{text:"\n",sd:e}]),g=[]):0===g.length?(g.push({text:n,sd:e}),l=b(n)):(h=b(n),h===l?(h=g.le(-1),h.sd===e?h.text+=n:g.push({text:n,sd:e})):(c.push(g),g=[],g.push({text:n,sd:e}),l=h))}0<g.length&&c.push(g);return c}Q7(e){return e.map(c=>({text:c.text,sd:c.sd,width:c.width,height:c.height,
Eg:c.Eg,Nf:c.Nf,Qf:c.Qf}))}KQ(e,c){var g=e.length?e.le(-1):null;let l=0;g&&c[0].sd===g.sd&&(g.text+=c[0].text,g.width=-1,g.height=-1,g.Eg=-1,g.Nf=-1,g.Qf=-1,l=1);for(g=c.length;l<g;++l){const h=c[l];e.push({text:h.text,sd:h.sd,width:-1,height:-1,Eg:-1,Nf:-1,Qf:-1})}}tda(e,c,g,l){let h=[],m=0,n=0,p=0,q=0;var u=0;for(const w of e){if(1===w.length&&"\n"===w[0].text){0===n&&(u=c(" ",w[0].sd),n=u.height,p=u.Eg||0,q=u.Nf||0,u=u.Qf||0);this.mA(h,m,n,p,q,u);h=[];u=q=p=n=m=0;continue}e=this.Q7(h);this.KQ(e,
w);const r=this.iS(e,c),v=r.width;v>=g?(0<h.length&&this.mA(h,m,n,p,q,u),h=[],d.FF(w[0].text)?u=q=p=n=m=0:(this.KQ(h,w),u=this.iS(h,c),m=u.width,n=u.height,p=u.Eg,q=u.Nf,u=u.Qf)):(h=e,m=v,n=r.height,p=r.Eg,q=r.Nf,u=r.Qf)}0<h.length&&this.mA(h,m,n,p,q,u);this.dda(c,l)}dda(e,c){for(const l of this.xn){const h=l.wW;if(!h.length)continue;let m=h.le(-1);var g=m.text;const n=g.replace(a,"");if(!n)l.width-=m.width,h.pop();else if(n.length<g.length){g=e(n,m.sd).width;const p=m.width-g;m.width=g;m.text=n;
l.width-=p}0!==c&&0<h.length&&(m=h.le(-1),m.width+=c,l.width+=c)}}yd(){d.G(this.xn)}F0(){return this.xn.reduce((e,c)=>Math.max(e,c.width),0)}b1(){return this.xn.reduce((e,c)=>e+c.height,0)}}}
{"use strict";const d=self.D,b=self.Kj,a=b.ZD,e=b.ey,c=b.wm,g=a.create(),l=a.create(),h=a.create(),m=e.create(),n=c.create(),p=a.create(),q=a.create(),u=a.create(),w=a.create(),r=a.create(),v=a.create(),y=a.create(),A=a.create(),G=e.Of(0,0,1,1);d.K={p4(J,L,P,R,T,Z,X){const ba=R[0]*J+R[4]*L+R[8]*P+R[12],Y=R[1]*J+R[5]*L+R[9]*P+R[13],va=R[2]*J+R[6]*L+R[10]*P+R[14];R=R[3]*J+R[7]*L+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;L=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(L*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},rk(J,L,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.At(n,n))return!1;m[0]=(J-Z[0])/Z[2]*2-1;m[1]=(L-Z[1])/Z[3]*2-1;m[2]=2*P-1;m[3]=1;e.pM(m,m,n);if(0===m[3])return!1;m[3]=1/m[3];X[0]=m[0]*m[3];X[1]=m[1]*m[3];X[2]=m[2]*m[3];return!0},Q6(J,L,P,R,T,Z,X){if(!d.K.rk(J,L,0,R,T,Z,g)||!d.K.rk(J,L,1,R,T,Z,l))return!1;a.Bm(l,l,g);a.set(h,0,0,1);J=-P;L=a.ho(h,l);P=0;if(0===L){if(0!==
a.ho(h,g)+J)return!1}else if(P=-(a.ho(g,h)+J)/L,0>P)return!1;a.iM(X,g,l,P);return!0}};function z(J,L,P,R){a.Bm(g,P,L);a.Bm(l,J,L);a.AL(h,g,l);a.normalize(h,h);R.set(h[0],h[1],h[2],a.ho(J,h))}function F(J,L,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.wX,Na=X.xX;X=X.yX;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*L*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*L*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.yX=this.xX=this.wX=this.w=this.z=this.y=this.x=NaN}set(J,L,P,R){this.x=
J;this.y=L;this.z=P;this.w=R;this.wX=0<J?1:0;this.xX=0<L?1:0;this.yX=0<P?1:0}}d.K.Y6=class{constructor(){this.PU=new H;this.PV=new H;this.tV=new H;this.yT=new H;this.dK=new H;this.ST=new H}qY(J,L){d.K.rk(0,1,0,J,L,G,p);d.K.rk(1,1,0,J,L,G,q);d.K.rk(0,0,0,J,L,G,u);d.K.rk(1,0,0,J,L,G,w);d.K.rk(0,1,1,J,L,G,r);d.K.rk(1,1,1,J,L,G,v);d.K.rk(0,0,1,J,L,G,y);d.K.rk(1,0,1,J,L,G,A);z(u,p,r,this.PU);z(p,q,v,this.PV);z(q,w,A,this.tV);z(w,u,y,this.yT);z(y,r,v,this.ST);z(w,q,p,this.dK)}NY(J,L,P,R,T,Z){return F(J,
L,P,R,T,Z,this.PU)&&F(J,L,P,R,T,Z,this.PV)&&F(J,L,P,R,T,Z,this.tV)&&F(J,L,P,R,T,Z,this.yT)&&F(J,L,P,R,T,Z,this.dK)&&F(J,L,P,R,T,Z,this.ST)}z2(J,L,P){var R=this.dK;return!(R.x*J+R.y*L+R.z*P>=R.w)}}}
{"use strict";const d=self.D,b=self.Kj,a=b.ZD,e=b.ey,c=b.wm,g=c.create(),l=a.Of(0,0,0),h=a.Of(0,0,0),m=a.Of(0,0,0),n=a.Of(0,1,0);e.Of(0,0,0,0);new d.Cd;new d.Rect;const p=new d.Cd(0,0,1,0,1,1,0,1);d.K.N4=class{constructor(){this.V=this.Z=0;this.zs=d.Ua(45);this.qx=Math.tan(this.zs/2);this.DC=c.create();this.YJ=c.create();this.wt=!1;this.yp=[];this.XC=new Map;this.IK=this.bD=this.cD=null;this.mx=new Map;this.oj=null;this.lI=[];this.aV=new Map;this.Pv=this.Bv=0;this.sea=this.tea=1;this.TJ=.5;this.$h=
0;this.us=!0;this.cJ=!1}D_(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}RQ(){this.Pv=this.Bv=0;this.IK=this.bD=this.cD=null;this.O7()}yz(){this.RQ();this.oj=null}L3(){for(const q of this.yp)q.A();this.RQ()}ea(){return this.Z}$(){return this.V}Uf(q){return this.wO()?100:q/(2*this.qx)}iG(q){this.zs=q;this.qx=Math.tan(this.zs/2)}o6(){this.wt=!1}p6(){this.wt=!0}wO(){return!this.wt}ro(q,u,w=.5,r=.5){var v=this.zs;.5===w&&.5===r?c.perspective(q,
v,u,1,1E4):(w=1-w,v=1*this.qx,u*=v,c.Ofa(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}pY(q,u,w){const r=self.devicePixelRatio,v=2*this.Uf(w)*r*this.qx/w;u=u*v/(2*r);w=w*v/(2*r);c.zga(q,-u,u,-w,w,1,1E4)}DM(q,u,w,r,v,y=1){let A=1;this.wO()&&(A=200*this.qx/v);a.set(m,A,-A,1);a.multiply(l,u,m);a.multiply(h,w,m);c.nga(q,l,h,r||n);m[2]=y;c.scale(q,q,m)}Mt(q,u,w,r,v,y){a.set(l,q,u,w);a.set(h,r,v,0);this.DM(g,l,h,n,y,void 0);return g}x7(q){this.yp.push(q);this.XC.set(q.Ba(),q)}hba(q){const u=this.yp.indexOf(q);
-1!==u&&this.yp.splice(u,1);this.XC.delete(q.Ba())}O7(){d.G(this.yp);this.XC.clear()}RN(q){return this.XC.get(q)||null}nk(){this.Er(this.cD)}GP(){this.Er(this.IK)}cca(q){this.oj=q}CX(q,u,w,r){const v=d.K.BG.FO(q,u,w,r);let y=this.mx.get(v);y||(y=d.C(d.K.BG,this,q,u,w,r),this.mx.set(v,y));y.QX();return y}iP(q){q.fZ();0===q.Sc&&(this.oj===q&&(this.oj=null),this.mx.delete(q.y0()),q.A())}c$(q){d.G(this.lI);this.aV.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.lI.push([r,v]);this.aV.set(q,
{Gra:u,Ksa:r,gqa:v});u++}}B9(q){return this.lI[q]}ur(q){this.Bv=q}Du(q){this.Pv=q;this.oj=null}Hz(q,u,w,r,v,y){var A=this.TJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.Nz(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}Gz(q,u,w,r,v,y){const A=this.TJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.Nz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}Fz(q,u,w,r,v,y){const A=this.TJ;q+=A;u+=A;w+=A;r+=A;this.Nz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}a3(q,u,w,r){const v=.5*this.tea,y=this.sea;2===y?
this.y$(q,u,w,r,v):1===y?this.x$(q,u,w,r,v):this.w$(q,u,w,r,v)}y$(q,u,w,r,v){this.Hz(q,u,w,u,0,v);this.Hz(w,u,w,r,v,0);this.Hz(w,r,q,r,0,-v);this.Hz(q,r,q,u,-v,0)}x$(q,u,w,r,v){this.Gz(q,u,w,u,0,v);this.Gz(w,u,w,r,v,0);this.Gz(w,r,q,r,0,-v);this.Gz(q,r,q,u,-v,0)}w$(q,u,w,r,v){this.Fz(q,u,w,u,0,v);this.Fz(w,u,w,r,v,0);this.Fz(w,r,q,r,0,-v);this.Fz(q,r,q,u,-v,0)}zO(q){this.a3(q.R,q.O,q.aa,q.W)}Kq(){this.Pj();this.$h++}Q1(){this.$h++}lG(q){this.us=!!q}G5(q){this.cJ=!!q}Qi(){return!1}}}"use strict";
self.D.K.s6=class{constructor(d,b,a){this.Ja=b;this.ra=d;this.PT=a.Hfa||0;this.QT=a.Ifa||0;this.GT=!!a.sfa;this.yea=!!a.sga;this.Ws=!!a.Aga;this.Ada=!!a.efa;this.mI=!!a.jfa;this.rD=!!a.cha;this.qD=!1}A(){this.ra=null}lb(){return this.ra}Ba(){return this.Ja}fr(){return this.yea}};
{"use strict";const d=self.D;d.K.BG=class{constructor(b,a,e,c,g){this.ra=b;this.Sc=0;this.ed=null;this.Zw="";this.$g=e;this.gb=d.C(d.eb);this.gb.set(c);this.gd=g;"string"===typeof a?this.Zw=a:(this.ed=a,this.Zw=this.ed.Ba())}A(){if(0<this.Sc)throw Error("releasing state group still in use");this.ed=this.ra=null;this.Zw=""}YX(){const b=this.ra;b.Er(this.ed);b.fg(this.$g);b.Qm(this.gb);b.Du(this.gd);b.cca(this)}y0(){return d.K.BG.FO(this.Zw,this.$g,this.gb,this.gd)}QX(){++this.Sc}fZ(){--this.Sc}pl(){this.ed=
null}LF(b){this.ed=b.RN(this.Zw);if(!this.ed)throw Error("failed to restore shader program");}static FO(b,a,e,c){return("string"===typeof b?b:b.Ba())+","+a+","+e.Xa+","+e.Ia+","+e.ab+","+e.$a+","+c}}}
{"use strict";const d=self.D,b=d.C(d.Cd);function a(e,c,g){const l=g.Gb,h=g.Hb;return[l+(g.vc-l)*e+(g.nc-l)*c,h+(g.wc-h)*e+(g.oc-h)*c]}d.K.t3=class{constructor(e){this.aK=e;this.xh=this.vh=this.gd=this.ba=this.ja=0}Yg(e,c,g,l){this.ja=e;this.ba=c;this.vh=g;this.xh=l}ga(){return this.ja}ig(e){this.ja!==e&&(this.ja=e,this.aK.HH())}ia(){return this.ba}jg(e){this.ba!==e&&(this.ba=e,this.aK.HH())}fb(){return this.gd}qf(e){this.gd!==e&&(this.gd=Math.max(e,0),this.aK.HH())}sG(e){this.vh=e}tG(e){this.xh=
e}q$(e,c,g){[this.ja,this.ba]=a(e.ja,e.ba,c);this.gd=e.gd;this.vh=d.me(g.R,g.aa,e.vh);this.xh=d.me(g.O,g.W,e.xh)}p$(e,c,g){[this.ja,this.ba]=a(e.ja,e.ba,c);this.gd=e.gd;[this.vh,this.xh]=a(e.vh,e.xh,g)}Bc(){return{x:this.ga(),y:this.ia(),z:this.fb(),u:this.vh,v:this.xh}}lc(e){this.ig(e.x);this.jg(e.y);e.hasOwnProperty("z")&&this.qf(e.z);this.sG(e.u);this.tG(e.v)}};d.K.HO=class{constructor(e,c,g){if(2>e||2>c)throw Error("invalid mesh size");this.Ek=e;this.Tk=c;this.tc=g||null;this.Hn=[];this.ZU=this.YU=
0;this.UU=this.TU=1;this.VU=0;this.nK=!1;g=e-1;const l=c-1;for(let h=0;h<c;++h){const m=[];for(let n=0;n<e;++n){const p=d.C(d.K.t3,this,n,h),q=n/g,u=h/l;p.Yg(q,u,q,u);m.push(p)}this.Hn.push(m)}}A(){d.G(this.Hn)}HH(){this.nK=!0}cv(){if(this.nK){var e=Infinity,c=Infinity,g=-Infinity,l=-Infinity,h=0;for(const m of this.Hn)for(const n of m){const p=n.ga(),q=n.ia();e=Math.min(e,p);c=Math.min(c,q);g=Math.max(g,p);l=Math.max(l,q);h=Math.max(h,n.fb())}this.YU=e;this.ZU=c;this.TU=g;this.UU=l;this.VU=h;this.nK=
!1}}J0(){this.cv();return this.YU}K0(){this.cv();return this.ZU}G0(){this.cv();return this.TU}H0(){this.cv();return this.UU}I0(){this.cv();return this.VU}Qq(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Ek||0>c||c>=this.Tk?null:this.Hn[c][e]}EM(e,c,g){const l=g instanceof d.Rect;if(e.Ek!==this.Ek||e.Tk!==this.Tk)throw Error("source mesh wrong size");e=e.Hn;const h=this.Hn;for(let m=0,n=h.length;m<n;++m){const p=e[m],q=h[m];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];l?v.q$(r,c,
g):v.p$(r,c,g)}}}Sf(e){const c=this.Hn;let g=c[0];for(let l=1,h=c.length;l<h;++l){const m=c[l];let n=g[0],p=m[0];for(let q=1,u=m.length;q<u;++q){const w=g[q],r=m[q];b.set(n.vh,n.xh,w.vh,w.xh,r.vh,r.xh,p.vh,p.xh);e.Nz(n.ga(),n.ia(),n.fb(),w.ga(),w.ia(),w.fb(),r.ga(),r.ia(),r.fb(),p.ga(),p.ia(),p.fb(),b);n=w;p=r}g=m}}t2(e){e=e.Sd;const c=[],g=this.Ek-1,l=this.Tk-1,h=1/g,m=1/l,n=g-1,p=l-1;let q=e[0],u=e[1],w=d.T(Math.floor(q*g),0,n),r=d.T(Math.floor(u*l),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=d.T(d.me(q,
v,A),0,1);u=d.T(d.me(u,y,A),0,1);c.push(q,u)};for(let F=0,H=e.length;F<H;F+=2)for(q=e[F],u=e[F+1],c.push(q,u),w=d.T(Math.floor(q*g),0,n),r=d.T(Math.floor(u*l),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*h,L=r*m,P=(w+1)*h,R=(r+1)*m;if(0!==G&&(A=d.Zx(q,u,v,y,J,L,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=d.Zx(q,u,v,y,J,L,P,L,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=d.Zx(q,u,v,y,P,L,P,R,.001),
0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<w&&1!==G&&(A=d.Zx(q,u,v,y,J,L,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=d.Zx(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return d.C(d.vo,c)}M6(e,c){e=this.bda(e);this.Tca(e);c.TD(e)}bda(e){const c=[];e=e.Sd;for(let g=0,l=e.length;g<l;g+=2){const [h,m]=this.pQ(e[g],e[g+1]);c.push(h,m)}return c}pQ(e,c){var g=this.Ek-1,l=this.Tk-1;const h=1/g,m=1/l;g=d.T(Math.floor(e*g),0,g-1);const n=d.T(Math.floor(c*
l),0,l-1);l=g*h;const p=n*m,q=(g+1)*h,u=(n+1)*m,w=this.Qq(g,n),r=this.Qq(g+1,n+1),v=d.fga(e,c,l,p,q,p,q,u);g=this.Qq(g+(v?1:0),n+(v?0:1));const [y,A,G]=d.aha(e,c,l,p,v?l+h:l,v?p:p+m,q,u);return d.$ga(y,A,G,w.ga(),w.ia(),g.ga(),g.ia(),r.ga(),r.ia())}Tca(e){const c=[];let g=e[0],l=e[1],h=g-e.le(-2),m=l-e.le(-1);for(let p=0,q=e.length;p<q;p+=2){var n=(p+2)%q;const u=e[n];n=e[n+1];const w=u-g,r=n-l,v=1E-7>Math.abs(r)&&1E-7>Math.abs(m)&&Math.sign(w)===Math.sign(h);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(h)&&
Math.sign(r)===Math.sign(m)||v)&&1E-7<Math.abs(w/h-r/m)||0==w&&0===r)&&c.push(g,l);g=u;l=n;h=w;m=r}6<=c.length&&c.length<e.length&&d.Vc(e,c)}Bc(){return{cols:this.Ek,rows:this.Tk,points:this.Hn.map(e=>e.map(c=>c.Bc()))}}lc(e){const c=this.Ek,g=this.Tk;if(e.cols!==c||e.rows!==g)throw Error("mesh data wrong size");e=e.points;for(let l=0;l<g;++l){const h=e[l];for(let m=0;m<c;++m)this.Qq(m,l).lc(h[m])}}}}
{"use strict";const d=self.D,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{lM:n,zt:q,format:u,type:p}}const l={aE:"clamp-to-edge",bE:"clamp-to-edge",Lj:"trilinear",gW:0,aM:"rgba8",OD:!0,Wx:"default",premultiplyAlpha:!0,IW:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},m=new Set;d.K.lA=class{constructor(n){this.ra=n;this.wb=null;this.V=this.Z=0;this.di=!0;this.ut=this.tt="clamp-to-edge";this.xd="trilinear";this.bI=0;this.Fn="rgba8";this.Pl=!1;this.cq=
"default";this.Sc=0}f8(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},l,p);if(this.wb)throw Error("already created texture");this.tt=p.aE;this.ut=p.bE;
this.xd=p.Lj;this.bI=p.gW;this.Fn=p.aM;this.Pl=!!p.OD&&this.ra.us;this.cq=p.Wx;if(!c.has(this.tt)||!c.has(this.ut))throw Error("invalid wrap mode");if(!a.has(this.xd))throw Error("invalid sampling");if(!b.has(this.Fn))throw Error("invalid pixel format");if(!e.has(this.cq))throw Error("invalid mipmap quality");this.di=!0;if(n instanceof ArrayBuffer||null===n||p.IW){if(this.Z=p.width,this.V=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.Z*this.V*4)throw Error("ArrayBuffer wrong size");}else this.Z=
n.width,this.V=n.height;if(0>=this.Z||0>=this.V)throw Error("invalid texture data size");if(p.IW){var q=d.Ch(this.Z,this.V);q.getContext("2d").drawImage(n,0,0,this.Z,this.V);n=q}var u=d.Bi(this.Z)&&d.Bi(this.V);q=this.ra.EC;if(this.Z>q||this.V>q)throw Error("texture data exceeds maximum texture size");q=this.ra.S;var w=this.ra.fd;this.wb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.wb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.Fn,q);if(this.ra.ip()||u||!this.kH())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.Pl?Math.floor(Math.log2(Math.max(this.Z,this.V))+1):1,p.lM,this.Z,this.V),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.Z,this.V,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.zt,this.Z,this.V,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.zt,this.Z,this.V,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.zt,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.Z,this.V));n instanceof ImageData&&(u=d.Ch(this.Z,this.V),u.getContext("2d").putImageData(n,0,0),n=u);u=d.Ch(d.PD(this.Z),d.PD(this.V));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.xd;w.drawImage(n,0,0,this.Z,this.V,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.zt,p.format,p.type,u)}null!==n&&this.ZS(q);q.bindTexture(q.TEXTURE_2D,null);this.ra.xH();this.Sc=1;m.add(this)}S7(n,p,q){q=Object.assign({},l,q);if(this.wb)throw Error("already created texture");this.tt=q.aE;this.ut=q.bE;this.xd=q.Lj;this.Fn=q.aM;this.Pl=!!q.OD&&this.ra.us;this.cq=q.Wx;if(!c.has(this.tt)||!c.has(this.ut))throw Error("invalid wrap mode");if(!a.has(this.xd))throw Error("invalid sampling");if(!b.has(this.Fn))throw Error("invalid pixel format");if(!e.has(this.cq))throw Error("invalid mipmap quality");
this.di=!1;this.Z=Math.floor(n);this.V=Math.floor(p);n=d.Bi(this.Z)&&d.Bi(this.V);p=this.ra.EC;if(0>=this.Z||0>=this.V)throw Error("invalid texture size");if(this.Z>p||this.V>p)throw Error("texture exceeds maximum texture size");if(!this.ra.ip()&&this.kH()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ra.S;p=this.ra.fd;this.wb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.wb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.Fn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.lM:q.zt,this.Z,this.V,0,q.format,q.type,null);this.ZS(n);n.bindTexture(n.TEXTURE_2D,null);this.ra.xH();this.Sc=1;m.add(this)}hH(n){if("default"===this.cq)return this.di?n.NICEST:n.FASTEST;if("low"===this.cq)return n.FASTEST;if("high"===this.cq)return n.NICEST;throw Error("invalid mipmap quality");}kH(){return"clamp-to-edge"!==this.tt||"clamp-to-edge"!==this.ut}HR(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}ZS(n){var p=d.Bi(this.Z)&&d.Bi(this.V);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.HR(n,this.tt));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.HR(n,this.ut));"nearest"===this.xd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Pl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ra.ip())&&this.Pl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.hH(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.xd||this.ra.cJ?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Pl=!1));(p=this.ra.wv)&&0<this.bI&&"nearest"!==this.xd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.bI,this.ra.ZJ))}kT(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.wb||0>=this.Sc)throw Error("texture not created");if(this.di)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.ra.fd;
const r=this.ra.S;r.bindTexture(r.TEXTURE_2D,this.wb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.Fn,r);w=2<=w?p.lM:p.zt;try{if(this.Z===q&&this.V===u){const v=d.Bi(this.Z)&&d.Bi(this.V);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.ra.ip())&&this.Pl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.hH(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.Z=q;this.V=u;const v=d.Bi(this.Z)&&d.Bi(this.V);if(!this.ra.ip()&&this.kH()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.ra.ip())&&this.Pl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.hH(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.ra.xH()}XG(){if(0<this.Sc)throw Error("texture still has references");if(!this.wb)throw Error("already deleted texture");m.delete(this);this.ra.S.deleteTexture(this.wb);this.wb=null}lb(){return this.ra}H6(){if(0>=
this.Sc)throw Error("no more references");this.Sc--}ea(){return this.Z}$(){return this.V}ME(){let n=this.Z*this.V;switch(this.Fn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Pl&&(n+=Math.floor(n/3));return n}static pl(){m.clear()}static $ea(){return m.values()}}}
{"use strict";const d=self.Kj.wm,b=new Set(["nearest","bilinear","trilinear"]),a={Lj:"trilinear",alpha:!0,depth:!1,PL:!0,EW:!0,rga:0},e=new Set;self.D.K.BQ=class{constructor(c){this.ra=c;this.Mk=this.wb=this.Mp=this.gh=null;this.V=this.Z=0;this.ZB=!0;this.xd="trilinear";this.Xr=!0;this.$c=!1;this.pw=!0;this.Wl=0;this.Kk=d.create();this.IU=0}R7(c,g,l){l=Object.assign({},a,l);const h=this.ra.fd;if(this.wb||this.Mk)throw Error("already created render target");this.xd=l.Lj;this.Xr=!!l.alpha;this.$c=!!l.depth;
this.pw=!!l.PL;this.ZB=!!l.EW;this.Wl=l.rga;if(!b.has(this.xd))throw Error("invalid sampling");if(0<this.Wl&&(2>h||this.pw))throw Error("invalid use of multisampling");2>h&&(this.pw=!0);this.Z=c;this.V=g;if(0>=this.Z||0>=this.V)throw Error("invalid render target size");this.KG();c=this.ra.S;this.gh=c.createFramebuffer();this.$c&&(this.Mp=c.createFramebuffer());this.pw?(this.wb=this.ra.UM(this.Z,this.V,{Lj:this.xd,aM:this.Xr?"rgba8":"rgb8",OD:!1}),g=this.wb.wb,c.bindFramebuffer(c.FRAMEBUFFER,this.gh),
c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Mp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.Mk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Mk),g=this.Xr?c.RGBA8:c.RGB8,0<this.Wl&&((l=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&l[0]?(l=l[0],this.Wl>l&&(this.Wl=l)):this.Wl=0),0===this.Wl?c.renderbufferStorage(c.RENDERBUFFER,g,this.Z,this.V):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Wl,g,this.Z,this.V),c.bindFramebuffer(c.FRAMEBUFFER,this.gh),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Mk),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Mp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Mk)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.ra.eh;this.$c&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.gh),this.ra.Hv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}AS(c,g){if(this.Z!==c||this.V!==g)this.Z=c,this.V=g,this.KG(),c=this.ra.S,c.bindFramebuffer(c.FRAMEBUFFER,this.gh),this.wb?this.wb.kT(new ImageData(this.Z,this.V)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Mk),c.renderbufferStorage(c.RENDERBUFFER,this.Xr?c.RGBA8:c.RGB8,this.Z,this.V),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.ra.eh,this.$c&&g&&(this.ra.Hv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}XG(){if(!this.wb&&!this.Mk)throw Error("already deleted render target");e.delete(this);var c=this.ra.S;this.wb?(c.bindFramebuffer(c.FRAMEBUFFER,this.gh),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Mp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.ra.Oj(this.wb),this.wb=null):this.Mk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.gh),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Mp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Mk),this.Mk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ra.fd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.gh);
this.$c&&c.deleteFramebuffer(this.Mp);c=this.ra.Gc;c.rm=null;this.gh=c.Ij=null}KG(){this.ra.ro(this.Kk,this.Z/this.V);this.IU=this.ra.zs}lb(){return this.ra}Yd(){return this.wb}R0(){this.ra.zs!==this.IU&&this.KG();return this.Kk}zF(){return"nearest"!==this.xd}ea(){return this.Z}$(){return this.V}C2(c){c=Object.assign({},a,c);return"nearest"!==c.Lj!==this.zF()||!!c.alpha!==this.Xr||!!c.depth!==this.$c||2<=this.ra.fd&&!!c.PL!==this.pw?!1:"number"===typeof c.width||"number"===typeof c.height?!this.ZB&&
this.ea()===c.width&&this.$()===c.height:this.ZB}ME(){return this.wb?this.wb.ME():this.Z*this.V*(this.Xr?4:3)}static pl(){e.clear()}}}
{"use strict";const d=self.D;d.K.Su=class extends d.K.s6{static async KY(b,a,e,c){const g=b.S,l=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(l,a);g.compileShader(l);a=g.createShader(g.VERTEX_SHADER);g.shaderSource(a,e);g.compileShader(a);const h=g.createProgram();g.attachShader(h,l);g.attachShader(h,a);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const m=b.kK;m?await b.qda(()=>g.getProgramParameter(h,m.COMPLETION_STATUS_KHR)):
await d.GG(5);if(!g.getShaderParameter(l,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(l),g.deleteShader(l),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(a,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(a),g.deleteShader(l),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(l),g.deleteShader(a),g.deleteProgram(h),Error("Error linking shader program: "+
c);(b=d.E_(g.getProgramInfoLog(h)||"").trim())&&!d.FF(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);g.deleteShader(l);g.deleteShader(a);return h}static async Ra(b,a,e,c){e=await d.K.Su.KY(b,a.src,e,c);return new d.K.Su(b,e,a,c)}constructor(b,a,e,c){super(b,c,e);const g=b.S;var l=b.Gc;b.Pj();g.useProgram(a);this.S=g;this.ed=a;this.$B="<default-device-transform>"===c;c=g.getAttribLocation(a,"aPos");const h=g.getAttribLocation(a,"aTex");this.WJ=g.getAttribLocation(a,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,b.vD),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,b.iD),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.WJ&&(g.bindBuffer(g.ARRAY_BUFFER,b.MC),g.vertexAttribPointer(this.WJ,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.WJ));g.bindBuffer(g.ARRAY_BUFFER,null);this.$K=new d.K.mc(this,"matP","mat4");this.ZK=new d.K.mc(this,"matMV","mat4");this.wq=new d.K.mc(this,"color",
"vec4");this.Vea=new d.K.mc(this,"samplerFront","sampler");this.cL=new d.K.mc(this,"pointTexStart","vec2");this.bL=new d.K.mc(this,"pointTexEnd","vec2");this.fL=new d.K.mc(this,"zElevation","float");this.dL=new d.K.mc(this,"tileSize","vec2");this.eL=new d.K.mc(this,"tileSpacing","vec2");this.YK=new d.K.mc(this,"color2_","vec4");this.aL=new d.K.mc(this,"outlineThickness","float");this.pt=new d.K.mc(this,"samplerBack","sampler");this.Uea=new d.K.mc(this,"samplerDepth","sampler");this.Sn=new d.K.mc(this,
"destStart","vec2");this.Rn=new d.K.mc(this,"destEnd","vec2");this.Fj=new d.K.mc(this,"srcStart","vec2");this.km=new d.K.mc(this,"srcEnd","vec2");this.mm=new d.K.mc(this,"srcOriginStart","vec2");this.lm=new d.K.mc(this,"srcOriginEnd","vec2");this.wh=new d.K.mc(this,"pixelSize","vec2");this.Yn=new d.K.mc(this,"seconds","float");this.Tn=new d.K.mc(this,"devicePixelRatio","float");this.Vn=new d.K.mc(this,"layerScale","float");this.Un=new d.K.mc(this,"layerAngle","float");this.Xn=new d.K.mc(this,"layoutStart",
"vec2");this.Wn=new d.K.mc(this,"layoutEnd","vec2");this.fU=!!(this.wh.X||this.Yn.X||this.pt.X||this.Sn.X||this.Rn.X||this.Fj.X||this.km.X||this.mm.X||this.lm.X||this.Tn.X||this.Vn.X||this.Un.X||this.Xn.X||this.Wn.X);b=e.parameters||[];this.xq=[];this.qD=this.wh.X||this.Fj.X||this.km.X||this.mm.X||this.lm.X;this.$I=this.aJ=!1;this.wq.fO();this.YK.fO();this.Vea.nF(0);this.pt.nF(1);this.Uea.nF(2);this.cL.Ng(0,0);this.bL.Ng(1,1);this.fL.No(0);this.dL.Ng(0,0);this.eL.Ng(0,0);this.Sn.Ng(0,0);this.Rn.Ng(1,
1);this.Fj.Ng(0,0);this.km.Ng(0,0);this.mm.Ng(0,0);this.lm.Ng(0,0);this.wh.Ng(0,0);this.Tn.No(1);this.Vn.No(1);this.Un.No(0);this.Yn.No(0);this.Xn.Ng(0,0);this.Wn.Ng(0,0);this.aL.No(1);for(const m of b)b=m[2],a=new d.K.mc(this,m[0],b),"color"===b?a.R1():a.No(0),this.xq.push(a);this.$B?this.pT(l.Jx):(this.iA(l.Jx,!0),this.hA(l.CD,!0));l=l.yi;g.useProgram(l?l.ed:null)}A(){this.S.deleteProgram(this.ed);this.ed=null;this.ra.hba(this);this.S=null;super.A()}Yf(){return this.ed}gz(b){return this.xq[b].dk()}ZX(b){for(let a=
0,e=b.length;a<e;++a)if(!this.xq[a].P2(b[a]))return!1;return!0}u5(b){for(let a=0,e=b.length;a<e;++a)this.xq[a].o5(b[a])}$X(b,a,e,c,g,l,h,m,n,p){return this.pt.X||this.wh.X&&!this.wh.ol(g,l)||this.Sn.X&&!this.Sn.ol(b.R,b.O)||this.Rn.X&&!this.Rn.ol(b.aa,b.W)||this.Tn.X&&!this.Tn.Dz(h)||this.Vn.X&&!this.Vn.Dz(m)||this.Un.X&&!this.Un.Dz(n)||this.Fj.X&&!this.Fj.ol(a.R,a.O)||this.km.X&&!this.km.ol(a.aa,a.W)||this.mm.X&&!this.mm.ol(e.R,e.O)||this.lm.X&&!this.lm.ol(e.aa,e.W)||this.Xn.X&&!this.Xn.ol(c.R,c.O)||
this.Wn.X&&!this.Wn.ol(c.O,c.W)||this.Yn.X&&!this.Yn.Dz(p)?!1:!0}O5(b,a,e,c,g,l,h,m,n,p){this.pt.X||(this.wh.X&&this.wh.ql(g,l),this.Sn.X&&this.Sn.ql(b.R,b.O),this.Rn.X&&this.Rn.ql(b.aa,b.W),this.Tn.X&&this.Tn.Zz(h),this.Vn.X&&this.Vn.Zz(m),this.Un.X&&this.Un.Zz(n),this.Fj.X&&this.Fj.ql(a.R,a.O),this.km.X&&this.km.ql(a.aa,a.W),this.mm.X&&this.mm.ql(e.R,e.O),this.lm.X&&this.lm.ql(e.aa,e.W),this.Xn.X&&this.Xn.ql(c.R,c.O),this.Wn.X&&this.Wn.ql(c.O,c.W),this.Yn.X&&this.Yn.Zz(p))}iA(b,a){this.aJ&&!a||
this.$B||(this.$K.X&&this.$K.jA(b),this.aJ=!0)}N5(){this.aJ=!1}hA(b,a){this.$I&&!a||this.$B||(this.ZK.X&&this.ZK.jA(b),this.$I=!0)}M5(){this.$I=!1}pT(b){if(!this.$B)throw Error("not device transform shader");this.$K.jA(b);b=this.ra;const a=b.ea()/2,e=b.$()/2;b=b.Mt(a,e,b.Uf(b.$()),a,e,b.$());this.ZK.jA(b)}T6(b){this.wq.X&&this.wq.gA(b[0],b[1],b[2],b[3])}static Vy(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.D,b=self.Kj.wm,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.K.mc=class{constructor(e,c,g){if(!a.has(g))throw Error("invalid uniform type");this.tc=e;this.S=this.tc.S;this.Ja=c;this.Aa=g;this.rJ="color"===this.Aa;this.hi=this.S.getUniformLocation(this.tc.Yf(),c);this.X=!!this.hi;e=a.get(g);this.Ob=new Float32Array(e);this.zj=new Float32Array(e)}A(){this.hi=this.S=this.tc=null}dk(){return this.Aa}No(e){this.X&&
(this.Ob[0]=e,this.zj.set(this.Ob),this.S.uniform1f(this.hi,e))}nF(e){this.X&&(this.Ob[0]=e,this.zj.set(this.Ob),this.S.uniform1i(this.hi,e))}Ng(e,c){this.X&&(this.Ob[0]=e,this.Ob[1]=c,this.zj.set(this.Ob),this.S.uniform2f(this.hi,e,c))}R1(){this.X&&(this.Ob[0]=0,this.Ob[1]=0,this.Ob[2]=0,this.zj.set(this.Ob),this.S.uniform3f(this.hi,0,0,0))}fO(){this.X&&(this.Ob[0]=1,this.Ob[1]=1,this.Ob[2]=1,this.Ob[3]=1,this.zj.set(this.Ob),this.S.uniform4f(this.hi,1,1,1,1))}lp(e){e=Math.fround(e);const c=this.Ob;
c[0]!==e&&(c[0]=e,this.S.uniform1f(this.hi,e))}Pe(e,c){e=Math.fround(e);c=Math.fround(c);const g=this.Ob;if(g[0]!==e||g[1]!==c)g[0]=e,g[1]=c,this.S.uniform2f(this.hi,e,c)}R6(e,c,g){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);const l=this.Ob;if(l[0]!==e||l[1]!==c||l[2]!==g)l[0]=e,l[1]=c,l[2]=g,this.S.uniform3f(this.hi,e,c,g)}gA(e,c,g,l){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);l=Math.fround(l);const h=this.Ob;if(h[0]!==e||h[1]!==c||h[2]!==g||h[3]!==l)h[0]=e,h[1]=c,h[2]=g,h[3]=l,this.S.uniform4f(this.hi,
e,c,g,l)}jA(e){const c=this.Ob;b.Jj(c,e)||(d.bha(c,e),this.S.uniformMatrix4fv(this.hi,!1,e))}P2(e){const c=this.zj;return this.rJ?c[0]===Math.fround(e.Xa)&&c[1]===Math.fround(e.Ia)&&c[2]===Math.fround(e.ab):c[0]===Math.fround(e)}o5(e){const c=this.zj;this.rJ?(c[0]=e.Xa,c[1]=e.Ia,c[2]=e.ab):c[0]=e}Dz(e){return this.zj[0]===Math.fround(e)}ol(e,c){const g=this.zj;return g[0]===Math.fround(e)&&g[1]===Math.fround(c)}Zz(e){this.zj[0]=e}ql(e,c){const g=this.zj;g[0]=e;g[1]=c}}}
{"use strict";const d=self.D,b=self.Kj,a=b.ey,e=b.wm;d.K.fY=class{constructor(c){this.lo=c;this.CD=e.create();this.Jx=e.create();this.Ij=this.rm=null;this.FW=!1;this.BD=a.Of(1,1,1,1);this.yi=null;this.bM=new d.Rect;this.clearColor=d.C(d.eb,0,0,0,0)}};d.K.e7=class{constructor(c){const g=new ArrayBuffer(96);this.Aa=0;this.Gc=c;this.S=c.lo.S;this.Ll=this.If=0;this.Ye=null;this.ue=new Float32Array(g,0,16);this.Cp=new Float32Array(g,64,4);this.GV=new Float32Array(g,80,4);this.VC=[]}f2(c){this.Aa=1;this.If=
c;this.Ll=6}tZ(){const c=this.S;c.drawElements(c.TRIANGLES,this.Ll,c.UNSIGNED_SHORT,this.If)}o2(c){this.Aa=2;this.Ye=c}HZ(){const c=this.S,g=this.Ye;c.bindTexture(c.TEXTURE_2D,g?g.wb:null)}oF(c){this.Aa=3;c.Ah(this.Cp,0)}vZ(){const c=this.Cp,g=this.Gc;a.pa(g.BD,c);g.yi.T6(c)}zZ(){const c=this.Cp,g=this.Gc.yi;g.YK.X&&g.YK.gA(c[0],c[1],c[2],c[3])}g2(c,g){this.Aa=4;this.If=c;this.Ll=g}uZ(){this.S.blendFunc(this.If,this.Ll)}p2(c,g){this.Aa=5;const l=this.Cp;l[0]=0;l[1]=0;l[2]=c;l[3]=g}JZ(){const c=this.Cp;
this.S.viewport(c[0],c[1],c[2],c[3])}m2(c){this.Aa=6;e.pa(this.ue,c)}EZ(){const c=this.Gc,g=c.lo.yp,l=c.yi,h=this.ue;for(let m=0,n=g.length;m<n;++m){const p=g[m];p===l?p.iA(h,!0):p.N5()}e.pa(c.Jx,h)}j2(c){this.Aa=7;e.pa(this.ue,c)}AZ(){const c=this.Gc,g=c.lo.yp,l=c.yi,h=this.ue;for(let m=0,n=g.length;m<n;++m){const p=g[m];p===l?p.hA(h,!0):p.M5()}e.pa(c.CD,h)}n2(c){this.Aa=8;this.Ye=c}FZ(){const c=this.S,g=this.Ye,l=this.Gc;g?(l.rm=g.gh,l.Ij=g.Mp,l.FW&&l.Ij?c.bindFramebuffer(c.FRAMEBUFFER,l.Ij):c.bindFramebuffer(c.FRAMEBUFFER,
l.rm)):(l.rm=null,l.Ij=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}V1(c){this.Aa=9;c.Ah(this.ue,0)}W1(){this.Aa=9;const c=this.ue;c[0]=0;c[1]=0;c[2]=0;c[3]=0}mZ(){const c=this.S;var g=this.ue;const l=this.Gc.clearColor,h=g[0],m=g[1],n=g[2];g=g[3];l.ED(h,m,n,g)||(c.clearColor(h,m,n,g),l.mo(h,m,n,g));c.clear(c.COLOR_BUFFER_BIT)}BZ(){const c=this.ue;this.Gc.bM.set(c[0],c[1],c[2],c[3])}sZ(){const c=this.S,g=this.Gc,l=g.lo.bD;c.useProgram(l.ed);l.iA(g.Jx,!1);l.hA(g.CD,!1);var h=g.bM;l.cL.X&&l.cL.Pe(h.R,
h.O);l.bL.X&&l.bL.Pe(h.aa,h.W);h=this.ue[0];l.fL.X&&l.fL.lp(h);l.wq.X&&(h=g.BD,l.wq.gA(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.If/4,this.Ll);c.useProgram(g.yi.ed)}k2(c){this.Aa=11;this.Ye=c}CZ(){var c=this.S;const g=this.Gc,l=this.Ye;g.yi=l;c.useProgram(l.ed);l.iA(g.Jx,!1);l.hA(g.CD,!1);l.wq.X&&(c=g.BD,l.wq.gA(c[0],c[1],c[2],c[3]))}l2(){this.Aa=12}DZ(){const c=this.Gc.yi;c.fU&&this.L8(c);c.xq.length&&this.M8(c)}L8(c){const g=this.S,l=this.ue,h=this.Cp,m=this.GV;if(c.pt.X){const n=this.Gc.lo,
p=this.Ye;n.wn!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.wb:null),n.wn=p,g.activeTexture(g.TEXTURE0))}c.wh.X&&c.wh.Pe(l[0],l[1]);c.Sn.X&&c.Sn.Pe(l[2],l[3]);c.Rn.X&&c.Rn.Pe(l[4],l[5]);c.Tn.X&&c.Tn.lp(this.Ll);c.Vn.X&&c.Vn.lp(l[6]);c.Un.X&&c.Un.lp(l[7]);c.Fj.X&&c.Fj.Pe(l[12],l[13]);c.km.X&&c.km.Pe(l[14],l[15]);c.mm.X&&c.mm.Pe(m[0],m[1]);c.lm.X&&c.lm.Pe(m[2],m[3]);c.Xn.X&&c.Xn.Pe(h[0],h[1]);c.Wn.X&&c.Wn.Pe(h[2],h[3]);c.Yn.X&&c.Yn.lp(this.If)}M8(c){c=c.xq;const g=this.VC;for(let l=
0,h=c.length;l<h;++l){const m=c[l],n=g[l];m.rJ?m.R6(n.Xa,n.Ia,n.ab):m.lp(n)}}b2(c){this.Aa=13;this.Ye=c}rZ(){const c=this.S,g=this.Ye,l=this.Gc.rm;g!==l&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==l&&c.bindFramebuffer(c.FRAMEBUFFER,l)}S1(c,g){this.Aa=16;var l=this.ue;const h=this.Gc.lo;l[0]=c.ea();l[1]=c.$();l[2]=g?g.ea():h.ea();l[3]=g?g.$():h.$();l[4]=c.zF()?1:0;l[5]=!0;l=this.VC;d.G(l);l.push(c.gh);l.push(g?g.gh:null)}kZ(){var c=this.ue,g=
this.VC;const l=this.S;var h=c[0],m=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];l.bindFramebuffer(l.READ_FRAMEBUFFER,g[0]);l.bindFramebuffer(l.DRAW_FRAMEBUFFER,u);c?l.blitFramebuffer(0,0,h,m,0,0,n,p,l.COLOR_BUFFER_BIT,q?l.LINEAR:l.NEAREST):(g=Math.min(h,n),h=Math.min(m,p),n=Math.max(m-p,0),m=Math.max(p-m,0),l.blitFramebuffer(0,n,g,h+n,0,m,g,h+m,l.COLOR_BUFFER_BIT,l.NEAREST))}r2(c){this.Aa=17;this.Ye=c}KZ(){this.Ye.iE();this.Ye=null}a2(c){this.Aa=18;this.Ye=c}qZ(){this.Ye.AE();this.Ye=
null}yZ(){const c=this.Gc.yi,g=this.ue;c.wh.X&&c.wh.Pe(g[0],g[1]);c.aL.X&&c.aL.lp(g[2])}IZ(){const c=this.Gc.yi,g=this.ue;c.Fj.X&&c.Fj.Pe(g[0],g[1]);c.wh.X&&c.wh.Pe(g[4],g[5]);c.dL.X&&c.dL.Pe(g[6],g[7]);c.eL.X&&c.eL.Pe(g[8],g[9])}U1(c){this.Aa=21;this.If=c?1:0}lZ(){const c=this.S,g=0!==this.If;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}h2(c){this.Aa=22;this.If=c?1:0}wZ(){const c=this.S;0===this.If?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}i2(c){this.Aa=
23;this.If=c?1:0}xZ(){const c=this.S,g=this.Gc,l=g.lo,h=0!==this.If;g.FW=h;c.activeTexture(c.TEXTURE2);h?(g.Ij&&c.bindFramebuffer(c.FRAMEBUFFER,g.Ij),c.bindTexture(c.TEXTURE_2D,l.eh)):(c.bindTexture(c.TEXTURE_2D,null),g.Ij&&c.bindFramebuffer(c.FRAMEBUFFER,g.rm));c.activeTexture(c.TEXTURE0)}Z1(){this.Aa=24}pZ(){const c=this.S;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}Y1(){this.Aa=25}oZ(){const c=
this.S;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}X1(){this.Aa=26}nZ(){const c=this.S;c.disable(c.STENCIL_TEST)}gO(c,g,l,h,m){this.Aa=27;this.If=c?1:0;c=this.ue;c[0]=g;c[1]=l;c[2]=h;c[3]=m}GZ(){const c=this.S,g=this.ue;1===this.If?(c.enable(c.SCISSOR_TEST),c.scissor(g[0],g[1],g[2],g[3])):c.disable(c.SCISSOR_TEST)}ua(){switch(this.Aa){case 1:this.tZ();break;case 2:this.HZ();break;case 3:this.vZ();break;case 4:this.uZ();break;case 5:this.JZ();break;case 6:this.EZ();
break;case 7:this.AZ();break;case 8:this.FZ();break;case 9:this.mZ();break;case 10:this.sZ();break;case 11:this.CZ();break;case 12:this.DZ();break;case 13:this.rZ();break;case 14:this.BZ();break;case 15:this.IZ();break;case 16:this.kZ();break;case 17:this.KZ();break;case 18:this.qZ();break;case 19:this.yZ();break;case 20:this.zZ();break;case 21:this.lZ();break;case 22:this.wZ();break;case 23:this.xZ();break;case 24:this.pZ();break;case 25:this.oZ();break;case 26:this.nZ();break;case 27:this.GZ()}}}}
{"use strict";const d=self.D,b={timeout:60},a=new d.eb(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),l=new Set;d.I_&&d.I_.addEventListener("fontload",p=>{p=p.font.Ba();for(const q of l)(q.bi||d.Dg(q.AB,p))&&q.vk()});function h(p,q,u,w,r,v){q?"Gecko"===d.kd.qy?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===d.kd.qy?p.fillText(u,w,r,v):p.fillText(u,w,r)}let m=!1,n=!1;d.K.TF=class{constructor(p,q){q=Object.assign({},b,q);this.ra=
p;this.AB="Arial";this.BB=16;this.CB=1;this.aq=0;this.xf=this.wf=!1;this.iB="black";this.bi=!1;this.XL=null;this.$H=new Set;this.tf="left";this.bf="top";this.ub="";this.Ev=null;this.co=d.C(d.HG);this.nL="word";this.GJ=this.jD=!1;this.kw=!0;this.Fp=-1;this.V=this.Z=this.zI=this.ks=this.ss=0;this.xi=1;this.uI=!1;this.Iw=this.Vl=this.je=this.rq=null;this.GU=this.HU=-1;this.tC=this.JU=this.LJ="";this.MJ=this.NJ=1;this.WU=(u,w)=>this.jS(u,w);this.wb=null;this.rx=this.ux=0;this.wg=new d.Rect;this.Xw=1;
this.fK=!1;this.UK=new d.N1(()=>{this.Si();this.YS(8,8)},q.timeout);this.QD=null;this.Hx=!1;l.add(this)}A(){this.XL=null;this.$H.clear();this.WU=this.Iw=this.Vl=this.je=this.rq=this.Ev=null;this.UK.A();this.QD=null;this.Si();this.co.yd();this.ra=this.co=null;this.Hx=!0;l.delete(this)}sp(){this.uI=!0}vk(){this.sp();this.co.yd();this.jD=!0}TP(){this.kw=!1}Og(){return this.kw}n5(p){p=!!p;this.bi!==p&&(p=(this.bi=p)?"alphabetic":"top",this.je&&(this.je.textBaseline=p),this.Vl&&(this.Vl.textBaseline=p),
this.vk())}gG(p){p||(p="serif");this.AB!==p&&(this.AB=p,this.vk())}hG(p){.1>p&&(p=.1);this.BB!==p&&(this.BB=p,this.vk())}D5(p){this.CB!==p&&(this.CB=p,this.vk())}XP(p){this.aq!==p&&(this.aq=p,this.sp())}FP(p){p=!!p;this.wf!==p&&(this.wf=p,this.vk())}VP(p){p=!!p;this.xf!==p&&(this.xf=p,this.vk())}fG(p){p=Math.floor(p);this.Fp!==p&&(this.Fp=p,this.sp())}ej(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Or(p,q){return!!this.ej(p,q)}uR(p,q){let u=[];(this.wf||this.Or(q,
"b"))&&u.push("bold");(this.xf||this.Or(q,"i"))&&u.push("italic");var w=this.ej(q,"size");w=(w?parseFloat(w.Ci):this.BB)*this.CB;p?u.push(w+"pt"):u.push(w*this.Xw*this.xi*self.devicePixelRatio+"pt");p=this.AB;(q=this.ej(q,"font"))&&q.Ci&&(p=q.Ci,this.XL&&!this.$H.has(p)&&(this.XL(p),this.$H.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Qm(p){p instanceof d.eb&&(p=p.Pfa());this.iB!==p&&(this.iB=p,this.sp())}HP(p,q,u){a.Ht(p,q,u);this.Qm(a)}QP(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.tf!==p&&(this.tf=p,this.sp())}jQ(p){if(!c.has(p))throw Error("invalid vertical alignment");this.bf!==p&&(this.bf=p,this.sp())}n6(p){if(!g.has(p))throw Error("invalid word wrap mode");this.nL!==p&&(this.nL=p,this.vk())}Nu(p){this.ub!==p&&(this.ub=p,this.vk())}vd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.ks===p&&this.zI===q&&this.xi===u)){1===this.xi!==(1===u)&&(this.fK=!0);var w=this.ks,r=this.xi;this.ks=p;this.zI=q;this.xi=u;p=self.devicePixelRatio;this.Z=this.ks*this.xi*p;this.V=
this.zI*this.xi*p;p=Math.max(this.Z,this.V);q=Math.min(this.ra.EC,4096);u=1;p>q&&(u=q/p,this.Z=Math.min(this.Z*u,q),this.V=Math.min(this.V*u,q));this.Xw=u;0<this.ux&&0<this.rx&&this.xi===r&&this.wg.set(0,0,this.Z/this.ux,this.V/this.rx);this.ks!==w?this.vk():this.sp()}}ea(){return this.Z}$(){return this.V}Z0(){this.sH();return this.co.F0()}Y0(){this.sH();return this.co.b1()+this.co.xn.length*(this.aq+4)-this.aq}Yd(){this.UK.ld();this.$$();return this.wb}$$(){this.wb&&!this.uI&&!this.jD||this.GJ||
0>=this.Z||0>=this.V||(this.uI=!1,this.GJ=!0,this.kw?d.po(()=>this.dR()):this.dR())}dR(){this.Hx||(this.YS(Math.ceil(this.Z),Math.ceil(this.V)),this.sH(),this.c9(),this.lda(),this.UK.ld(),this.GJ=!1)}YS(p,q){this.rq||(this.rq=d.Ch(16,16));let u=!1;if(this.HU!==p||this.GU!==q)this.HU=p,this.GU=q,this.rq.width=p,this.rq.height=q,u=!0;this.je||(this.je=this.rq.getContext("2d"),u=!0);u?(this.je.textBaseline=this.bi?"alphabetic":"top",this.je.font=this.LJ,this.je.fillStyle=this.tC,this.je.strokeStyle=
this.tC,this.je.globalAlpha=this.NJ,this.je.lineWidth=this.MJ):this.je.clearRect(0,0,p,q)}bS(){this.Vl||(this.Vl=d.Ch(16,16).getContext("2d"),this.Iw=d.Ch(16,16).getContext("2d"),this.Vl.textBaseline=this.bi?"alphabetic":"top",this.Iw.textBaseline="top")}yca(p){this.JU!==p&&(this.JU=p,this.Vl.font=p,this.Iw.font=p)}gT(){if(!m){m=!0;this.bS();const p=this.Vl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}sH(){this.jD&&(this.bS(),
!this.bi||this.Ev&&this.Ev.toString()===this.ub||(this.Ev=new d.Dm(this.ub,{uga:!0})),this.co.HG(this.bi?this.Ev.Wga():this.ub,this.WU,this.ks,this.nL,0),this.jD=!1)}jS(p,q){this.yca(this.uR(!0,q));q=this.ej(q,"size");q=(q?parseFloat(q.Ci):this.BB)*this.CB;const u=this.Vl.measureText(p);let w=0;this.bi&&this.gT()&&(w=u.fontBoundingBoxAscent-this.Iw.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,Eg:u.fontBoundingBoxAscent||0,Nf:u.fontBoundingBoxDescent||0,Qf:w}}gca(p){this.LJ!==
p&&(this.LJ=p,this.je.font=p)}GA(p){this.tC!==p&&(this.tC=p,this.je.fillStyle=p,this.je.strokeStyle=p)}fca(p){this.NJ!==p&&(this.NJ=p,this.je.globalAlpha=p)}SS(p){this.MJ!==p&&(this.MJ=p,this.je.lineWidth=p)}c9(){this.ss=0;const p=this.Xw*this.xi*self.devicePixelRatio,q=(4+this.aq)*p;var u=0;const w=this.co.xn;if(0!==w.length){var r=this.bi&&this.gT(),v=w[0].height*p;"center"===this.bf?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.V/2-u/2,0),r&&(v=w[0].Qf*p)):"bottom"===this.bf&&(u=w.reduce((y,
A)=>y+A.height*p+q,0)-this.aq*p,u=this.V-u-(r?w.le(-1).Nf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.bi){if(u+=0===y?v:G,0<y&&u>this.V-4*p)break}else if(0<y&&u>=this.V-G)break;0<=z&&this.b9(r,u,p);this.bi||(u+=G);u+=q}}}b9(p,q,u){let w=0;"center"===this.tf?w=(this.Z-p.width*u)/2:"right"===this.tf&&(w=this.Z-p.width*u);for(const r of p.wW)this.a9(r,w,q,u,p.height),w+=r.width*u}a9(p,q,u,w,r){const v=this.je;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=
(4+this.aq)*w,F=p.sd,H=p.text;if(-1!==this.Fp){if(this.ss>=this.Fp)return;this.ss+H.length>this.Fp&&(H=H.substr(0,this.Fp-this.ss),r=this.jS(H,F).width*w);this.ss+=H.length}var J=this.ej(F,"background"),L=this.Or(F,"u");p=this.Or(F,"s");if((!d.FF(H)||J||L||p)&&!this.Or(F,"hide")){var P=this.ej(F,"offsetx");q+=P?parseFloat(P.Ci)*w:0;P=this.ej(F,"offsety");u+=P?parseFloat(P.Ci)*w:0;J&&(this.GA(J.Ci),v.fillRect(q,u-A,r,A+z));P=this.ej(F,"color");this.GA(P?P.Ci:this.iB);z=this.ej(F,"opacity");this.fca(z?
parseFloat(z.Ci)/100:1);z=(z=this.ej(F,"linethickness"))?parseFloat(z.Ci):1;(J=this.Or(F,"stroke"))&&this.SS(.5*G*z*this.Xw*this.xi*self.devicePixelRatio);this.gca(this.uR(!1,F));h(v,J,H,q,u,r);!J&&(this.SS(.5*G*z*this.Xw*this.xi*self.devicePixelRatio),F=this.ej(F,"outline"))&&(this.GA(F.Ci),h(v,!0,H,q,u,r));this.GA(P?P.Ci:this.iB);L&&(F=q,H=u+w*y,L=r,y=w*y*z,J?v.strokeRect(F,H,L,y):v.fillRect(F,H,L,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}lda(){this.ra.Po()||(this.ux=Math.ceil(this.Z),
this.rx=Math.ceil(this.V),this.wg.set(0,0,this.Z/this.ux,this.V/this.rx),this.fK&&(this.Si(),this.fK=!1),this.wb||(this.wb=this.ra.UM(this.ux,this.rx,{OD:1===this.xi,Wx:"high"})),this.ra.W6(this.rq,this.wb),this.QD&&this.QD())}Mi(){return this.wg}Si(){this.wb&&(this.ra.Po()||this.ra.Oj(this.wb),this.wb=null)}static pl(){for(const p of l)p.Si()}}}
{"use strict";const d=self.D;class b{constructor(a){this.S=a.S;this.fd=a.fd;this.Kd=a.Kd;this.mi=null;this.bw=this.Nb=!1;this.SC=0;this.mi=1===this.fd?this.Kd.createQueryEXT():this.S.createQuery()}A(){this.ZQ();this.Kd=this.S=null;this.bw=!1}ZQ(){this.mi&&(1===this.fd?this.Kd.deleteQueryEXT(this.mi):this.S.deleteQuery(this.mi),this.mi=null)}iE(){if(this.Nb)throw Error("query already active");1===this.fd?this.Kd.beginQueryEXT(this.Kd.TIME_ELAPSED_EXT,this.mi):this.S.beginQuery(this.Kd.TIME_ELAPSED_EXT,
this.mi);this.Nb=!0}AE(){if(!this.Nb)throw Error("query not active");1===this.fd?this.Kd.endQueryEXT(this.Kd.TIME_ELAPSED_EXT):this.S.endQuery(this.Kd.TIME_ELAPSED_EXT);this.Nb=!1}pE(){if(this.mi&&!this.bw&&!this.Nb){var a=1===this.fd?this.Kd.getQueryObjectEXT(this.mi,this.Kd.QUERY_RESULT_AVAILABLE_EXT):this.S.getQueryParameter(this.mi,this.S.QUERY_RESULT_AVAILABLE);var e=this.S.getParameter(this.Kd.GPU_DISJOINT_EXT);a&&!e&&(this.SC=1===this.fd?this.Kd.getQueryObjectEXT(this.mi,this.Kd.QUERY_RESULT_EXT):
this.S.getQueryParameter(this.mi,this.S.QUERY_RESULT),this.SC/=1E9,this.bw=!0);(a||e)&&this.ZQ()}}uz(){return this.bw}lz(){if(!this.bw)throw Error("no result available");return this.SC}}d.K.g7=class{constructor(a){this.ra=a;this.$h=a.$h;this.Nb=!1;this.Dn=null;this.tn=!1;this.Zs=null;this.jq=[]}A(){for(const a of this.jq)a instanceof b&&a.A();d.G(this.jq);this.ra=this.Zs=this.Dn=null}iE(){if(this.Nb)throw Error("query already active");const a=this.ra.MV;0<a.length?(this.tn=!0,this.Dn=a.le(-1),this.Dn.iR(),
this.Dn.jq.push(this)):(this.tn=!1,this.Dn=null);this.Nb=!0;a.push(this);this.dT()}AE(){if(!this.Nb)throw Error("query not active");if(this.ra.MV.pop()!==this)throw Error("can only end most nested query");this.Nb=!1;this.iR();this.Dn&&(this.Dn.dT(),this.Dn=null)}dT(){this.Zs=d.C(b,this.ra);this.jq.push(this.Zs);this.Zs.iE()}iR(){this.Zs.AE();this.Zs=null}pE(){for(const a of this.jq)a.pE()}uz(){return this.jq.every(a=>a.uz())}lz(){return this.jq.reduce((a,e)=>a+e.lz(),0)}}}
{"use strict";const d=self.D;d.K.AQ=class{constructor(b,a=1E3){this.ra=b;this.xea=a;this.zk=[];this.ra.w7(this)}A(){this.yd();this.ra.gba(this);this.ra=null}yd(){for(const b of this.zk)b.A();d.G(this.zk)}gE(){const b=new d.K.g7(this.ra);this.zk.push(b);this.zk.length>this.xea&&this.zk.shift().A();return b}xY(b){for(const a of this.zk){if(a.$h>=b)break;if(a.tn)break;a.pE()}}CN(b,a){if(a<=b)return NaN;let e=0;for(const c of this.zk){if(c.$h>=a)break;if(!(c.$h<b))if(c.uz())e+=c.lz();else return NaN}return e}bN(b){for(let a=
0,e=this.zk.length;a<e;++a){const c=this.zk[a];if(c.$h<b)c.A();else{0<a&&this.zk.splice(0,a);break}}}}}
{"use strict";const d=self.D,b=self.Kj,a=b.ey,e=b.wm,c={powerPreference:"default",vW:!0,alpha:!1,RL:!1,depth:!1,wL:!1,LW:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),l=new d.Cd(0,0,1,0,1,1,0,1),h=e.create(),m=e.create(),n=new d.Cd,p=new d.Rect;let q=null;d.Qx&&(self.cqa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.dqa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.kfa()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}d.K.f7=class extends d.K.N4{constructor(v,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.RL&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.LW&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.S=G;this.vT=G.getContextAttributes();y.RL&&!this.vT.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.fd=z;this.Jf=a.create();this.ln=!1;this.XA=e.create();this.om=!!y.depth;this.Hv=!(!y.depth||!y.wL);this.Tp=this.om;this.sJ=!1;this.eh=null;this.qJ=!0;this.HT=this.IT=0;this.MC=this.qU=this.iD=this.vD=null;this.Fx=
new Float32Array(24E3);this.rU=new Uint16Array(12E3);this.qq=new Float32Array(16E3);this.kV=new Float32Array(32E3);this.KU=this.NC=this.Ae=this.wi=0;this.nq=this.Zp=null;this.Dv=[];this.ec=this.bn=0;this.ae=null;this.Gc=d.C(d.K.fY,this);this.yw=d.C(d.eb,1,1,1,1);this.wn=this.Tl=null;this.IJ=this.KJ=0;this.qea=new d.Rect;this.sC=d.C(d.Rect,0,0,-1,-1);this.EC=-1;this.$J=0;this.Bx="(unavailable)";this.wJ=!1;this.Qv=this.wv=this.kK=null;this.ZJ=0;this.nea=!!y.vW;this.Kd=null;this.RA=new Set;this.MV=[];
this.D_(this.rU)}Qi(){return!0}async yz(){super.yz();var v=this.S;this.yw.mo(1,1,1,1);this.wn=this.Tl=null;this.NC=this.wi=0;this.KU=23988;d.G(this.Dv);this.ec=this.bn=0;this.ae=this.Zp=null;this.qea.set(0,0,1,1);var y=this.Gc;y.yi=null;y.rm=null;y.Ij=null;a.set(y.BD,1,1,1,1);y.clearColor.mo(0,0,0,0);y.bM.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.KJ=v.ONE;this.IJ=v.ONE_MINUS_SRC_ALPHA;this.d$(v);v.disable(v.CULL_FACE);
v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.om?(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.Tp=this.om;this.sJ=!1;this.MC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.MC);v.bufferData(v.ARRAY_BUFFER,this.kV.byteLength,v.DYNAMIC_DRAW);this.vD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.vD);v.bufferData(v.ARRAY_BUFFER,this.Fx.byteLength,v.DYNAMIC_DRAW);this.iD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.iD);v.bufferData(v.ARRAY_BUFFER,
this.qq.byteLength,v.DYNAMIC_DRAW);this.qU=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.qU);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.rU,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.EC=v.getParameter(v.MAX_TEXTURE_SIZE);this.$J=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.$J&&(this.$J=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Bx=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.kK=v.getExtension("KHR_parallel_shader_compile");
d.Qx&&(q=v.getExtension("WEBGL_lose_context"));if(this.nea)if(1===this.fd){if("Chromium"!==d.kd.qy||81<=d.kd.kE||"undefined"!==typeof document)this.Kd=v.getExtension("EXT_disjoint_timer_query")}else this.Kd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.ZJ=(this.wv=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.wv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.fd&&this.om&&this.Hv&&(this.Qv=v.getExtension("WEBGL_depth_texture"),
!this.Qv))throw Error("no depth texture support");2>this.fd&&v.getExtension("EXT_frag_depth");v=d.K.Su;y=v.Vy(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],
["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}","attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",
"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Vy(!0),"<tilemap>"]].map(A=>this.uE({src:A[0]},A[1],A[2])));this.cD=v[0];this.nq=v[1];this.bD=v[2];this.IK=v[3];this.nk()}async uE(v,y,A){v=await d.K.Su.Ra(this,v,y,A);this.x7(v);return v}T4(){this.Zp=null}vd(v,y,A){if(this.Z!==v||this.V!==y||A){this.Pj();A=this.S;var G=this.Gc;this.Z=v;this.V=y;this.aT(v,y);this.ro(this.XA,v/y);this.gp(this.XA);this.nq&&(A.useProgram(this.nq.Yf()),this.nq.pT(this.DC),this.Zp=this.nq,this.Gc.yi=this.nq);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.wn=this.Tl=null;this.om&&this.qJ&&this.FH(this.Z,this.V);this.ae&&this.ae.AS(this.Z,this.V);A.bindFramebuffer(A.FRAMEBUFFER,null);this.ae=null;G.rm=null;G.Ij=null}}FH(v,y){const A=this.S;this.eh&&this.IT===v&&this.HT===y||(this.Hv?(this.eh&&A.deleteTexture(this.eh),this.eh=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.eh),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.fd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Qv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Qv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.eh&&A.deleteRenderbuffer(this.eh),this.eh=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.eh),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.fd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.IT=v,this.HT=y)}C5(v,y){this.om&&(this.qJ=!1,this.FH(v,y))}m5(){this.om&&(this.qJ=!0,this.FH(this.Z,this.V))}aT(v,y){const A=this.Jf;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Ac().p2(v,y),a.set(A,0,0,v,y),this.ec=0}iG(v){super.iG(v);this.ro(this.XA,this.Z/this.V)}gp(v){e.Jj(this.DC,v)||(this.Ac().m2(v),e.pa(this.DC,v),this.ec=0,this.ln=!0)}KP(){let v,y;var A=this.ae;
null===A?(v=this.XA,y=this.ea(),A=this.$()):(v=A.R0(),y=A.ea(),A=A.$());this.gp(v);this.aT(y,A)}Ar(v){e.Jj(this.YJ,v)||(this.Ac().j2(v),e.pa(this.YJ,v),this.ec=0,this.ln=!0)}R4(){this.ln=!1}Ac(){const v=this.Dv;this.bn===v.length&&v.push(new d.K.e7(this.Gc));return v[this.bn++]}Pj(){0===this.bn||this.Po()||(this.uda(),this.f9(),this.ec=this.NC=this.Ae=this.wi=this.bn=0)}uda(){const v=this.S;0<this.NC&&(v.bindBuffer(v.ARRAY_BUFFER,this.MC),v.bufferSubData(v.ARRAY_BUFFER,0,this.kV.subarray(0,this.NC)));
0<this.wi&&(v.bindBuffer(v.ARRAY_BUFFER,this.vD),v.bufferSubData(v.ARRAY_BUFFER,0,this.Fx.subarray(0,this.wi)),v.bindBuffer(v.ARRAY_BUFFER,this.iD),v.bufferSubData(v.ARRAY_BUFFER,0,this.qq.subarray(0,this.Ae)))}f9(){const v=this.Dv;for(let y=0,A=this.bn;y<A;++y)v[y].ua()}Vd(){return this.yw.$a}pf(v,y,A,G){const z=this.yw;z.ED(v,y,A,G)||(z.mo(v,y,A,G),this.Ac().oF(z),this.ec=0,this.oj=null)}Wi(v){const y=this.yw;y.$a!==v&&(y.Ft(v),this.Ac().oF(y),this.ec=0,this.oj=null)}Qm(v){const y=this.yw;y.rd(v)||
(y.set(v),this.Ac().oF(y),this.ec=0,this.oj=null)}Au(){this.pf(1,1,1,1)}gg(v){v!==this.Tl&&(this.Ac().o2(v),this.Tl=v,this.ec=0)}xH(){this.Tl=null}fg(v){v=this.B9(v);this.EH(v[0],v[1])}EH(v,y){if(v!==this.KJ||y!==this.IJ)this.Ac().g2(v,y),this.KJ=v,this.IJ=y,this.ec=0,this.oj=null}EP(){this.EH(this.S.ONE,this.S.ONE_MINUS_SRC_ALPHA)}eG(){this.EH(this.S.ONE,this.S.ZERO)}Rect(v){this.hP(v.R,v.O,v.aa,v.W)}hP(v,y,A,G){this.w4(v,y,A,y,A,G,v,G)}Xu(){let v=this.wi;v>=this.KU&&(this.Pj(),v=0);1===this.ec?
this.Dv[this.bn-1].Ll+=6:(this.Ac().f2(v),this.ec=1)}TH(v){v.gha(this.Fx,this.wi,this.Bv+this.Pv);this.wi+=12}Cd(v){this.Xu();this.TH(v);l.Ah(this.qq,this.Ae);this.Ae+=8}w4(v,y,A,G,z,F,H,J){this.Xu();const L=this.Fx;let P=this.wi;const R=this.Bv+this.Pv;L[P++]=v;L[P++]=y;L[P++]=R;L[P++]=A;L[P++]=G;L[P++]=R;L[P++]=z;L[P++]=F;L[P++]=R;L[P++]=H;L[P++]=J;L[P++]=R;this.wi=P;l.Ah(this.qq,this.Ae);this.Ae+=8}kr(v,y){this.Xu();this.TH(v);y.fha(this.qq,this.Ae);this.Ae+=8}x4(v,y){this.Xu();this.TH(v);y.Ah(this.qq,
this.Ae);this.Ae+=8}Nz(v,y,A,G,z,F,H,J,L,P,R,T,Z){this.Xu();const X=this.Fx;let ba=this.wi;const Y=this.Bv+this.Pv;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+L;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.wi=ba;Z.Ah(this.qq,this.Ae);this.Ae+=8}J_(v,y){e.pa(h,this.DC);e.pa(m,this.YJ);this.KP();const [A,G]=this.eu(this.ae);var z=this.Mt(0,0,this.Uf(G),0,0,G);this.Ar(z);if("crop"===v&&this.ae&&y){v=this.Z/2;z=this.V/2;const J=y.ea();y=y.$();var F=this.ae.ea(),
H=this.ae.$();F=Math.min(F,J);const L=Math.min(H,y),P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-L-H);n.Mj(p);p.set(0,P,F,L+P);p.um(J,y);this.kr(n,p)}else v=A/2,z=G/2,this.hP(-v,z,v,-z);this.gp(h);this.Ar(m)}Er(v){this.Zp!==v&&(this.Ac().k2(v),this.Zp=v,this.ec=0,this.oj=null)}dQ(v,y,A,G,z,F,H,J,L,P,R,T){const Z=this.Zp;var X=Z.fU;const ba=!!T.length;if(X&&!Z.$X(y,A,G,z,F,H,J,L,P,R)||ba&&!Z.ZX(T)){var Y=this.Ac();Y.l2();X&&(Z.O5(y,A,G,z,F,H,J,L,P,R),X=Y.ue,X[0]=F,X[1]=H,y.Ah(X,2),X[6]=
L,X[7]=P,A.Ah(X,12),y=Y.Cp,z.Ah(y,0),z=y[1],y[1]=y[3],y[3]=z,G.Ah(Y.GV,0),Y.If=R,Y.Ll=J,Y.Ye=Z.pt.X?v?v.Yd():null:null);ba&&(Z.u5(T),d.Vc(Y.VC,T));this.ec=0}}uo(){this.Ac().W1();this.ec=0}yd(v){this.Ac().V1(v);this.ec=0}Pu(){}Kq(){super.Kq();this.S.flush()}yY(){this.om&&this.ae&&this.ae.$c&&(this.Ac().U1(this.Tp),this.ec=0)}Tg(v){v=!!v;this.Tp!==v&&this.om&&(this.Tp=v,this.Ac().h2(v),this.ec=0)}Eu(v){v=!!v;if(this.Hv&&this.sJ!==v){if(v&&this.Tp)throw Error("depth still enabled");this.sJ=v;this.Ac().i2(v);
this.ec=0}}W5(v,y,A,G,z=0){v=Math.floor(v);y=Math.floor(y);A=Math.floor(A);G=Math.floor(G);this.sC.Gfa(v,y,A,G)||(this.sC.zh(v,y,A,G),y=(z||this.eu(this.ak())[1])-y-G,this.Ac().gO(!0,v,y,A,G),this.ec=0)}jP(){-1!==this.sC.aa&&(this.sC.set(0,0,-1,-1),this.Ac().gO(!1,0,0,0,0),this.ec=0)}wY(){for(const v of this.RA)v.xY(this.$h)}Po(){return!this.S||this.S.isContextLost()||this.wJ}pl(){super.L3();d.K.lA.pl();d.K.BQ.pl();d.K.TF.pl();for(const v of this.RA)v.yd();this.Qv=this.wv=this.kK=this.Kd=null;this.ZJ=
0;this.Bx="(unavailable)";this.eh=this.nq=this.Zp=null;for(const v of this.mx.values())v.pl()}async LF(){this.wJ=!0;await this.yz();this.wJ=!1;for(const v of this.mx.values())v.LF(this);this.vd(this.Z,this.V,!0)}YM(v,y){if(this.Po())throw Error("context lost");this.Pj();const A=d.C(d.K.lA,this);A.f8(v,y);return A}async vE(v,y){if(this.Po())throw Error("context lost");y=Object.assign({},y);if(d.Fb.ImageBitmapOptions){let A=await createImageBitmap(v,{premultiplyAlpha:"premultiply"});const G=y.aE&&"clamp-to-edge"!==
y.aE||y.bE&&"clamp-to-edge"!==y.bE,z=d.Bi(A.width)&&d.Bi(A.height);this.ip()||z||!G?y.premultiplyAlpha=!1:d.Fb.wz?(A=await createImageBitmap(v,{premultiplyAlpha:"premultiply",resizeWidth:d.PD(A.width),resizeHeight:d.PD(A.height)}),y.premultiplyAlpha=!1):A=await createImageBitmap(v,{premultiplyAlpha:"none"});return await d.po(()=>this.YM(A,y))}if(v instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");v=await d.kY(v)}return await d.po(()=>this.YM(v,
y))}UM(v,y,A){this.Pj();const G=d.C(d.K.lA,this);G.S7(v,y,A);return G}W6(v,y){this.Pj();y.kT(v,void 0)}Oj(v){v&&(v.H6(),0<v.Sc||(this.Pj(),v===this.Tl&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Tl=null),v===this.wn&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.wn=null),v.XG()))}XY(v){let y=this.Z,A=this.V,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||
0>=A)throw Error("invalid size");this.Pj();const z=d.C(d.K.BQ,this);z.R7(y,A,Object.assign({EW:G},v));this.ae=null;this.Gc.rm=null;this.Gc.Ij=null;return z}Ug(v,y=!0){v!==this.ae&&(v&&v.ZB&&v.AS(this.Z,this.V),this.Ac().n2(v),this.ae=v,this.ec=0,y&&this.KP())}ak(){return this.ae}eu(v){return v?[v.ea(),v.$()]:[this.Z,this.V]}RM(v){2>this.fd||this.ae&&0<this.ae.Wl?(this.eG(),this.Au(),this.Jy(v,"stretch")):(this.Ac().S1(v,this.ae),this.ec=0)}Jy(v,y="stretch"){v=v.Yd();if(!v)throw Error("not a texture-backed render target");
this.gg(v);this.J_(y,v)}Yq(v){2>this.fd||(this.Ac().b2(v.gh),this.ec=0)}iZ(v){this.Ug(null);this.Pj();const y=v.Yd();y===this.Tl&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Tl=null);y===this.wn&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.wn=null);v.XG()}QM(){this.Tg(!0);this.Ac().Z1();this.ec=0}PM(){this.Tg(!1);this.Ac().Y1();this.ec=0}OM(){this.Tg(!0);this.Ac().X1();this.ec=0}AG(v){this.pk()&&(this.Ac().r2(v),
this.ec=0)}zE(v){this.pk()&&(this.Ac().a2(v),this.ec=0)}qda(v){const y=new Promise(A=>u.add({resolve:A,kfa:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}F2(){return!!this.vT.desynchronized}$_(){let v=0;for(const y of d.K.lA.$ea())v+=y.ME();return v}ip(){return 2<=this.fd}pk(){return!!this.Kd}w7(v){this.RA.add(v)}gba(v){this.RA.delete(v)}d$(v){this.c$([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const d={yW:null,zW:null,WW:null,getTime:null,VW:null};self.D.K.o_=class{constructor(b){b=Object.assign({},d,b);this.BT=b.yW;this.Nda=b.zW;this.Qda=b.WW;this.Oda=b.getTime;this.Pda=b.VW}vN(b){return this.BT?this.BT(b):[b.ea(),b.$()]}ak(b){return this.Nda(b)}E4(b,a){this.Qda(b,a)}Fa(){return this.Oda()}Pz(b){this.Pda(b)}}}
{"use strict";const d=self.D,b=self.Kj.wm,a=d.C(d.Rect),e=d.C(d.Rect),c=d.C(d.Rect),g=d.C(d.Rect),l=b.create(),h=b.create(),m={DD:null,AW:null,ID:null,LL:!1},n={xt:null,GD:!1,DL:!1,ML:!1,QL:!1,GW:!1,YD:!1},p={zD:null,Ypa:null,eo:0,devicePixelRatio:1,Rx:1,MD:0,Ct:null,Mx:null,sW:null,lW:0,mW:0,sX:!1};d.K.Fe=class{constructor(q,u){u=Object.assign({},m,u);this.lh=q;this.rI=u.DD;this.Jv=u.AW;this.CT=u.ID;this.eB=null;this.WC=[];this.Yw=[];this.pq=[];this.$g=0;this.Zn=this.Iv=this.JT=this.ln=this.WB=this.pJ=
!1;this.eq=0;this.em=[null,null,null];this.wU=!!u.LL;this.Qc=this.ad=this.$r=this.Zr=0;this.jn=null;this.Bw=d.C(d.Rect);this.Ck=d.C(d.Rect);this.cm=d.C(d.Rect);this.Ys=d.C(d.Rect);this.In=d.C(d.Rect);this.vC=this.kn=1;this.pd=this.OJ=0;this.pB=null;this.xI=this.wI=0;this.gL=!1;this.Kk=b.create();this.Kw=b.create()}A(){d.G(this.pq);d.G(this.WC);d.G(this.Yw);this.CT=this.Jv=this.rI=this.jn=null}lE(q,u){u=Object.assign({},n,u);d.G(this.pq);this.$r=this.Zr=0;this.WB=this.pJ=!1;this.eq=0;this.Zn=!!u.YD;
d.Vc(this.WC,q);if(0!==q.length){if(u.xt){if(u.xt.length!==q.length)throw Error("incorrect indexMap length");d.Vc(this.Yw,u.xt)}else{d.G(this.Yw);for(let v=0,y=q.length;v<y;++v)this.Yw.push(v)}for(var w of q)this.Zr+=w.PT,this.$r+=w.QT,w.Ada&&(this.pJ=!0),w.rD&&(this.WB=!0);w=q[0];if(1!==q.length||w.mI||w.GT||!u.YD&&(0!==w.PT||0!==w.QT)||u.GD||w.fr()||u.DL||u.ML||!this.Zn&&w.rD||w.lb().Qi()&&w.qD&&u.QL){this.Iv=!1;w=this.Qca(w,u);u=this.Pca(q.le(-1),u);var r=0;w&&(this.eq=1,this.pq.push(d.C(d.K.Fe.Oh.k4,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.eq=Math.max(this.eq,q),this.pq.push(d.C(d.K.Fe.Oh.AM,this,r,q,v)),r=q):(this.eq=1,this.pq.push(d.C(d.K.Fe.Oh.H_,this,-1,1,v)),r=1);u&&this.pq.push(d.C(d.K.Fe.Oh.i4,this,r,0))}else this.Iv=!0}}Qca(q,u){const w=q.lb().Qi()&&u.QL;return u.GD||u.ML||!this.Zn&&q.rD||q.fr()||q.mI&&(u.GW||w)||w&&q.qD||0!==this.Zr||0!==this.$r}Pca(q,u){return u.DL||q.mI||q.GT}ep(q,u,w){w=Object.assign({},p,w);this.pB=u;this.jn=w.zD;
this.$g=w.eo;this.kn=w.devicePixelRatio;this.vC=w.Rx;this.OJ=w.MD;this.pd=this.lh.Fa();this.ln=!1;q.R4();this.pJ&&this.Saa();if(this.Iv)this.jba(q,w);else{var [r,v]=this.lh.vN(q);this.hca(q,r,v);this.K7(w);q.Au();q.ur(0);q.Du(0);this.eB=w.sW;this.wI=w.lW||0;this.xI=w.mW||0;this.gL=!!w.sX;this.laa(q);this.em[0]=u;this.em[1]=1<=this.eq?this.AR():null;this.em[2]=2===this.eq?this.AR():null;for(const y of this.pq)y.Bu(q,this.BR(y.Pea),this.BR(y.KT));this.em[1]&&this.vS(this.em[1]);this.em[2]&&this.vS(this.em[2]);
this.em.fill(null);this.kaa(q);this.eB=this.jn=this.pB=null}}hca(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.ad===u&&this.Qc===w||this.NQ(q,u,w,0,0,this.Kk,this.Kw);this.ad=u;this.Qc=w}NQ(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.ro(y,u/w);q=q.Mt(r,v,q.Uf(w),r,v,w);b.pa(A,q)}K7(q){this.Bw.pa(q.Ct);q.Mx?this.Ck.pa(q.Mx):this.Ck.set(0,0,this.ad,this.Qc);this.cm.pa(this.Ck);this.cm.um(this.ad,this.Qc);q=q.Rx*q.devicePixelRatio;this.Ck.KD(this.Zr*q,this.$r*q);this.In.pa(this.Ck);this.In.um(this.ad,
this.Qc);this.Ck.T(0,0,this.ad,this.Qc);this.Ys.pa(this.Ck);this.Ys.um(this.ad,this.Qc)}laa(q){this.JT=q.Tp;if(this.Zn)q.Tg(!1),this.WB&&q.Eu(!0);else{a.pa(this.Ck);if(q.Qi()){const u=this.vC*this.kn;a.KD(Math.max(this.Zr,1)*u,Math.max(this.$r,1)*u);a.YW();a.T(0,0,this.ad,this.Qc)}else a.YW();q.W5(a.R,a.O,a.width(),a.height(),this.Qc)}}jaa(q){q.Au();this.Zn||(q.Tg(!1),this.WB&&q.Eu(!0))}kaa(q){q.Eu(!1);q.Tg(this.JT);this.Zn||q.jP();this.ln=q.ln}PQ(){this.In.T(0,0,1,1)}BR(q){return 0>q?null:this.em[q]}AR(){return this.lh.ak(this)}vS(q){this.lh.E4(q,
this)}R9(q){return this.WC[q]}$G(q){this.eB?this.eB(this,q,()=>this.rI(q,this)):this.rI(q,this);this.Iv||this.jaa(q)}u$(q){if(this.Zn)return!0;if(0!==this.wI||0!==this.xI)return!1;const [u,w]=q.eu(q.ak());return u!==this.ad||w!==this.Qc?!1:!0}RS(q,u){let w=this.Kk,r=this.Kw;if(u&&!this.u$(q)){w=l;r=h;const [v,y]=q.eu(q.ak());this.NQ(q,v,y,this.wI,this.xI,w,r);this.Zn||q.jP()}q.gp(w);q.Ar(r)}Saa(){this.lh.Pz(this)}GR(q){return this.CT(this.Yw[q])}Aca(q,u){let w=this.In,r=this.Ys,v=this.cm;q.Qi()&&
(e.pa(w),e.io(),w=e,c.pa(r),c.io(),r=c,g.pa(v),g.io(),v=g);this.cR(q,u,r,v,w,1/this.ad,1/this.Qc)}jca(q,u){let w=this.Ys,r=this.cm,v=1/this.ad,y=1/this.Qc;if(this.Jv){let {iX:G,jX:z,hX:F}=this.Jv(this.jn);G||(a.set(0,0,0,0),G=a);z||(z=this.ad);F||(F=this.Qc);r=w=G;v=1/z;y=1/F}else q.Qi()&&(c.pa(w),c.io(),w=c,g.pa(r),g.io(),r=g);let A=this.In;q.Qi()&&(A=e,A.pa(this.In),A.io());this.cR(q,u,w,r,A,v,y)}cR(q,u,w,r,v,y,A){u=this.GR(u);q.dQ(this.pB,v,w,r,this.Bw,y,A,this.kn,this.vC,this.OJ,this.pd,u)}jba(q,
u){var w=this.WC[0];const r=q.Tp,v=w.rD;v&&(q.Tg(!1),q.Eu(!0),this.In.set(0,0,1,1),this.cm.set(0,0,1,1));q.Er(w);q.fg(this.$g);q.Ug(this.pB);let y;this.cm.set(0,0,1,1);if(w.qD&&this.Jv){const {iX:A,jX:G,hX:z}=this.Jv(this.jn);A&&this.cm.pa(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.lh.vN(q);w=1/A;y=1/G}u.Ct?this.Bw.pa(u.Ct):this.Bw.set(0,0,0,0);u=this.GR(0);q.dQ(null,this.In,this.cm,this.cm,this.Bw,w,y,this.kn,this.vC,this.OJ,this.pd,u);q.ur(0);this.$G(q);v&&(q.Eu(!1),
q.Tg(r))}}}"use strict";self.D.K.Fe.Oh=class{constructor(d,b,a,e=-1){this.Xh=d;this.Pea=b;this.KT=a;this.Qa=e}Hi(){return this.Xh}Ka(){return this.Qa}Yf(){return this.Hi().R9(this.Ka())}Bu(){}};{"use strict";const d=self.D;d.K.Fe.Oh.k4=class extends d.K.Fe.Oh{constructor(b,a,e,c){super(b,a,e,c)}Bu(b,a,e){a=this.Hi();b.EP();b.nk();b.Ug(e,a.gL);b.uo();a.$G(b);a.PQ()}}}
{"use strict";const d=self.D,b=d.C(d.Rect),a=d.C(d.Cd);d.K.Fe.Oh.i4=class extends d.K.Fe.Oh{constructor(e,c,g,l){super(e,c,g,l)}Bu(e,c,g){const l=this.Hi();e.nk();e.Ug(g);l.RS(e,!0);e.fg(l.$g);e.gg(c.Yd());a.Mj(l.Ck);b.pa(l.Ys);b.io();e.kr(a,b);l.wU&&e.Yq(c)}}}{"use strict";const d=self.D;d.K.Fe.Oh.H_=class extends d.K.Fe.Oh{constructor(b,a,e,c){super(b,a,e,c)}Bu(b,a,e){a=this.Hi();b.Ug(e,a.gL);b.uo();b.eG();b.Er(this.Yf());a.jca(b,this.Ka());a.$G(b);a.PQ()}}}
{"use strict";const d=self.D,b=d.C(d.Rect),a=d.C(d.Cd);d.K.Fe.Oh.AM=class extends d.K.Fe.Oh{constructor(e,c,g,l){super(e,c,g,l)}Bu(e,c,g){const l=this.Hi();e.Ug(g);(g=0===this.KT)?e.fg(l.$g):(e.uo(),e.eG());e.Er(this.Yf());l.Aca(e,this.Ka());e.gg(c.Yd());l.RS(e,g);a.Mj(l.Ck);b.pa(l.Ys);b.io();e.kr(a,b);l.wU&&e.Yq(c)}}}
{"use strict";let d=null;const b=new Set;let a=!1;self.J1=class{constructor(e){d=e;Object.defineProperties(this,{Sfa:{value:{},writable:!1},storage:{value:new self.L1(d),writable:!1},Wqa:{value:d.Ol,writable:!1}});d.ke.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});d.ke.addEventListener("keyup",c=>b.delete(c.key));d.Xb().addEventListener("window-blur",()=>b.clear());d.Ol&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}g$(e){Object.defineProperties(this.Sfa,e)}addEventListener(e,c){d.ke.addEventListener(e,c)}removeEventListener(e,c){d.ke.removeEventListener(e,c)}get tW(){return d.Ao()}get Cqa(){return d.Vj()}random(){return d.lr()}get ND(){return d.Yb().ew}get keyboard(){const e=d.jB.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get MW(){const e=d.jB.MW;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get kX(){const e=d.jB.kX;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.jr("runtime","alert",{message:e+(d.Ol?" [via Web Worker]":"")})}}}"use strict";self.A1=class{constructor(){}};{"use strict";const d=self.Rf;self.L1=class{constructor(b){this.nx=b.O9()}getItem(b){d.Md(b);return this.nx.getItem(b)}setItem(b,a){d.Md(b);return this.nx.setItem(b,a)}removeItem(b){d.Md(b);return this.nx.removeItem(b)}clear(){return this.nx.clear()}keys(){return this.nx.keys()}}}
{"use strict";const d=self.Rf,b=new WeakMap;self.mF=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Ba(),writable:!1}});a.I().ZR(this,a)}addEventListener(a,e){d.Md(a);d.kk(e);b.get(this).ke.addEventListener(a,e)}removeEventListener(a,e){d.Md(a);d.kk(e);b.get(this).ke.removeEventListener(a,e)}*DW(){for(const a of b.get(this).ta())yield a.Hh()}zL(a){d.eg(void 0);d.eg(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var e=
b.get(this);const c=e.I();a=c.Yb().da(a);if(!a)throw Error("invalid layer");e=c.sE(e,a,void 0,void 0,void 0);a=c.na();a.Ce(!0);e.MA();a.Ce(!1);a.pu()||c.Ld();return e.Hh()}}}
{"use strict";const d=self.Rf,b=new WeakMap;self.I1=class{constructor(a){b.set(this,a);const e=[],c=a.Pa,g=c.Hg().length;for(let l=0;l<g;++l)e.push(new self.lF(c,l));Object.defineProperties(this,{name:{value:a.Ba(),writable:!1},index:{value:a.Ka(),writable:!1},uW:{value:e,writable:!1}})}addEventListener(a,e){d.Md(a);d.kk(e);b.get(this).ke.addEventListener(a,e)}removeEventListener(a,e){d.Md(a);d.kk(e);b.get(this).ke.removeEventListener(a,e)}get width(){return b.get(this).ea()}set width(a){b.get(this).bj(a)}get height(){return b.get(this).$()}set height(a){b.get(this).Vi(a)}set scale(a){d.dg(a);
b.get(this).mG(a)}get scale(){return b.get(this).he}set angle(a){d.dg(a);b.get(this).Cc(a)}get angle(){return b.get(this).Da()}set scrollX(a){d.eg(a);b.get(this).Zi(a)}get scrollX(){return b.get(this).Wf()}set scrollY(a){d.eg(a);b.get(this).$i(a)}get scrollY(){return b.get(this).Xf()}scrollTo(a,e){d.eg(a);d.eg(e);const c=b.get(this);c.Zi(a);c.$i(e)}*pL(){for(const a of b.get(this).pL())yield a.MB}set SW(a){d.Md(a);const e=b.get(this);if("perspective"===a)e.cQ();else if("orthographic"===a)e.$P();else throw Error("invalid projection");
}get SW(){return b.get(this).yf?"orthographic":"perspective"}}}
{"use strict";const d=self.D,b=self.Rf,a=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(l=>[l[1],l[0]])),g=d.C(d.eb);self.H1=class{constructor(l){a.set(this,l);const h=[],m=l.Pa,n=m.Hg().length;for(let p=0;p<n;++p)h.push(new self.lF(m,p));Object.defineProperties(this,{name:{value:l.Ba(),writable:!1},index:{value:l.Ka(),
writable:!1},ND:{value:l.fc().ew,writable:!1},uW:{value:h,writable:!1}})}*ZL(){for(const l of a.get(this).ZL())yield l.MB}get isVisible(){return a.get(this).Gs}set isVisible(l){a.get(this).hg(l)}get opacity(){return a.get(this).Vd()}set opacity(l){l=d.T(+l,0,1);isNaN(l)||a.get(this).Wi(l)}set scale(l){b.dg(l);a.get(this).aQ(l)}get scale(){return a.get(this).he}set angle(l){b.dg(l);a.get(this).Cc(l)}get angle(){return a.get(this).ng}set gy(l){b.dg(l);a.get(this).qf(l)}get gy(){return a.get(this).fb()}set eo(l){b.Md(l);
l=e.get(l);if("number"!==typeof l)throw Error("invalid blend mode");a.get(this).fg(l)}get eo(){return c.get(a.get(this).Qj())}set backgroundColor(l){b.WF(l);if(3>l.length)throw Error("expected 3 elements");g.Ht(l[0],l[1],l[2]);l=a.get(this);const h=l.Cl;h.vm(g)||(h.Hj(g),l.I().fa())}get backgroundColor(){const l=a.get(this).Cl;return[l.Xa,l.Ia,l.ab]}set scrollX(l){b.eg(l);const h=a.get(this);h.Iu(!0);h.Zi(l)}get scrollX(){return a.get(this).Wf()}set scrollY(l){b.eg(l);const h=a.get(this);h.Iu(!0);
h.$i(l)}get scrollY(){return a.get(this).Xf()}scrollTo(l,h){b.eg(l);b.eg(h);const m=a.get(this);m.Iu(!0);m.Zi(l);m.$i(h)}}}
{"use strict";const d=self.D,b=self.Rf,a=new WeakMap,e=new WeakMap;function c(l){let h=e.get(l);if(h)return h;h=d.C(d.Event.Xb);e.set(l,h);return h}let g=null;self.Xq=class{constructor(){a.set(this,g);const l={Pf:{value:g.I().vj,writable:!1},WL:{value:g.J().fw,writable:!1},uid:{value:g.xc,writable:!1}};g.F9(l);g.A9(l);Object.defineProperties(this,l);g.I().ZR(this,g)}static Yg(l){g=l}static Wm(){return g}nv(){const l=e.get(this);l&&(l.A(),e.delete(this));a.delete(this)}addEventListener(l,h,m){b.Md(l);
b.kk(h);c(this).addEventListener(l,h,m)}removeEventListener(l,h,m){b.Md(l);b.kk(h);c(this).removeEventListener(l,h,m)}dispatchEvent(l){c(this).dispatchEvent(l)}}}
{"use strict";const d=self.D,b=self.Rf,a=self.Xq,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(l=>[l[1],l[0]]));d.C(d.eb);self.vz=class l extends a{constructor(){super();var h=a.Wm();e.set(this,h);const m=[];var n=h.B();if(h=n.sg){n=n.J().Pa.Hg().length;for(let p=0;p<n;++p)m.push(new self.lF(h,p))}Object.defineProperties(this,
{uW:{value:m,writable:!1}})}get ND(){return e.get(this).B().fc().ew}get KW(){return e.get(this).B().da().MB}get x(){return e.get(this).B().ga()}set x(h){h=+h;const m=e.get(this).B();isNaN(h)||m.ga()===h||(m.ig(h),m.ma())}get y(){return e.get(this).B().ia()}set y(h){h=+h;const m=e.get(this).B();isNaN(h)||m.ia()===h||(m.jg(h),m.ma())}get gy(){return e.get(this).B().fb()}set gy(h){h=+h;const m=e.get(this),n=m.B();isNaN(h)||n.fb()===h||(n.qf(h),m.I().fa())}get width(){return e.get(this).B().ea()}set width(h){h=
+h;const m=e.get(this).B();isNaN(h)||m.ea()===h||(m.bj(h),m.ma())}get height(){return e.get(this).B().$()}set height(h){h=+h;const m=e.get(this).B();isNaN(h)||m.$()===h||(m.Vi(h),m.ma())}get angle(){return e.get(this).B().Da()}set angle(h){h=d.qd(+h);const m=e.get(this).B();isNaN(h)||m.Da()===h||(m.Cc(h),m.ma())}HL(){e.get(this).B().Lc().Vga()}get isVisible(){return e.get(this).B().Mc()}set isVisible(h){h=!!h;const m=e.get(this),n=m.B();n.Mc()!==h&&(n.hg(h),m.I().fa())}get opacity(){return e.get(this).B().Vd()}set opacity(h){h=
d.T(+h,0,1);const m=e.get(this),n=m.B();isNaN(h)||n.Vd()===h||(n.Wi(h),m.I().fa())}set eo(h){b.Md(h);h=c.get(h);if("number"!==typeof h)throw Error("invalid blend mode");const m=e.get(this);m.B().fg(h);m.I().fa()}get eo(){return g.get(e.get(this).B().Qj())}get zIndex(){return e.get(this).B().ek()}Mf(h,m){b.eg(h);b.eg(m);return e.get(this).B().NM(+h,+m)}getParent(){const h=e.get(this).Ha();return h?h.Hh():null}*Xx(){for(const h of e.get(this).Xx())yield h.Hh()}*children(){for(const h of e.get(this).children())yield h.Hh()}*Yk(){for(const h of e.get(this).Yk())yield h.Hh()}removeChild(h){b.XF(h,
l);const m=e.get(this);h=e.get(h);m.jk(h)}}}{"use strict";const d=new WeakMap;self.F1=class extends self.vz{constructor(){super();d.set(this,self.Xq.Wm())}focus(){d.get(this).oa.mN()}blur(){d.get(this).oa.zM()}}}
{"use strict";const d=self.D,b=self.Rf,a=new WeakMap,e=new WeakMap;function c(l){let h=e.get(l);if(h)return h;h=d.C(d.Event.Xb);e.set(l,h);return h}let g=null;self.kF=class{constructor(){a.set(this,g);const l={Pf:{value:g.I().vj,writable:!1},behavior:{value:g.Em().p0(),writable:!1}};Object.defineProperties(this,l)}static Yg(l){g=l}static Wm(){return g}get instance(){return a.get(this).L.Hh()}nv(){const l=e.get(this);l&&(l.A(),e.delete(this));a.delete(this)}addEventListener(l,h,m){b.Md(l);b.kk(h);
c(this).addEventListener(l,h,m)}removeEventListener(l,h,m){b.Md(l);b.kk(h);c(this).removeEventListener(l,h,m)}dispatchEvent(l){c(this).dispatchEvent(l)}}}{"use strict";const d=new WeakMap;self.C1=class{constructor(b){d.set(this,b);Object.defineProperties(this,{Pf:{value:b.I().vj,writable:!1}})}}}
{"use strict";const d=self.D,b=self.Rf,a=new WeakMap;self.lF=class{constructor(e,c){a.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Hg()[this.index].Ba()}getParameter(e){b.dg(e);e=Math.floor(+e);const c=a.get(this).fl(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.eb?[e.Xa,e.Ia,e.ab]:e}}}
{"use strict";const d=new WeakMap;self.y1=class{constructor(b){d.set(this,b);Object.defineProperties(this,{name:{value:b.Ba(),writable:!1},speed:{value:b.Ok,writable:!1},Xqa:{value:b.ow,writable:!1},isa:{value:b.Mg(),writable:!1}})}*frames(){for(const b of d.get(this).Gd)yield b.dea}}}{"use strict";const d=new WeakMap;self.dO=class{constructor(b){d.set(this,b)}get width(){return d.get(this).ea()}get height(){return d.get(this).$()}}}
{"use strict";const d=new WeakMap;self.z1=class extends self.dO{constructor(b){super(b.jf());d.set(this,b);Object.defineProperties(this,{duration:{value:b.qB,writable:!1}})}}}
{"use strict";const d=self.D,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.dY=class extends d.ka{constructor(e,c){super();var g=c.exportType;this.j=e;this.zC=new Map;this.Ps=new Map;this.vea=new Map;this.YB="cordova"===g;this.HJ=!!c.isiOSCordova;this.mw=!!c.isFileProtocol;this.Rea=c.supportedAudioFormats||{};this.gI=
new Map;this.lV=!1;this.lU=this.VT=this.XU="";this.nB="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.WH=[];this.fI=new Map;this.mL=[];this.xC=[];this.gU=!1;this.rC=this.eI=this.yx=0;this.bJ=!1;this.uea=d.C(d.A4,()=>this.nR(),50);this.tK=new d.bP(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(e,g);(g=c.projectData)&&(e["data.json"]=g);for(const [l,h]of Object.entries(e))this.zC.set(l.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [l,
h]of Object.entries(c))this.vea.set(l,h);new self.A1(this)}A(){this.zC.clear();for(const e of this.Ps.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Ps.clear();for(const e of this.WH)e.A();d.G(this.WH);this.fI.clear();d.G(this.xC);this.j=null}I(){return this.j}zca(e){this.XU=e}nca(e){this.VT=e}tca(e){this.lU=e}xA(e){return this.zC.has(e.toLowerCase())}uA(e){return this.zC.get(e.toLowerCase())||null}UE(e){if(!this.xA(e))return e;e=e.toLowerCase();var c=this.Ps.get(e);c||(c=this.uA(e),
c=URL.createObjectURL(c),this.Ps.set(e,c));return c}dl(e,c){c=c||this.nB;const g=this.uA(e);if(g)return Promise.resolve(g);if(d.DF(e)){const l=e.toLowerCase();return this.YB&&this.mw?this.TM(l):"local"===c?this.tK.Kc(()=>d.dl(l)):d.dl(l)}return d.dl(e)}Pt(e){const c=this.uA(e);if(c)return d.jY(c);if(d.DF(e)){const g=e.toLowerCase();return this.YB&&this.mw?this.SM(g):"local"===this.nB?this.tK.Kc(()=>d.Pt(g)):d.Pt(g)}return d.Pt(e)}Qt(e){const c=this.uA(e);if(c)return d.yM(c);if(d.DF(e)){const g=e.toLowerCase();
return this.YB&&this.mw?this.RY(g):"local"===this.nB?this.tK.Kc(()=>d.Qt(g)):d.Qt(g)}return d.Qt(e)}async kN(e){e=await this.Qt(e);return JSON.parse(e)}NG(e,c){return this.j.jr("runtime","cordova-fetch-local-file",{filename:e,as:c})}RY(e){return this.NG(e,"text")}async TM(e){const c=await this.NG(e,"buffer");e?(e=e.split("."),e=2>e.length?"":a.get(e.le(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async QY(e){e=e.toLowerCase();var c=this.Ps.get(e);if(c)return c;c=await this.TM(e);c=URL.createObjectURL(c);
this.Ps.set(e,c);return c}SM(e){return this.NG(e,"buffer")}HN(e){return this.xA(e)?this.UE(e):this.XU+e.toLowerCase()}Q0(e,c=""){if(d.qF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.xA(e)?Promise.resolve(this.UE(e)):this.YB&&this.mw?this.QY(c+e):Promise.resolve(c+e.toLowerCase())}Iz(e){if(e.Ux&&!b.has(e.Ux))throw Error("invalid load policy");let c=this.fI.get(e.url);if(c)return c;c=d.C(d.eO,this,{url:e.url,size:e.size||0,Ux:e.Ux||this.nB});
this.WH.push(c);this.fI.set(c.Sk,c);this.gU||(this.yx+=c.Im(),this.xC.push(c.BO().then(()=>this.GQ(c.Im()))));return c}async yQ(){try{await Promise.all(this.xC),this.rC=1}catch(e){console.error("Error loading: ",e),this.bJ=!0,this.nR()}}H5(){this.gU=!0}GQ(e){this.eI+=e;this.uea.sY()}nR(){const e=d.C(d.Event,"loadingprogress");this.rC=d.T(this.eI/this.yx,0,1);e.progress=this.rC;this.j.Xb().dispatchEvent(e)}Lca(e){d.Vc(this.mL,e);this.mL.length&&this.xC.push(this.U$())}U$(){if("undefined"===typeof FontFace)return Promise.resolve();
const e=[];for(const [c,g,l]of this.mL)this.yx+=l,e.push(this.T$(c,g).then(()=>this.GQ(l)));return Promise.all(e)}async T$(e,c){try{const g=await this.Q0(c,this.VT),l=new FontFace(e,`url('${g}')`);this.j.Ol?self.fonts.add(l):document.fonts.add(l);await l.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${e}': `,g)}}hO(e){return!!this.Rea[e]}Xba(e,c){this.lV=!!c;for(const [g,l,h]of e)this.gI.set(g,{fileName:g,Kfa:l.map(m=>({type:m[0],lqa:m[1],xW:g+m[1],fileSize:m[2]})),ega:h})}KN(e){e=
this.gI.get(e.toLowerCase());if(!e)return null;let c=null;for(const g of e.Kfa)if(c||"audio/webm; codecs=opus"!==g.type||(c=g),this.hO(g.type))return g;return c}Jg(e){return(e=this.KN(e))?{url:this.HN(e.xW),type:e.type}:null}P_(){if(this.lV){const e=[];for(const c of this.gI.values()){if(c.ega)continue;const g=this.KN(c.fileName);g&&e.push({yga:c.fileName,url:this.HN(g.xW),type:g.type,fileSize:g.fileSize})}return e}return[]}}}
{"use strict";const d=self.D;d.cY=class extends d.ka{constructor(b,a){super();this.Db=b;this.j=b.I();this.Sk=a.url;this.ct=a.size;this.UJ=a.Ux;this.Fv=null;this.zJ=!1;this.An=null}A(){this.Fv=this.j=this.Db=this.An=null}Im(){return this.ct}BO(){return"local"===this.UJ||this.Fv?(this.zJ=!0,Promise.resolve()):this.An?this.An:this.An=this.Db.dl(this.Sk,this.UJ).then(b=>{this.zJ=!0;this.An=null;return this.Fv=b}).catch(b=>console.error("Error loading resource: ",b))}AF(){return this.zJ}S_(){return this.Fv?
Promise.resolve(this.Fv):this.An?this.An:this.Db.dl(this.Sk,this.UJ)}}}
{"use strict";const d=self.D,b=new d.bP,a=new Set;d.eO=class extends d.cY{constructor(e,c){super(e,c);this.Uk=this.sq=null;this.Sc=0;this.nU=this.pU=-1;a.add(this)}A(){this.Si();if(0!==this.Sc)throw Error("released image asset which still has texture references");this.sq=null;a.delete(this);super.A()}static hr(){for(const e of a)e.sq=null,e.Uk=null,e.Sc=0}qu(e,c){c=c||{};this.Sc++;if(this.Uk)return Promise.resolve(this.Uk);if(this.sq)return this.sq;c.gW=this.j.U.LV;return this.sq=this.S_().then(g=>
b.Kc(()=>e.vE(g,c).then(l=>{this.sq=null;if(0===this.Sc)return e.Oj(l),null;this.Uk=l;this.pU=l.ea();this.nU=l.$();return this.Uk}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Si(){if(0>=this.Sc)throw Error("texture released too many times");this.Sc--;0===this.Sc&&this.Uk&&(this.Uk.lb().Oj(this.Uk),this.Uk=null)}Yd(){return this.Uk}ea(){return this.pU}$(){return this.nU}}}
{"use strict";const d=self.D;function b(a,e){return a.B().Xk-e.B().Xk}d.L4=class extends d.ka{constructor(a,e,c){super();this.ja=e;this.ba=c;this.H=[];this.qw=!0;this.Bj=new Set;this.jw=!1}A(){d.G(this.H);this.Bj.clear()}ld(){d.G(this.H);this.qw=!0;this.Bj.clear();this.jw=!1}s5(){this.qw=!1}Ro(){if(!this.H.length)return!0;if(this.H.length>this.Bj.size)return!1;this.fH();return!0}pF(a){this.Bj.has(a)?(this.Bj.delete(a),0===this.Bj.size&&(this.jw=!1)):(this.H.push(a),this.qw=1===this.H.length)}Mh(a){this.Bj.add(a);
this.jw=!0;50<=this.Bj.size&&this.fH()}fH(){this.jw&&(this.H.length===this.Bj.size?this.ld():(d.Cg(this.H,this.Bj),this.Bj.clear(),this.jw=!1))}e9(){this.qw||(this.H.sort(b),this.qw=!0)}xE(a){this.fH();this.e9();this.H.length&&a.push(this.H)}}}
{"use strict";const d=self.D;d.M4=class extends d.ka{constructor(b,a){super();this.tI=b;this.sI=a;this.mj=d.C(d.uu)}A(){this.mj.A();this.mj=null}Fm(b,a,e){let c=this.mj.ca(b,a);return c?c:e?(c=d.C(d.L4,this,b,a),this.mj.Set(b,a,c),c):null}cj(b){return Math.floor(b/this.tI)}dj(b){return Math.floor(b/this.sI)}kp(b,a,e){if(a)for(let c=a.R,g=a.aa;c<=g;++c)for(let l=a.O,h=a.W;l<=h;++l){if(e&&e.Mf(c,l))continue;const m=this.Fm(c,l,!1);m&&(m.Mh(b),m.Ro()&&this.mj.wo(c,l))}if(e)for(let c=e.R,g=e.aa;c<=g;++c)for(let l=
e.O,h=e.W;l<=h;++l)a&&a.Mf(c,l)||this.Fm(c,l,!0).pF(b)}Oz(b,a){let e=this.cj(b.R);const c=this.dj(b.O),g=this.cj(b.aa);for(b=this.dj(b.W);e<=g;++e)for(let l=c;l<=b;++l){const h=this.Fm(e,l,!1);h&&h.xE(a)}}o3(b){let a=b.R;const e=b.O,c=b.aa;for(b=b.W;a<=c;++a)for(let g=e;g<=b;++g){const l=this.Fm(a,g,!1);l&&l.s5()}}}}
{"use strict";const d=self.D,b=new d.Rect,a=new d.Cd,e=[];new d.Rect;new d.Rect;const c=self.Kj,g=c.ZD,l=c.ey,h=c.wm;h.create();const m=g.create(),n=l.create(),p=g.create(),q=g.create(),u=g.create(),w=d.C(d.Ru);d.C(d.Rect);function r(z,F){return z.B().Xk-F.B().Xk}function v(z,F){return z.B().fb()-F.B().fb()}const y=[],A=[],G=[];d.yO=class extends d.ka{constructor(z,F,H){super();this.kh=z;this.j=z.I();this.hV=F;this.Ja=H[0];this.Qa=-1;this.mb=H[2];this.Gs=!!H[3];this.eC=!!H[13];this.Cl=d.C(d.eb);this.Cl.ym(H[4].map(L=>
L/255));this.Hk=!!H[5];this.Df=H[6];this.Ef=H[7];this.gb=d.C(d.eb,1,1,1,H[8]);this.OC=d.C(d.eb);this.uJ=H[9];this.Lea=H[17];this.SV=H[18];this.Xea=H[10];this.Jn=H[11];this.$g=H[12];this.Te=null;this.he=1;this.gd=H[16];this.pi=this.oi=this.ng=0;this.Kl=!1;this.Jf=d.C(d.Rect);this.XV=d.C(d.Rect);this.$n=d.C(d.Rect);this.Kk=h.create();this.EJ=!0;this.Kw=h.create();this.AJ=!0;this.WV=d.C(d.K.Y6);this.nC=!0;this.IV=[];this.sU=H[14];this.Fk=[];this.lB=[];this.tU=new Map;this.H=[];this.zp=this.oL=!1;const J=
this.j.U;this.Pa=d.C(d.bl,this,H[15]);this.Xh=d.C(d.K.Fe,J.GI,{DD:(L,P)=>{P=P.jn;const R=P.ak();L.Qm(P.XE());L.Jy(R);L.Yq(R);J.$o(R)},ID:L=>this.Pa.fl(L)});this.Gx=this.Xl=!0;this.$s=null;this.JJ=[];this.hC=!1;this.rea=d.C(d.Rect,0,0,-1,-1);this.Sda=d.C(d.Rect,0,0,-1,-1);this.MB=null;this.rT();this.mp()&&(this.$s=d.C(d.M4,this.j.oh,this.j.nh));this.Mn=H[19].map(L=>d.C(d.yO,this.kh,this,L))}Yg(){for(const z of this.sU){const F=this.j.kf(z[1]);this.kh.EQ(F);F.os||F.JP(z);this.Fk.push(z);this.tU.set(z[2],
z)}d.Vc(this.IV,this.Fk);this.sU=null;this.MB=new self.H1(this)}A(){this.j=this.kh=null}s0(z){return this.tU.get(z)}UY(z){const F=this.kh.Up;let H=0;const J=this.Fk;for(let P=0,R=J.length;P<R;++P){var L=J[P];const T=this.j.kf(L[1]);let Z=!0;if(!T.hF()||F)L=this.j.Gi(L,this,!0),z.push(L),T.bg()&&(Z=!1,this.lB.push(L.xc));Z&&(J[H]=J[P],++H)}d.df(J,H);this.j.Ld();this.Vg()}Xg(z,F){const H=z.B();if(H.da()!==this)throw Error("instance added to wrong layer");this.H.push(z);0!==H.fb()&&(this.zp=!0);F&&this.mp()&&
z.B().ma();this.Vg()}W$(z){this.H.includes(z)||(this.H.push(z),0!==z.B().fb()&&(this.zp=!0),this.Vg())}Maa(z){const F=z.B();if(F.da()!==this)throw Error("instance added to wrong layer");this.H.unshift(z);0!==F.fb()&&(this.zp=!0);this.Vg()}rp(z,F){const H=this.H.indexOf(z);0>H||(F&&this.mp()&&z.B().xS(),this.H.splice(H,1),this.Vg(),this.eS())}NS(){this.zp=!0}eS(){0===this.H.length&&(this.zp=!1)}LH(z){if(z){z=new Set;for(var F of this.H){var H=F.B().Xk;0<=H&&z.add(H)}F=-1;for(const J of this.H)if(H=
J.B(),!(0<=H.Xk)){for(++F;z.has(F);)++F;H.KA(F)}}this.H.sort(r)}d9(){for(const z of this.H)z.J().bg()||this.j.xo(z);this.j.Ld();d.G(this.H);this.zp=!1;this.Vg()}xu(z,F,H,J,L){const P=this.j.na(),R=this.j.Xc,T=z.bb,Z=[];for(const Y of this.Fk){var X=Y[0];if(F.Mf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.jN(X))continue}else continue;X=this;var ba=this.j.Za();this.fc()!==ba&&((X=ba.FN(this.Ba()))||(X=ba.SE(this.Ka())));ba=this.j.Gi(Y,X,!1,void 0,void 0,!1,L);X.wG(ba);X=ba.B();X.Om(H,J);X.ma();P.Ce(!0);
ba.MA();P.Ce(!1);Z.push(ba)}}return Z}fc(){return this.kh}Ba(){return this.Ja}GH(z){this.Qa=z}Ka(){return this.Qa}I(){return this.j}el(){return this.j.el()}Hi(){this.gv();return this.Xh}gv(){const z=this.Wq();if(this.Xl||z!==this.Gx){var F=this.Pa.mg;this.Xh.lE(F.map(H=>H.Yf()),{xt:F.map(H=>H.Ka()),GD:!z,YD:!0});this.Xl=!1;this.Gx=z}}Rh(){this.Pa.Rh();this.Xl=!0}mp(){return this.Xea&&!this.SV}U5(){this.hC=!1}Mc(){for(const z of this.aX())if(!z.Gs)return!1;return!0}hg(z){z=!!z;this.Gs!==z&&(this.Gs=
z,this.j.fa())}K5(z){this.eC=!!z}O2(){for(const z of this.aX())if(!z.eC)return!1;return!0}Iu(z){z=!!z;if(this.Kl!==z){if(this.Kl=z)z=this.fc(),this.oi=z.Wf(),this.pi=z.Xf();this.Zm();this.j.fa()}}Zi(z){var F=this.fc();const H=F.ON();F=F.PN();z>F&&(z=F);z<H&&(z=H);this.oi!==z&&(this.oi=z,this.Kl&&(this.Zm(),this.j.fa()))}$i(z){var F=this.fc();const H=F.QN();F=F.NN();z>F&&(z=F);z<H&&(z=H);this.pi!==z&&(this.pi=z,this.Kl&&(this.Zm(),this.j.fa()))}Wf(){return this.Kl?this.oi:this.fc().Wf()}Xf(){return this.Kl?
this.pi:this.fc().Xf()}iH(){const z=this.fc();return[z.bF(),z.cF()]}Uf(){return this.j.Uf()}YN(z,F){var H=this.XV;if(0===z)F.pa(H);else{let R=H.Dt(),T=H.Et();var J=this.oN(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.iH();if(.5!==X||.5!==ba){const Y=this.Wt();var L=this.j,P=this.Uf()/Y;J=(X-.5)*L.Kf/P;L=(ba-.5)*L.Be/P;P=this.Da();0!==P&&(w.set(J,L),w.rotate(P),J=w.ja,L=w.ba);z=d.XD(Y,0,z);R+=d.me(J,0,z);T+=d.me(L,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Vd(){return this.gb.$a}Wi(z){z=d.T(z,
0,1);this.gb.$a!==z&&(this.gb.Ft(z),this.rT(),this.j.fa())}rT(){this.OC.pa(this.gb);this.OC.cM()}XE(){return this.OC}Wq(){return this.gb.ED(1,1,1,1)}V5(z){this.Jn!==z&&(this.Jn=z,this.Zm(),this.j.fa())}Q5(z,F){if(this.Df!==z||this.Ef!==F)if(this.Df=z,this.Ef=F,this.Zm(),this.j.fa(),1!==this.Df||1!==this.Ef)for(const H of this.H)H.J().DH(!0)}qf(z){this.gd!==z&&(this.gd=z,this.j.fa())}fb(){return this.gd}Cc(z){z=d.qd(z);this.ng!==z&&(this.ng=z,this.Zm(),this.j.fa())}Da(){return d.qd(this.kh.Da()+this.ng)}q1(){return 0<
this.H.length}gH(){return this.UF()&&this.SV?(d.Vc(G,this.H),G.sort((z,F)=>this.Vca(z,F)),G):this.H}LQ(z){d.qm(z,this.gH());for(const F of this.Mn)F.Mc()&&0<F.Vd()&&F.LQ(z)}Vca(z,F){var H=this.fc().AT,J=H[0],L=H[1];H=H[2];var P=z.B();const R=F.B();F=P.ga()-J;z=P.ia()-L;P=P.fb()-H;J=R.ga()-J;L=R.ia()-L;H=R.fb()-H;return J*J+L*L+H*H-(F*F+z*z+P*P)}i6(z){z=!!z;this.Hk!==z&&(this.Hk=z,this.j.fa())}E5(z){z=!!z;this.uJ!==z&&(this.uJ=z,this.j.fa())}kP(){return!this.I().nm||!this.Lea}UF(){return!this.kP()}Vq(){return this.UF()&&
this.fc().jea}cG(){if(!this.Vq())return!1;for(const z of this.Mn)if(!z.cG())return!1;return!0}fg(z){this.$g!==z&&(this.$g=z,this.j.fa())}Qj(){return this.$g}l1(){for(const z of this.Mn)if(z.eA())return!0;return!1}*$W(){for(const z of this.Mn)yield*z.$W();yield this}*ZL(){let z=this.hV;for(;z;)yield z,z=z.hV}*aX(){yield this;yield*this.ZL()}T2(z){return this===z||this.Df===z.Df&&this.Ef===z.Ef&&this.he===z.he&&this.Jn===z.Jn&&this.ng===z.ng&&this.Wf()===z.Wf()&&this.Xf()===z.Xf()}$aa(z){0!==z.size&&
0<d.Cg(this.H,z)&&(this.eS(),this.Vg())}Vg(){this.hC=this.oL=!1}tv(){if(!this.oL){this.H.sort(v);if(this.mp())for(let z=0,F=this.H.length;z<F;++z){const H=this.H[z].B();H.KA(z);this.$s.o3(H.Tw)}else for(let z=0,F=this.H.length;z<F;++z)this.H[z].B().KA(z);this.oL=!0}}u3(z,F,H){var J=z.B();F=F.B();if(J.da()!==this||F.da()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.ek();F=F.ek();if(J===F+(H?1:-1))return!1;d.hfa(this.H,J);J<F&&F--;H&&F++;F===this.H.length?this.H.push(z):
this.H.splice(F,0,z);this.Vg();return!0}daa(z,F){const H=[];let J=0,L=0,P=z.length,R=F.length;for(;J<P&&L<R;){const T=z[J],Z=F[L];T.B().Xk<Z.B().Xk?(H.push(T),++J):(H.push(Z),++L)}for(;J<P;++J)H.push(z[J]);for(;L<R;++L)H.push(F[L]);return H}caa(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.daa(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}baa(z){for(;1<z.length;)z=this.caa(z);return z[0]}Q9(){this.tv();d.G(e);this.$s.Oz(this.Jf,e);return e.length?1===e.length?e[0]:this.baa(e):[]}eA(){return this.Mc()&&
0<this.Vd()&&this.hR()}hR(){if(this.q1()||!this.Hk)return!0;for(const z of this.Mn)if(z.hR())return!0;return!1}Qu(){return this.uJ||!this.Wq()||0!==this.Qj()||this.Pa.mu()}dG(){if(this.Qu())return!0;for(const z of this.Mn)if(z.dG())return!0;return!1}ak(){return this.Te}oN(z){if(this.kh.yf)return 1;{const F=this.Wt();return F/(F-z)}}Wt(){return this.Uf()/this.Li()}Zm(){this.nC=this.AJ=!0}vA(z){this.AJ&&(this.I7(z,this.Kw),this.AJ=!1);return this.Kw}x9(){var z=this.j,F=this.fc(),H=z.HC,J=z.IC;H=(this.Wf()-
H)*this.Df+H;var L=(this.Xf()-J)*this.Ef+J;z.Ql&&(H=Math.round(H),L=Math.round(L));J=H+0;H=L+0;F=F.yf?this.Uf():this.Wt();const [P,R]=this.iH();if(.5!==P||.5!==R){var T=this.Uf()/F;L=(P-.5)*z.Kf/T;z=(R-.5)*z.Be/T;T=this.Da();0!==T&&(w.set(L,z),w.rotate(T),L=w.ja,z=w.ba);J+=L;H+=z}return[J,H,F]}I7(z,F){const H=this.j;var J=this.fc();if(this.Vq()){g.pa(p,J.AT);g.pa(q,J.Kda);g.pa(u,J.Lda);J=H.HC;const L=H.IC,P=q[0]-p[0],R=q[1]-p[1],T=q[2]-p[2];p[0]=(p[0]-J)*this.Df+J;p[1]=(p[1]-L)*this.Ef+L;p[2]*=Math.max(this.Df,
this.Ef);q[0]=p[0]+P;q[1]=p[1]+R;q[2]=p[2]+T}else{const [L,P,R]=this.x9();g.set(p,L,P,R);g.set(q,L,P,R-100);J=this.Da();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.DM(F,p,q,u,H.Be)}Bca(){this.nC=this.EJ=!0}wA(z){this.EJ&&(this.J7(z),this.EJ=!1);return this.Kk}J7(z){const F=this.j.U,[H,J]=this.iH();this.kh.yf?z.pY(this.Kk,F.Uj(),F.Tj()):.5===H&&.5===J?h.pa(this.Kk,F.oB):z.ro(this.Kk,F.Uj()/F.Tj(),H,J)}IA(z){z.gp(this.wA(z));let F;F=this.vA(z);z.Ar(F)}n4(z){this.IA(z);z.ur(this.fb())}Sf(z,
F,H){var J=this.j.U;const L=this.Qu();var P=null;let R=null;if(this.j.vF()&&z.Qi()){const T=J.GN(this);T&&(R=T.gE(),z.AG(R))}L?(P={Lj:this.j.xd},"low"===J.ai&&(P.width=J.Uj(),P.height=J.Tj()),this.Te=P=this.j.Tt(P),z.Ug(P),this.Hk&&z.uo()):(this.Te=F,z.Ug(F));this.Hk||z.yd(this.Cl);this.kh.fR(z,this.Te,this.Mn,L&&this.Hk);this.IA(z);z.ur(this.fb());z.Tg(this.UF());this.Li()>Number.EPSILON&&(this.tv(),J=this.mp()&&0===this.fb()&&!this.zp,this.Vq()?this.T8(z):J?this.U8(z):this.eR(z,this.gH()));z.ur(0);
z.Du(0);L&&(z.Tg(!1),this.V8(z,P,F,H));R&&z.zE(R);this.Te=null}eR(z,F){const H=this.Jf,J=this.Te,L=this.fc().yf,P=this.fc().cO();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.B();ba.Mc()&&ba.qO(H,P,L)&&this.wl(X,ba,z,J)}}T8(z){const F=this.Te,H=this.Nr(),J=this.gH();for(let T=0,Z=J.length;T<Z;){var L=J[T],P=L.B();if(!P.Mc()||!P.br(H)){++T;continue}(!L.mr()||0<P.$c)&&A.push(L);var R=L.B().Lh();y.push(L);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.B();if(Y.Mc()&&
Y.br(H)){if(Y.Lh()!==R)break;ba.mr()?(0<Y.$c&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].IO()){this.P8(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)L=A[ba],P=L.B(),P.HA(!0),this.wl(L,P,z,F),P.HA(!1)}else{this.wl(L,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==L&&(R=P.B(),R.da().wl(P,R,z,F))}T=X;d.G(y);d.G(A)}}P8(z,F){const H=this.Te;z.QM();for(let P=0,R=F.length;P<R;++P){var J=F[P],L=J.B();L.FA(!0);this.aH(J,L,z)}z.PM();for(let P=0,R=F.length;P<R;++P)J=F[P],L=J.B(),this.wl(J,L,z,H),
L.FA(!1);z.OM()}U8(z){var F=this.$s;const H=this.Sda,J=this.rea,L=this.Jf;H.set(F.cj(L.R),F.dj(L.O),F.cj(L.aa),F.dj(L.W));this.hC&&H.rd(J)?F=this.JJ:(F=this.Q9(),this.hC=!0,J.pa(H));this.eR(z,F);F!==this.JJ&&d.Vc(this.JJ,F)}wl(z,F,H,J){F.mu()?this.S8(z,F,H,J):this.aH(z,F,H)}aH(z,F,H){F=F.oq;H.oj!==F&&F.YX();z.Sf(H)}S8(z,F,H,J){this.Q8(z,F,H,J)&&this.IA(H)}Q8(z,F,H,J){const L=F.sg.Hi();L.ep(H,J,{zD:z,eo:F.Qj(),devicePixelRatio:this.j.$t(),Rx:this.j.au()*this.Li(),MD:this.Da(),Ct:F.Lc(),Mx:L.Iv?null:
this.n$(F),sW:null,lW:null,mW:null,sX:null});H.ur(this.fb());return L.ln}V8(z,F,H,J){const L=this.j;0===this.Pa.mg.length?(z.Ug(H),z.nk(),J&&0===this.$g&&this.Wq()?z.RM(F):(z.fg(this.$g),z.Qm(this.OC),z.Jy(F)),z.Yq(F),L.$o(F)):this.Hi().ep(z,H,{zD:this,eo:this.Qj(),devicePixelRatio:L.$t(),Rx:L.au()*this.Li(),MD:this.Da(),Ct:this.Jf,Mx:null,LL:!0})}aQ(z){this.he!==z&&(this.he=z,this.kh.ny(),this.Zm(),this.j.fa())}Rq(){return this.Li()*this.j.Rq()}Sj(){return this.Li()*this.j.Sj()}Li(){return(this.he*
this.kh.he-1)*this.Jn+1}FG(){var z=this.j.HC,F=this.j.IC,H=(this.Wf()-z)*this.Df+z,J=(this.Xf()-F)*this.Ef+F;z=this.Li();F=this.j.Kf/z;z=this.j.Be/z;H-=F/2;let L=J-z/2;this.j.Ql&&(H=Math.round(H),L=Math.round(L));J=this.XV;J.set(H,L,H+F,L+z);F=this.Da();0!==F&&(b.pa(J),b.offset(-J.Dt(),-J.Et()),a.Lga(b,F),a.HL(b),b.offset(J.Dt(),J.Et()),J.pa(b));F=this.gd;this.YN(F,this.Jf);this.Vq()?this.rY(F,this.$n):this.$n.pa(this.Jf)}rY(z,F){var H=this.j.U,J=H.od;H=H.Zc;const [L,P]=this.so(0,0,z),[R,T]=this.so(J,
0,z),[Z,X]=this.so(J,H,z),[ba,Y]=this.so(0,H,z);z=Math.min(L,R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(L,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}so(z,F,H=0){return this.M7(z,F,H,this.Sj())}M7(z,F,H,J){const L=this.j;var P=L.lb();const R=this.Li();l.set(n,0,0,L.Kf/R,L.Be/R);z/=J;F=n[3]-F/J;J=this.wA(P);P=this.vA(P);return d.K.Q6(z,F,H,P,J,n,m)?[m[0],m[1]]:[NaN,NaN]}Wo(z,F){return this.XR(z,
F,0,this.Sj())}hk(z,F,H=0){return this.XR(z,F,H,this.Rq()*this.el())}XR(z,F,H,J){var L=this.j,P=L.lb();const R=this.Li();l.set(n,0,0,L.Kf/R,L.Be/R);L=this.wA(P);P=this.vA(P);return d.K.p4(z,F,H,P,L,n,m)?[m[0]*J,(n[3]-m[1])*J]:[NaN,NaN]}n$(z){var F=z.Lc(),H=z.Lh();z=z.$c;const J=H+z,L=F.R,P=F.O,R=F.aa;F=F.W;if(this.Vq()){if(this.Ym(L,P,H)||this.Ym(R,P,H)||this.Ym(R,F,H)||this.Ym(L,F,H)||0<z&&(this.Ym(L,P,J)||this.Ym(R,P,J)||this.Ym(R,F,J)||this.Ym(L,F,J)))return null}else if(J>=this.Wt())return null;
let [T,Z]=this.hk(L,P,H),[X,ba]=this.hk(R,F,H);if(0!==this.Da()||0<z){const [Y,va]=this.hk(R,P,H),[ta,ya]=this.hk(L,F,H);if(0<z){const [Na,Sa]=this.hk(L,P,J),[Ta,Ua]=this.hk(R,P,J),[Wa,eb]=this.hk(R,F,J),[fb,Pa]=this.hk(L,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}b.set(T,Z,X,ba);return b}Nr(){this.nC&&
(this.pda(),this.nC=!1);return this.WV}pda(){var z=this.j.lb();const F=this.wA(z);z=this.vA(z);this.WV.qY(z,F)}Ym(z,F,H){return this.Nr().z2(z,F,H)}la(){return{s:this.he,a:this.ng,vl:this.Jf.R,vt:this.Jf.O,vr:this.Jf.aa,vb:this.Jf.W,v:this.Gs,i:this.eC,bc:this.Cl.toJSON(),t:this.Hk,sx:this.oi,sy:this.pi,hosp:this.Kl,px:this.Df,py:this.Ef,c:this.gb.toJSON(),sr:this.Jn,fx:this.Pa.Bc(),cg:this.lB}}qa(z){this.he=z.s;this.ng=z.a;this.Jf.set(z.vl,z.vt,z.vr,z.vb);this.Gs=!!z.v;this.eC=z.hasOwnProperty("i")?
z.i:!0;this.Cl.ym(z.bc);this.Hk=!!z.t;z.hasOwnProperty("sx")&&(this.oi=z.sx);z.hasOwnProperty("sy")&&(this.pi=z.sy);z.hasOwnProperty("hosp")&&(this.Kl=!!z.hosp);this.Df=z.px;this.Ef=z.py;this.gb.ym(z.c);this.Jn=z.sr;d.Vc(this.lB,z.cg);d.Vc(this.Fk,this.IV);const F=new Set(this.lB);let H=0;for(let J=0,L=this.Fk.length;J<L;++J)F.has(this.Fk[J][2])||(this.Fk[H]=this.Fk[J],++H);d.df(this.Fk,H);this.Pa.lc(z.fx);this.Xl=!0;this.LH(!1);this.Vg()}wG(z){if(!this.H.includes(z))if(z.mf()){var F=[...z.Yk()];
F.push(z);F.sort((J,L)=>{J=J.B().Sq();L=L.B().Sq();return J-L});for(var H of F)if(H.hc())for(const J of H.Hd)F.includes(J)||(z=[...J.Yk()],z.push(J),z.sort((L,P)=>{L=L.B().Sq();P=P.B().Sq();return L-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Xg(J,!0)}else if(this.Xg(z,!0),z.hc())for(F of z.Hd)if(H=[...F.Yk()],H.push(F),H.sort((J,L)=>{J=J.B().Sq();L=L.B().Sq();return J-L}),H&&H.length)for(const J of H)this.Xg(J,!0)}}}
{"use strict";const d=self.D,b=self.Bh;d.C(d.Rect);d.C(d.Rect);const a=d.C(d.Rect),e=d.C(d.eb),c=self.Kj.ZD,g=[],l=[],h=[],m=[];let n=null;function p(q,u){n!==q&&(q.n4(u),n=q)}d.Y2=class extends d.ka{constructor(q,u,w){super();this.hb=q;this.j=q.I();this.Ja=w[0];this.Hea=w[1];this.Gea=w[2];this.Z=w[1];this.V=w[2];this.mC=!!w[3];this.yf=!!w[4];this.tD=w[5];this.uD=w[6];this.OT=w[7];this.bd=null;this.mb=w[8];this.Qa=u;this.pi=this.oi=0;this.he=1;this.ng=0;this.Cs=new Set;this.uh=new Set;this.tx=new Set;
this.js=[];this.hJ=[];this.jea=!1;this.AT=c.create();this.Kda=c.create();this.Lda=c.create();this.TC=[];this.ic=[];this.NU=new Map;this.OU=new Map;const r=this.j.U;this.Pa=d.C(d.bl,this,w[11]);this.Xh=d.C(d.K.Fe,r.GI,{DD:(v,y)=>{y=y.jn.ak();v.Au();v.Jy(y);v.Yq(y);r.$o(y)},ID:v=>this.Pa.fl(v)});this.Xl=!0;this.ZV=!1;this.Te=null;this.gq={};this.Up=!0;this.ew=new self.I1(this);this.ke=d.C(d.Event.Xb);for(const v of w[9])this.TC.push(d.C(d.yO,this,null,v));this.ic=[...this.pL()];for(let v=0,y=this.ic.length;v<
y;++v)q=this.ic[v],q.GH(v),q.Yg(),this.NU.set(q.Ba().toLowerCase(),q),this.OU.set(q.mb,q);for(const v of w[10]){w=this.j.kf(v[1]);if(!w)throw Error("missing nonworld object class");w.os||w.JP(v);this.hJ.push(v);this.EQ(w)}}A(){for(const q of this.ic)q.A();d.G(this.ic);this.tx.clear();this.j=this.hb=this.bd=null}I(){return this.j}Ba(){return this.Ja}Ka(){return this.Qa}Hi(){this.gv();return this.Xh}gv(){const q="low"===this.j.U.ai;if(this.Xl||this.ZV!==q){var u=this.Pa.mg;this.Xh.lE(u.map(w=>w.Yf()),
{xt:u.map(w=>w.Ka()),DL:q,YD:!0});this.Xl=!1;this.ZV=q}}Rh(){this.Pa.Rh();this.Xl=!0}IN(){let q=this.ic[0].Li();for(let u=1,w=this.ic.length;u<w;++u){const r=this.ic[u];if(0!==r.Df||0!==r.Ef)q=Math.min(q,r.Li())}return q}ER(){return.5*this.j.Kf/this.IN()}FR(){return.5*this.j.Be/this.IN()}ON(){return this.mC?-Infinity:this.ER()}PN(){return this.mC?Infinity:this.ea()-this.ER()}QN(){return this.mC?-Infinity:this.FR()}NN(){return this.mC?Infinity:this.$()-this.FR()}Zi(q){const u=this.ON(),w=this.PN();
q>w&&(q=w);q<u&&(q=u);this.oi!==q&&(this.oi=q,this.uk(),this.j.fa())}Wf(){return this.oi}$i(q){const u=this.QN(),w=this.NN();q>w&&(q=w);q<u&&(q=u);this.pi!==q&&(this.pi=q,this.uk(),this.j.fa())}Xf(){return this.pi}ny(){this.Zi(this.Wf());this.$i(this.Xf());for(const q of this.ic)q.Kl&&(q.Zi(q.Wf()),q.$i(q.Xf()))}l6(q,u){if(this.tD!==q||this.uD!==u)this.tD=q,this.uD=u,this.K2()&&(this.Vr(),this.uk(),this.j.fa())}bF(){return this.yf?.5:this.tD}cF(){return this.yf?.5:this.uD}cO(){const q=this.bF(),u=
this.cF();return 0>q||1<q||0>u||1<u}cQ(){this.yf&&(this.yf=!1,this.Vr(),this.uk(),this.j.fa())}$P(){this.yf||(this.yf=!0,this.Vr(),this.uk(),this.j.fa())}K2(){return!this.yf}mG(q){this.he!==q&&(this.he=q,this.uk(),this.ny(),this.j.fa())}Cc(q){q=d.qd(q);this.ng!==q&&(this.ng=q,this.uk(),this.j.fa())}Da(){return this.ng}ea(){return this.Z}bj(q){!isFinite(q)||1>q||(this.Z=q)}$(){return this.V}Vi(q){!isFinite(q)||1>q||(this.V=q)}*pL(){for(const q of this.TC)yield*q.$W()}da(q){return"number"===typeof q?
this.SE(q):this.FN(q.toString())}SE(q){q=d.T(Math.floor(q),0,this.ic.length-1);return this.ic[q]}FN(q){return this.NU.get(q.toLowerCase())||null}cz(q){return this.OU.get(q)||null}Vr(){for(const q of this.ic)q.Bca()}uk(){for(const q of this.ic)q.Zm()}D0(){let q=this.TC.filter(u=>u.eA())[0];for(;q;){if(!q.Hk)return e.Hj(q.Cl),e.Ft(1),e;if(q.Qu())return e.mo(0,0,0,0),e;q=q.Mn.filter(u=>u.eA())[0]}e.mo(0,0,0,0);return e}wR(){return[...this.Cs]}EQ(q){if(q.hc())for(const u of q.dh.$l)this.Cs.add(u);else this.Cs.add(q)}W9(){return[...this.uh]}lH(q,
u){if(q===this||!u)return Promise.resolve();q&&(d.PY(this.uh,q.uh),q.uh.clear());q=[];for(const w of this.Cs)this.uh.has(w)||(q.push(w.er(u)),this.uh.add(w));return Promise.all(q)}async GO(q){if(q.bb)throw Error("cannot load textures for family");var u=this.j.lb();!u||u.Po()||this.uh.has(q)||(this.uh.add(q),u=q.er(u),this.v7(u),await u,q.Kz(),this.j.fa())}v7(q){this.tx.add(q);q.then(()=>this.tx.delete(q)).catch(()=>this.tx.delete(q))}b7(){return Promise.all([...this.tx])}s3(q){if(q.bb||0<q.H.length)throw Error("cannot unload textures");
this.j.lb()&&this.uh.has(q)&&(this.uh.delete(q),q.bp())}fda(q,u){if(q!==this&&u)for(const w of this.uh)w.bg()||q.Cs.has(w)||(w.bp(),this.uh.delete(w))}lv(){this.uh.clear()}async eT(q){const u=this.j,w=this.hb,r=u.na();this.OT&&(this.bd=r.yN(this.OT),this.bd.RH());w.VS(this);this.Z=this.Hea;this.V=this.Gea;this.oi=u.oh/2;this.pi=u.nh/2;this.ny();this.faa(q);this.Z7();this.Up||this.b8();this.TQ(this.js);this.a8();w.BY();u.Ld();const v=this.j.vda;await Promise.all(v);d.G(v);if(!u.ci){for(const y of this.js)y.r6();
for(const y of this.js)y.hT()}d.G(this.js);await Promise.all([...this.Cs].map(y=>y.PF(this.j.lb())));q&&(u.Xb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await u.yo(new d.Event("beforeprojectstart")));await this.yo(new d.Event("beforelayoutstart"));u.ci||await u.Zd(d.F.kb.P.TO,null,null);await this.yo(new d.Event("afterlayoutstart"));q&&(u.Xb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await u.yo(new d.Event("afterprojectstart")));r.xba(w);await this.b7();this.Vr();this.uk();
this.Up=!1}faa(q){for(const w of this.j.Xc)if(!w.bb&&w.zf)for(const r of w.ta()){const v=r.B();var u=v.da();u=d.T(u.Ka(),0,this.ic.length-1);u=this.ic[u];v.pv(u);u.W$(r)}if(!q)for(const w of this.ic)w.LH(!1)}Z7(){for(const q of this.ic)q.UY(this.js),q.FG()}b8(){let q=!1;for(const [w,r]of Object.entries(this.gq)){const v=this.j.fz(parseInt(w,10));if(v&&!v.bb&&v.hF()){for(const y of r){var u=null;if(v.zf&&(u=this.cz(y.w.l),!u))continue;u=this.j.Gi(v,u,!1,0,0,!0);u.lc(y);q=!0;this.js.push(u)}d.G(r)}}for(const w of this.ic)w.LH(!0),
w.Vg();q&&(this.j.Ld(),this.j.sS())}TQ(q){for(const w of q){if(!w.hc())continue;const r=w.B(),v=w.Co();for(const y of w.J().dh.$l)if(y!==w.J()){var u=y.ta();u.length>v?w.Jr(u[v]):(u=r?this.j.Gi(y,r.da(),!0,r.ga(),r.ia(),!0):this.j.Gi(y,null,!0,0,0,!0),this.j.Ld(),y.NA(),w.Jr(u),q.push(u))}}}a8(){for(const q of this.hJ)this.j.kf(q[1]).hc()||this.j.Gi(q,null,!0)}X7(){const q=[],u=this.hJ;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.j.kf(y[1]);A.bg()?A.hc()&&A.dh.m1()||q.push(this.j.Gi(y,
null,!0)):(u[w]=y,++w)}d.df(u,w);this.j.Ld();this.TQ(q)}xu(q,u,w,r,v,y){if(w)return w.xu(q,u,r,v,y);w=[];for(const A of this.ic)w.push(A.xu(q,u,r,v,y));return w.flat()}async Yca(){const q=this.hb;this.j.ci||await this.j.Zd(d.F.kb.P.R3,null,null);q.UP(!0);this.j.na().vy();this.Up||this.Iba();for(const u of this.ic)u.d9();for(const u of this.j.Xc)if(!(u.bg()||u.zf||u.Bb().un||u.bb)){for(const w of u.ta())this.j.xo(w);this.j.Ld()}q.UP(!1);q.Yb()===this&&q.VS(null)}Fba(q){const u=q.J().mb.toString();
this.gq.hasOwnProperty(u)||(this.gq[u]=[]);this.gq[u].push(q.Bc())}Iba(){for(const q of this.ic){q.tv();for(const u of q.H){const w=u.J();!w.bg()&&w.hF()&&this.Fba(u)}}}U4(){this.gq={};this.Up=!0}ak(){return this.Te}Qu(){const q=this.j,u=q.lb().Qi();return"low"===q.U.ai||u&&q.pD||"low-latency"===q.hs||this.Pa.mu()||u&&q.nm}Sf(q){const u=this.j.U,w=this.Qu();if(w){"low-latency"!==this.j.hs&&(q.Ug(null),q.uo());const r={Lj:this.j.xd,PL:this.j.pD||this.Pa.mu()};"low"===u.ai&&(r.width=u.Uj(),r.height=
u.Tj());this.Te=this.j.Tt(r)}else this.Te=null;q.Ug(this.Te);q.yd(this.D0());this.j.nm&&q.yY();for(const r of this.ic)r.FG();this.fR(q,this.Te,this.TC,!0);w&&(q.Tg(!1),this.W8(q,this.Te));this.Te=null}fR(q,u,w,r){w=w.filter(v=>v.eA());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.cG()&&!A.dG()){g.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.cG()&&!z.dG())g.push(w[G]);else break}if(2<=g.length||1===g.length&&g[0].l1()){this.N8(q,u,g);v+=g.length;d.G(g);continue}d.G(g)}A.Sf(q,u,r&&0===v);++v}}W8(q,
u){const w=this.j;0===this.Pa.mg.length?(q.Ug(null),q.nk(),q.RM(u),q.Yq(u),w.$o(u)):(a.set(0,0,w.Kf,w.Be),this.Hi().ep(q,null,{zD:this,eo:3,devicePixelRatio:this.j.$t(),Rx:this.j.au()*this.he,MD:this.Da(),Ct:a,Mx:null,LL:!0}))}N8(q,u,w){w[0].Hk||(e.Hj(w[0].Cl),e.Ft(1),q.yd(e));var r=this.j.U;q.Tg(!0);for(var v of w)v.tv(),v.LQ(l);v=w[0];w=null;this.j.vF()&&q.Qi()&&(r=r.GN(v))&&(w=r.gE(),q.AG(w));for(let z=0,F=l.length;z<F;){v=l[z];var y=v.B(),A=y.da();if(y.Mc()&&y.br(A.Nr())){(!v.mr()||0<y.$c)&&m.push(v);
var G=v.B().Lh();h.push(v);for(r=z+1;r<F;++r){const H=l[r],J=H.B();if(J.Mc()&&J.br(J.da().Nr())){if(J.Lh()!==G)break;H.mr()?(0<J.$c&&m.push(H),h.push(H)):m.push(H)}}if(1!==h.length||h[0].IO()){this.O8(q,u,h);for(let H=0,J=m.length;H<J;++H)v=m[H],y=v.B(),A=y.da(),y.HA(!0),p(A,q),A.wl(v,y,q,u),y.HA(!1)}else{p(A,q);A.wl(v,y,q,u);for(let H=0,J=m.length;H<J;++H)y=m[H],y!==v&&(A=y.B(),G=A.da(),p(G,q),G.wl(y,A,q,u))}z=r;d.G(h);d.G(m)}else++z}w&&q.zE(w);d.G(l);n=null}O8(q,u,w){q.QM();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.B(),y=v.da();v.FA(!0);p(y,q);y.aH(r,v,q)}q.PM();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.B(),y=v.da(),p(y,q),y.wl(r,v,q,u),v.FA(!1);q.OM()}la(){const q={sx:this.Wf(),sy:this.Xf(),s:this.he,a:this.Da(),w:this.ea(),h:this.$(),ortho:this.yf,vpX:this.bF(),vpY:this.cF(),fv:this.Up,persist:this.gq,fx:this.Pa.Bc(),layers:{}};for(const u of this.ic)q.layers[u.mb.toString()]=u.la();return q}qa(q){this.oi=q.sx;this.pi=q.sy;this.he=q.s;this.ng=q.a;this.Z=q.w;this.V=q.h;this.yf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.tD=q.vpX);q.hasOwnProperty("vpY")&&(this.uD=q.vpY);this.Up=!!q.fv;this.gq=q.persist;this.Pa.lc(q.fx);this.Xl=!0;for(const [u,w]of Object.entries(q.layers))(q=this.cz(parseInt(u,10)))&&q.qa(w);this.Vr();this.uk()}Dh(q){q.ND=this.ew;var u=this.j;(u=u.Jb&&!u.na().pu())&&b.zG();this.ke.dispatchEvent(q);u&&b.fE()}yo(q){q.ND=this.ew;return this.ke.CL(q)}}}
{"use strict";const d=self.D;d.Z2=class extends d.ka{constructor(b){super();this.j=b;this.hj=[];this.RJ=new Map;this.SJ=new Map;this.Hw=null;this.AK=[];this.zB=null;this.bC=0;this.Pw=null}A(){this.Pw=this.zB=this.Hw=this.j=null;d.G(this.hj);this.RJ.clear();this.SJ.clear();d.G(this.AK)}Ra(b){b=d.C(d.Y2,this,this.hj.length,b);this.hj.push(b);this.RJ.set(b.Ba().toLowerCase(),b);this.SJ.set(b.mb,b)}I(){return this.j}B5(b){this.zB=b}l0(){if(this.zB)return this.zB;if(this.hj.length)return this.hj[0];throw Error("no first layout");
}Pq(b){return this.RJ.get(b.toLowerCase())||null}TE(b){return this.SJ.get(b)||null}E0(b){b=d.T(Math.floor(b),0,this.hj.length-1);return this.hj[b]}fc(b){return"number"===typeof b?this.E0(b):this.Pq(b.toString())}VS(b){this.Hw=b}Yb(){return this.Hw}*by(){this.Hw&&(yield this.Hw);this.AK.length&&(yield*this.AK)}UP(b){if(b)this.bC++;else{if(0>=this.bC)throw Error("already unset");this.bC--}}nO(){return 0<this.bC}uy(b){this.Pw=b}BY(){this.Pw=null}cr(){return!!this.Pw}rr(){const b=this.Yb();b&&b.Vr()}qr(){const b=
this.Yb();b&&b.uk()}}}
{"use strict";const d=self.D;d.K6=class extends d.ka{constructor(b){super();this.j=b;this.wx=d.C(d.Wg);this.Iea=null;this.On=[];this.xx=new Map;this.Zl=new Map;this.Pn=new Map;this.rh=[];this.ge=[];this.ji=[];this.uw=this.es=this.Np=!1;this.jm=()=>this.yaa();this.it=()=>this.zaa();this.hI=()=>this.kv();this.QJ=()=>this.haa();this.lJ=a=>this.lS(a.instance);this.VH=()=>this.jv();this.Rv=[];this.Tc=0}A(){this.I4();this.VH=this.lJ=this.QJ=this.hI=this.it=this.jm=null;for(const b of this.On)b.qe(),b.A();
d.G(this.On);this.On=null;this.wx.A();this.wx=null;d.G(this.rh);this.rh=null;d.G(this.ge);this.ge=null;d.G(this.ji);this.ji=null;this.xx.clear();this.xx=null;this.Zl.clear();this.Zl=null;this.Pn.clear();this.Pn=null;d.G(this.Rv);this.j=this.Rv=null}RX(){const b=this.j.Xb();b.addEventListener("pretick",this.jm);b.addEventListener("tick2",this.it);b.addEventListener("beforelayoutchange",this.hI);b.addEventListener("layoutchange",this.QJ);b.addEventListener("instancedestroy",this.lJ);b.addEventListener("afterload",
this.VH)}I4(){const b=this.j.Xb();b.removeEventListener("pretick",this.jm);b.removeEventListener("tick2",this.it);b.removeEventListener("beforelayoutchange",this.hI);b.removeEventListener("layoutchange",this.QJ);b.removeEventListener("instancedestroy",this.lJ);b.removeEventListener("afterload",this.VH)}Ra(b){this.wx.Kc(b);b=d.jp.TY(b,this);this.Kc(b);this.Z5(b);this.Pn.set(b.Ba(),0)}rE(b){b=b.UN();var a=this.wx.ca(b);a=d.jp.rE(`${b}:${this.Pn.get(b)}`,a,this);this.MR(b);this.Kc(a);return a}MR(b){this.Pn.set(b,
this.Pn.get(b)+1)}bca(){for(const b of this.On)b.Fs||this.MR(b.UN())}P7(){for(const b of this.Pn.keys())this.Pn.set(b,0)}Kc(b){this.On.push(b);this.xx.set(b.Ba().toLowerCase(),b)}Mh(b){b.Rz();b.Fs||(d.Zk(this.On,b),d.Zk(this.rh,b),d.Zk(this.ge,b),d.Zk(this.ji,b),this.xx.delete(b.Ba().toLowerCase()),this.J4(b),b.qh||b.A())}Oa(b){this.j.Oa(b,this.Iea,null)}I(){return this.j}fQ(b,a){this.Zl.has(b)||this.Zl.set(b,new Set);this.Zl.get(b).add(a)}Z5(b){for(const a of b.WE())this.fQ(a,b)}J4(b){for(const [a,
e]of this.Zl.entries())e.has(b)&&(e.delete(b),0===e.size&&this.Zl.delete(a))}a1(b){if(this.Zl.has(b))return this.Zl.get(b)}nz(b){return this.xx.get(b.toLowerCase())||null}H4(b){d.Zk(this.ge,b);this.dv()}BP(b){this.ge.includes(b)?(b.Dr(!0),b.Fr(!1),b.cA(!1)):(b.Dr(!1),b.Fr(!0),b.cA(!1),this.rh.includes(b)||this.rh.push(b));this.cS()}Cy(b){b.Dr(!1);b.Fr(!1);b.YF();d.Zk(this.rh,b);this.dv()}KM(b){b.Dr(!1);b.Fr(!1);this.ge.includes(b)&&(b.cA(!0),this.ji.push(b),d.Zk(this.ge,b))}LM(b){b.Dr(!1);b.Fr(!1);
b.cA(!1);b.Xi(1);d.Zk(this.ge,b)}LY(b){this.KM(b);b.YF()}yaa(){if(!this.I().ci&&this.Np&&!this.es){for(this.uw=!0;this.rh.length;){var b=this.rh.pop();b.Wc();0!==b.Tc&&(this.Tc=1);this.ge.push(b)}b=this.j.Tv;var a=this.j.ts,e=this.j.Jd;for(let c=this.ge.length-1;0<=c;c--)this.ge[c].Nd(b,e,a);this.uw=!1;0!==this.Tc&&this.I().fa()}}zaa(){if(!this.I().ci&&this.Np&&!this.es){var b;for(let a=0,e=this.ji.length;a<e;a++){const c=this.ji[a];b||(b=new Set);c.Rz();this.dS(c);b.add(c)}if(b){d.Cg(this.ji,b);
this.Tc=0;for(let a=0,e=this.ge.length;a<e;a++)if(0!==this.ge[a].Tc){this.Tc=1;break}}this.dv()}}dS(b){b.qh||b.bO()&&b.og&&b.sn&&b.lN()}cS(){this.Np||(this.Np=!0)}dv(){this.ji.length||this.ge.length||this.rh.length||this.uw||(this.Np=!1)}kv(){for(this.es=!0;this.rh.length;)this.Cy(this.rh.pop());const b=new Set;for(const a of this.ge)a.kv()&&(a.Rz(),b.add(a));d.Cg(this.ge,b);b.clear();for(const a of this.ji)a.kv()&&(a.Rz(),b.add(a));d.Cg(this.ji,b);this.dv();for(const a of this.On)a.Nj()}haa(){this.es=
!1}lS(b){var a=b.J();if(a=this.a1(a))if(this.j.ci)this.Rv.push(b);else for(const e of a)e.Fs||(e.qh?this.Mh(e):e.bO()||(this.dS(e),this.Mh(e)))}jv(){for(const b of this.Rv)this.lS(b);d.G(this.Rv)}la(){return{timelinesJson:this.Nba(),scheduledTimelinesJson:this.Lba(),playingTimelinesJson:this.Jba(),markedForRemovalTimelinesJson:this.Hba(),hasRuntimeListeners:this.Np,changingLayout:this.es,isTickingTimelines:this.uw}}qa(b){b&&(this.P7(),this.Q$(b.timelinesJson),this.N$(b.scheduledTimelinesJson),this.L$(b.playingTimelinesJson),
this.K$(b.markedForRemovalTimelinesJson),this.Np=!b.hasRuntimeListeners,this.es=!!b.changingLayout,this.uw=!!b.isTickingTimelines,this.bca(),this.cS(),this.dv())}Nba(){return this.On.map(b=>b.la())}Q$(b){for(const a of b){b=this.nz(a.name);if(!b){b=this.T9(a);if(!b)continue;b=this.nz(b);b=this.rE(b)}b.qa(a);b.v1()||this.Mh(b)}}T9(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}Lba(){return this.CH(this.rh)}N$(b){this.oH(b,this.rh)}Jba(){return this.CH(this.ge)}L$(b){this.oH(b,this.ge)}Hba(){return this.CH(this.ji)}K$(b){this.oH(b,
this.ji)}v$(b,a){if(!a)return!1;for(const e of a)if(e===b.Ba())return!0;return!1}CH(b){return b.map(a=>a.Ba())}oH(b,a){var e=new Set;for(const c of a)this.v$(c,b)||e.add(c);d.Cg(a,e);if(b){e=c=>g=>g.Ba()===c;for(const c of b)(b=this.nz(c))&&(a.find(e(c))||a.push(b))}}}}
{"use strict";const d=self.D;d.jp=class extends d.ka{constructor(b,a,e){super();this.j=e.I();this.Lb=e;this.Td=a;this.Ja=b;this.nb=[];this.QV=0;this.Yr=null;this.wT=0;this.ZM();this.LC=this.Qw=null;this.Wb=0;this.cd=1;this.Rd=0;this.Pd=1;this.sn=this.Rl=this.fC=!1;this.og=!0;this.CC=this.qh=!1;this.gs=-1;this.Ve=this.Kp=this.Fs=this.PB=!1;this.qC=NaN;this.th=[""];this.JV="";this.TK=!1;this.JB=this.Tc=0}static TY(b,a){const e=a.wx.ca(b[0]);b=d.C(d.jp,b[0],e,a);b.L5();return b}static rE(b,a,e){return d.C(d.jp,
b,a,e)}A(){if(!this.qh){this.Lb.Cy(this);this.Lb.LY(this);for(const b of this.nb)b.A();d.G(this.nb);this.Td=this.Lb=this.j=this.nb=null;this.qh=!0;this.LC=this.Qw=null}}ZM(){for(const b of this.Td.ju().lX())this.QV=this.nb.push(d.EG.Ra(this,b))}I(){return this.j}fu(b,a,e){if(this.JB){var c;for(let l=0;l<this.nb.length;l++){var g=this.nb[l];b===g.Ea()&&(g=g.Vf(e))&&a.constructor===g.Eb().constructor&&(c||(c=[]),c.push(g))}return c}}v1(){return!!this.nb.length}dA(b){this.Ja=b}Ba(){return this.Ja}UN(){return this.Td.Ba()}ud(){return this.Td.ud()}gu(){return this.Td.gu()}Ji(){return this.Td.Ji()}ne(){return this.Td.ne()}lk(b){for(const a of this.nb)a.lk(b)}dz(){return this.Td.dz()}hz(){return this.Td.hz()}Mg(){return this.Td.Mg()}Xi(b){return this.cd=
b}Ni(){return this.IsPlaying()?0<this.cd:!0}JN(){this.Qw||(this.Qw=new Promise(b=>{this.LC=b}))}YF(){this.Qw&&(this.LC(),this.LC=this.Qw=null)}Gr(b){this.th=d.jp.S9(b);this.TK=!0}WO(){d.F.Pc.P.hp(this);this.Lb.Oa(d.F.Pc.P.ala);this.Lb.Oa(d.F.Pc.P.bla);this.Lb.Oa(d.F.Pc.P.cla);this.Lb.Oa(d.F.Pc.P.Uka);d.F.Pc.P.hp(null)}KF(){this.gs=this.j.Pk}lN(){this.Kp||(this.Kp=!0,d.F.Pc.P.hp(this),this.Lb.Oa(d.F.Pc.P.Yka),this.Lb.Oa(d.F.Pc.P.Zka),this.Lb.Oa(d.F.Pc.P.$ka),this.Lb.Oa(d.F.Pc.P.Tka),d.F.Pc.P.hp(null))}Dr(b){this.fC=
b}kO(){return this.gs===this.j.Pk}IsPlaying(b=!1){return this.kO()||this.Rl&&!b?!0:this.fC}Qr(){return this.IsPlaying(!0)}Fr(b){this.Rl=b}IP(b){this.og=b;b=this.Fa();if(0>=b||b>=this.ud())this.og=!0}cA(b){this.CC=b}jG(b){this.PB=b}L5(){this.Fs=!0}Fa(){return this.Wb}Hr(b){const a=this.Fa();this.$d(b);this.IP(!1);this.og||this.jG(!0);if(this.Qr()||this.Rl||!this.sn)this.Qr()||this.Rl||this.sn?this.Qr()?this.qe():this.Rl&&(this.Lb.Cy(this),this.SP()):this.SP();this.rv();this.jH(this.Fa(),!0,a);this.KH();
this.Tc&&this.I().fa();this.oS()}$d(b){d.ag(b)||(b=this.ud());this.Wb=0>b?0:b>=this.ud()?this.ud():b}zl(b){d.ag(b)||(b=this.ud());this.Wb=0>b?0:b>=this.ud()?this.ud():b;for(const a of this.nb)a.Yi()}oS(){d.F.Pc&&this.constructor===d.jp&&(d.F.Pc.P.hp(this),this.Lb.Oa(d.F.Pc.P.Vka),this.Lb.Oa(d.F.Pc.P.Wka),this.Lb.Oa(d.F.Pc.P.Xka),d.F.Pc.P.hp(null))}Play(b=!1){return this.qh||this.Rl?!1:this.Qr()&&this.kO()?this.Rba():this.Qr()||!this.og&&!b&&!this.PB?!1:this.Sba()}Rba(){this.jG(!1);this.Lb.H4(this);
this.Lb.BP(this);this.JN();return!0}Sba(){this.jG(!1);this.Lb.BP(this);this.JN();return!0}qe(b=!1){this.qh||(this.IP(b),this.Lb.KM(this),this.og&&this.YF())}ld(b=!0,a=!1){if(!this.qh)if(!this.Qr()&&this.Rl)this.Lb.Cy(this);else if(!this.og){this.qe(!0);this.Ni()?this.$d(0):this.$d(this.ud());var e=this.Fa();this.rv();a?this.o$(e):this.jH(e,!1);b&&this.oS();this.KH();this.Tc&&b&&this.I().fa()}}tP(){this.ld(!1,!0)}o$(b){this.jH(b,!1,NaN,!1,!0)}kv(){if(this.qh)return!0;if(!this.I().ci&&this.w1())return!1;
this.Lb.LM(this);this.I().ci||this.tP();return!0}SP(){this.Wc(!0)}Wc(b){if(!this.CC){if(b){this.Ve=this.sn=!0;this.rv();for(const a of this.nb)a.Wc()}else if(this.Dr(!0),this.Fr(!1),this.WO(),this.og){this.gs=-1;this.Rd=0;this.Pd=1;this.Kp=this.og=!1;this.Ve=this.sn=!0;this.Ni()?this.$d(0):this.$d(this.ud());this.rv();for(const a of this.nb)a.Wc()}else{this.Ve=!0;this.rv();for(const a of this.nb)a.Ne()}this.KH()}}rv(){this.JB=0;for(const b of this.nb)b.tn&&(this.JB=1)}KH(){this.Tc=0;for(const b of this.nb)b.JA(),
0===this.Tc&&1===b.Tc&&(this.Tc=1),this.Yr||1!==b.Cn||(this.Yr||(this.Yr=[]),this.wT=this.Yr.push(b))}Nd(b,a){if(0!==b||0!==this.qC){this.qC=b;var e=this.Wb;a=e+b*a*this.cd;b=this.Td.mt;this.Wb=0>a?0:a>=b?b:a;var c=!1;a=!1;var g=this.dz(),l=this.hz();g||l?g&&!l?0<this.cd?this.Wb>=b&&(this.zl(0),a=!0):0>=this.Wb&&(this.zl(b),a=!0):!g&&l?0<this.cd?this.Wb>=b&&(this.$d(b),this.Xi(-1*this.cd),a=!0,1===this.Rd?this.Pd<this.Mg()?(this.Pd++,this.Rd=0):c=!0:0===this.Rd&&(this.Rd=1)):0>=this.Wb&&(this.$d(0),
this.Xi(-1*this.cd),a=!0,1===this.Rd?this.Pd<this.Mg()?(this.Pd++,this.Rd=0):c=!0:0===this.Rd&&(this.Rd=1)):g&&l&&(0<this.cd?this.Wb>=b&&(this.$d(b),this.Xi(-1*this.cd),a=!0):0>=this.Wb&&(this.$d(0),this.Xi(-1*this.cd),a=!0)):0<this.cd?this.Wb>=b&&(this.Pd<this.Mg()?(this.Pd++,this.zl(0),a=!0):(this.$d(b),c=!0)):0>=this.Wb&&(this.Pd<this.Mg()?(this.Pd++,this.zl(b),a=!0):(this.$d(0),c=!0));g=this.QV;if(c){for(c=0;c<g;c++)this.nb[c].MP();this.qe(!0);this.KF()}else{l=this.wT;for(c=0;c<l;c++)this.Yr[c].qo();
if(1===this.JB)for(c=0;c<g;c++){const h=this.nb[c],m=h.lf(),n=e-m;0>this.Wb-m&&0<n?(this.Wb=0>m?0:m>=b?b:m,h.Ga(m,!0,!1,a,this.Ve,!1)):h.Ga(this.Wb,!0,!1,a,this.Ve,!1)}else for(c=0;c<g;c++)this.nb[c].Ga(this.Wb,!0,!1,a,this.Ve,!1);for(c=0;c<l;c++)this.Yr[c].oo();this.Ve&&(this.Ve=!1)}}}jH(b,a=!1,e=NaN,c=!1,g=!1){for(var l of this.nb)l.qo();for(const h of this.nb){l=b;if("number"===typeof e&&!isNaN(e)){const m=this.Fa()-h.lf(),n=e-h.lf();0>m&&0<n&&(l=h.lf(),this.$d(l))}h.Ga(l,!1,a,!0,this.Ve,g)}for(const h of this.nb)h.oo();
this.Ve&&c&&(this.Ve=!1)}Rz(){if(!this.qh)for(const b of this.nb)b.sl()}Nj(){for(const b of this.nb)b.Nj()}CY(){for(const b of this.nb)b.AY()}b6(b,a){if(a)for(const e of this.nb)if(e.Oi()){if(b){if(e.Do()!==b)continue}else if(e.p1())continue;e.I5(a);this.Lb.fQ(a.J(),this);break}}bO(){return this.nb.some(b=>b.Oi()?b.oE():!0)}w1(){return this.nb.some(b=>b.Oi()?b.oE()?(b=b.J())?b.bg():!1:!1:!1)}Vf(b){for(const a of this.nb)for(const e of a.Wa)if(e.ya.dd===b)return e}VN(b){for(const a of this.nb)if(b===
a.Ea())return a;return null}WE(){const b=[];for(const a of this.nb)b.push(a.J());return b.filter(a=>a)}la(){return{tracksJson:this.Pba(),name:this.Ja,playheadTime:this.Fa(),playbackRate:this.cd,pingPongState:this.Rd,currentRepeatCount:this.Pd,isPlaying:this.fC,isScheduled:this.Rl,initialStateSet:this.sn,finishedTriggers:this.Kp,complete:this.og,released:this.qh,markedForRemoval:this.CC,completedTick:this.gs,implicitPause:this.PB,isTemplate:this.Fs,tags:this.th.join(" "),stringTags:this.JV,tagsChanged:this.TK,
firstTick:this.Ve}}qa(b){b&&(this.R$(b.tracksJson),this.Ja=b.name,this.Wb=b.playheadTime,this.cd=b.playbackRate,this.Rd=b.pingPongState,this.Pd=b.currentRepeatCount,this.fC=!!b.isPlaying,this.Rl=!!b.isScheduled,this.sn=!!b.initialStateSet,this.Kp=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.og=!!b.complete,this.qh=!!b.released,this.CC=!!b.markedForRemoval,this.gs=b.completedTick,this.PB=!!b.implicitPause,this.Fs=!!b.isTemplate,this.th=b.tags.split(" "),this.JV=b.stringTags,this.TK=
!!b.tagsChanged,this.Ve=!!b.firstTick)}Pba(){return this.nb.map(b=>b.la())}R$(b){b.forEach((a,e)=>{this.nb[e].qa(a)});this.nb.filter(a=>a.oE())}static S9(b){if(d.Oo(b))return b.slice(0);if(d.Pi(b))return b.split(" ")}}}
{"use strict";const d=self.D;d.EG=class extends d.ka{constructor(b,a){super();this.ti=b;this.Rb=a;this.Ze=a.ju();this.Yl=this.Ml=NaN;this.Va=this.rc=null;this.tn=0<a.lf();this.Gp=this.Ds=!1;this.Ik=null;this.sc=this.Rb.Wj().sc;this.Wa=[];this.XM();this.Cn=this.Tc=this.Vk=0}static Ra(b,a){return d.C(d.EG,b,a)}A(){this.sc=null;for(const b of this.Wa)b.A();d.G(this.Wa);this.Ik=this.Rb=this.Va=this.rc=this.ti=this.Wa=null}XM(){for(const b of this.Rb.Wd().UW())this.Wa.push(d.cb.Ra(this,b))}sl(){for(const b of this.Wa)b.sl()}Nj(){for(const b of this.Wa)b.Nj();
this.Va=this.rc=null}xb(){return this.ti}I(){return this.ti.I()}C0(){return this.sc?this.sc:this.sc=this.Rb.Wj().sc}Vf(b){for(let a=0;a<this.Wa.length;a++){const e=this.Wa[a];if(e.ya.dd===b)return e}}su(){this.rc||this.Ea()}Lm(){return this.rc?!this.rc.Zq():!1}oE(){if(!this.Oi())return!1;const b=this.I().Gh(this.bu());return b?!b.Zq():!1}J(){if(this.Oi()){var b=this.VE();if(-1!==b)return this.I().kf(b)}}AY(){this.rc=null;this.Ml=-1;this.Va=null;this.Yl=-1}p1(){return!!this.rc}Ea(){return this.rc&&
this.Lm()?this.rc:this.rc=this.I().Gh(this.bu())}I5(b){if(this.rc!==b){this.Nj();this.rc=b;this.Yl=b.J().Ka();this.Ml=b.xc;this.Va=b.B();for(const l of this.Cga()){const h=l.Pga;switch(l.Bga.Xd()){case "instance-variable":var a=b.J(),e=a.v0(l.name),c=a.EN(e);a=a.cu(e);c===l.name&&a===l.type&&h.V6(e);break;case "behavior":var g=l.sL;e=this.J();c=b.J();a=h.Ig(c);g&&a&&(g=g.Ba(),e.Vt(g),c.Vt(g),h.S6(a.mb))}}}}*Cga(){for(const e of this.Wa){var b=e.Eb(),a=this.J();const c={Bga:e,Pga:b};switch(e.Xd()){case "world-instance":c.Yra=
e.ya.dd;break;case "instance-variable":b=b.Nq();c.name=a.EN(b);c.type=a.cu(b);break;case "effect":a=b.LE(a.Pa);c.iqa=a;break;case "behavior":a=b.Ig(a);c.sL=a;break;case "plugin":c.Ura=a.Bb()}yield c}}B(){if(this.Va&&this.Lm())return this.Va;const b=this.Ea();b&&(this.Va=b.B());return this.Va}bu(){return this.Ml?this.Ml:this.Rb.bu()}Ji(){return this.Rb.Ji()}ne(){return this.Rb.ne()}Do(){return this.Rb.Do()}lf(){return this.Rb.lf()}il(){return this.Rb.il()}lk(b){for(const a of this.C0())a.lk(b);for(const a of this.Wa)a.lk(b)}hl(){return this.Rb.hl()}rl(b){this.Rb.rl(b)}VE(){return isNaN(this.Yl)?
this.Rb.VE():this.Yl}Yj(){const b=this.Ea();return b&&b.oa.So()?b.oa.Yj():this.Rb.Yj()}Xj(){const b=this.Ea();return b&&b.oa.So()?b.oa.Xj():this.Rb.Xj()}dk(){return this.Rb.dk()}Ba(){return this.Rb.Ba()}Oi(){return 0===this.dk()}Yi(){for(const b of this.Wa)b.Yi()}Wc(){this.su();if(this.Lm()||!this.Oi()){var b=this.xb().Ni()?0:this.il();for(const a of this.Wa)a.Wc(b),0===this.Vk&&1===a.Vk&&(this.Vk=1),0===this.Tc&&1===a.Tc&&(this.Tc=1);this.Cn=0;this.Wa.some(a=>a.Cn)&&(this.Cn=1);this.Ik=this.xR(b);
this.Gp=this.Ds=!1;this.Ga(b)}}Ne(){this.su();if(this.Lm()||!this.Oi()){this.ti.Ni();var b=this.ti.Fa()-this.lf();this.Ik=this.xR(b);for(const a of this.Wa)a.Ne(b)}}MP(){if(!(this.xb().og||(this.su(),!this.Lm()&&this.Oi()||this.tn))){const b=this.ti.Fa();b>=this.lf()+this.il()?this.Ga(this.il(),!0,!1,!0):0>=b&&this.Ga(0,!0,!1,!0)}}JA(){for(let b=0,a=this.Wa.length;b<a;b++){const e=this.Wa[b];e.JA();0===this.Vk&&1===e.Vk&&(this.Vk=1);0===this.Tc&&1===e.Tc&&(this.Tc=1)}}qo(){const b=this.Wa.length;
for(let a=0;a<b;a++)this.Wa[a].qo()}Ga(b,a=!1,e=!1,c=!1,g=!1,l=!1){this.rc||this.Ea();const h=0===this.Rb.Aa;if(!((!this.rc||this.rc.Zq())&&h||l&&h&&this.J().bg()||(b-=this.lf(),0>b))){this.q3(b,a);this.r3(b,a,g);for(let m=0,n=this.Wa.length;m<n;m++)this.Wa[m].Ga(b,e,c);this.p3(b,a);0!==this.Vk&&(this.Va||(this.Va=this.rc.B()),this.Va&&this.Va.ma())}}oo(){const b=this.Wa.length;for(let a=0;a<b;a++)this.Wa[a].oo()}q3(b,a){if(a&&this.tn&&!this.Ds){if(this.xb().Ni()){if(0>b)return;for(const e of this.Wa)e.Ga(0,
!1,!0)}else{if(b>this.il())return;for(const e of this.Wa)e.Ga(this.il(),!1,!0)}for(const e of this.Wa)e.Wc();this.Ds=!0}}p3(b,a){if(a&&this.tn&&!this.Gp)if(this.xb().Ni()){if(b>=this.il()){for(const e of this.Wa)e.Ga(this.il(),!1,!0);this.Gp=!0}}else if(0>=b){for(const e of this.Wa)e.Ga(0,!1,!0);this.Gp=!0}}r3(b,a,e){if(!e&&a&&d.F.Pc){a=this.xb();e=this.Ik.We;var c=this.Ik.Fa(),g=e?e.Fa():a.ud();if(b<=c||b>=g)this.Ik=this.Ze.AN(b,this.Rb),a.Ni()?e&&this.MF(this.Ik):(b=this.Ik.We)&&this.MF(b)}}xR(b){const a=
this.Ze.z0(b,this.Rb);return a?a:this.Ze.AN(b,this.Rb)}MF(b){const a=this.xb();d.F.Pc.P.hp(a);d.F.Pc.P.j6(b);b=a.Lb;b.Oa(d.F.Pc.P.Ska);b.Oa(d.F.Pc.P.MF);d.F.Pc.P.hp(null);d.F.Pc.P.j6(null)}MX(){return this.Rb.Wj().HX()}hZ(b){this.Rb.Wj().gZ(b)}Gy(b){for(const a of this.Wa)a.Gy(b)}fp(){for(const b of this.Wa)b.fp()}Ei(){this.su();if(this.Lm()||!this.Oi())for(const b of this.Wa)b.Ei()}Fi(){this.su();if(this.Lm()||!this.Oi()){var b=!1;for(const a of this.Wa){const e=a.Fi();!b&&e&&(b=!0)}b&&(b=this.MX(),
b.Hr(this.xb().Fa()),b.lk("noease"),b.rl(!0),b.Gr(""))}}la(){var b=this.Ea();b=b?b.xc:this.bu();return{propertyTracksJson:this.Kba(),lastKeyframeDataItemJson:this.Gba(),initialStateOfNestedSet:this.Ds,endStateOfNestedSet:this.Gp,instanceUid:b}}qa(b){b&&(this.M$(b.propertyTracksJson),this.J$(b.lastKeyframeDataItemJson),this.G$(b.instanceUid),this.Ds=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Ds=b.initialStateOfNestedSet),this.Gp=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.Gp=b.endStateOfNestedSet))}Gba(){return this.Rb.Wj().B0(this.Ik)}Kba(){return this.Wa.map(b=>
b.la())}M$(b){b.forEach((a,e)=>{this.Wa[e].qa(a)})}G$(b){if(d.ag(b)&&(b=this.I().Gh(b))){var a=this.xb();a.CY();a.b6(this.Rb.Do(),b)}}J$(b){this.Ik=this.Rb.Wj().A0(b)}}}
{"use strict";const d=self.D;d.cb=class extends d.ka{constructor(b,a){super();this.sb=b;this.ya=a;this.uc=a.Wd();this.Cn=this.Tc=this.Vk=0;this.ye=this.Eb();this.Pb=this.ya.Lg().Pb;this.uv=this.Rc=null}static Ra(b,a){return d.C(d.cb,b,a)}A(){this.sb=null;this.ye&&(this.ye.A(),this.ye=null);this.uc=this.ya=this.Pb=null}eF(){return!!this.uv}i5(b){this.uv=b}Wd(){return this.uc}xb(){return this.sb.xb()}I(){return this.sb.I()}Ea(){return this.sb.Ea()}Eb(){if(this.ye)return this.ye;let b;switch(this.ya.Xd()){case "behavior":b=
new d.cb.hY(this);break;case "effect":b=new d.cb.p_(this);this.Tc=1;break;case "instance-variable":b=new d.cb.v2(this);break;case "plugin":b=new d.cb.g4(this);this.Tc=1;break;case "world-instance":b=new d.cb.Yo(this);this.Vk=this.Tc=1;break;case "value":b=new d.cb.X6(this);break;case "audio":b=new d.cb.eY(this)}return this.ye=b}Xd(){return this.ya.Xd()}jz(){return this.ya.dk()}du(){return this.Wd().Zy(this.ya).dk()}hl(){return this.ya.hl()}rl(b){this.ya.rl(b)}Ji(){return this.ya.Ji()}ne(){return this.ya.ne()}lk(b){for(const a of this.iz())a.lk(b)}nE(){return this.ya.nE()}iz(){return this.Pb?
this.Pb:this.Pb=this.ya.Lg().Pb}sl(){this.Eb().sl()}Nj(){this.Eb().Nj()}He(){return this.Eb().He()}Yi(){this.Eb().Yi()}Wc(b){this.Eb().Wc();this.Rc=this.yR(b);this.JA()}Ne(b){this.Eb().Ne();this.Rc=this.yR(b)}JA(){var b=this.sb;this.Cn=0;if(b.Oi()){var a=this.xb();b=b.Ea();const e=this.Eb(),c=this.ya.dd;e.ik()?(a=a.fu(b,e,c))&&a.length&&(this.Cn=1):this.Cn=0}}yR(b){const a=this.xb(),e=this.uc.T0(b,this.ya);return e?e:a.Ni()?this.uc.Ii(b,this.ya):this.uc.BN(b,this.ya)}qo(){this.ye.qo()}Ga(b,a=!1,e=
!1){let c;if(a)var g=this.uc.Ii(b,this.ya);else{if(this.Rc){var l=this.xb();const h=this.Rc.We;g=this.Rc.Fa();l=h?h.Fa():l.ud();if(b<=g||b>=l)this.Rc=this.uc.Ii(b,this.ya)}else this.Rc=this.uc.Ii(b,this.ya);g=this.Rc}g&&(c=g.We);this.ye.Ga(b,g,c,a,e)}Ke(b){if(this.Rc){var a=this.xb();const c=this.Rc.We;var e=this.Rc.Fa();a=c?c.Fa():a.ud();if(b<=e||b>=a)this.Rc=this.uc.Ii(b,this.ya)}else this.Rc=this.uc.Ii(b,this.ya);e=this.Rc;return this.ye.Ke(b,e,e.We)}oo(){this.ye.oo()}static TN(b,a){return a.uc.Ii(b,
a.ya)}vM(){const b=this.ya.Lg().uM();this.Rc=null;return b}Gy(b){this.Rc=null;this.ya.Lg().dN(b)}fp(){this.Eb().fp()}Ei(){if(this.Eb().Ei()){const b=this.uc.Zy(this.ya),a=this.Eb().He();b.CP(a)}}Fi(){const b=this.Eb().Fi();b&&this.PX();this.Eb().yy();return b}PX(){const b=this.xb().Fa(),a=this.Eb(),e=d.cb.TN(b,this),c=this.vM();c.gQ(e.dk());c.Hr(b);c.lk(e.Gm());c.rl(!0);c.Oe(a.aF());c.CP(a.He())}la(){return{sourceAdapterJson:this.Eb().la()}}qa(b){b&&this.Eb().qa(b.sourceAdapterJson)}}}
{"use strict";const d=self.D.cb;d.Yo=class{constructor(b){this.M=b;this.Gf=null;this.Kg()}A(){this.Gf&&(this.Gf.A(),this.Gf=null);this.M=null}ik(){return this.Gf.ik()}Vf(){return this.M}sl(){this.Gf&&this.Gf.sl()}Nj(){this.Gf&&this.Gf.Nj()}Kg(){return this.Gf?this.Gf:this.Gf=this.c8()}Nq(){}Ka(){return this.Nq()}iu(){}Yi(){this.Kg().Yi()}Wc(){this.Kg().Wc()}Ne(){this.Kg().Ne()}qo(){this.Gf.Eq()}Ga(b,a,e,c,g){let l;switch(this.M.du()){case "numeric":l=d.tu.Ga(b,a,e,this.M);break;case "angle":l=d.jy.Ga(b,
a,e,this.M);break;case "boolean":l=d.my.Ga(b,a,e,this.M);break;case "color":l=d.zy.Ga(b,a,e,this.M);break;case "text":l=d.fA.Ga(b,a,e,this.M)}this.Gf.to(b,l,a,e,c,g)}Ke(b,a,e){switch(this.M.du()){case "numeric":return d.tu.Ga(b,a,e,this.M);case "angle":return d.jy.Ga(b,a,e,this.M);case "boolean":return d.my.Ga(b,a,e,this.M);case "color":return d.zy.Ga(b,a,e,this.M);case "text":return d.fA.Ga(b,a,e,this.M)}}oo(){this.Gf.Dq()}fp(){var b=this.Kg();b.ni=b.He()}yy(){this.Kg().yy()}He(){return this.Kg().He()}Ei(){return this.Kg().Ei()}Fi(){return this.Kg().Fi()}aF(){const b=
this.M,a=b.sb.xb().Fa(),e=d.TN(a,b),c=e.We;switch(b.du()){case "numeric":return d.tu.Ga(a,e,c,b);case "angle":return d.jy.Ga(a,e,c,b);case "boolean":return d.my.Ga(a,e,c,b);case "color":return d.zy.Ga(a,e,c,b);case "text":return d.fA.Ga(a,e,c,b)}}c8(){const b=this.M;switch(b.nE()?b.du():""){case "combo":case "boolean":case "text":case "string":return new d.nf.JO(this);case "numeric":case "number":case "angle":return"combo"===this.M.jz()?new d.nf.JO(this):new d.nf.KO(this);case "color":case "offsetColor":return new d.nf.FY(this);
default:return new d.nf.KO(this)}}la(){return{propertyAdapterJson:this.Kg().la()}}qa(b){b&&this.Kg().qa(b.propertyAdapterJson)}}}
{"use strict";const d=self.D;class b extends d.cb.Yo{constructor(a){super(a);this.Dx=NaN}Nq(){return this.M.ya.zg[0]}Ka(){return this.Dx?this.Dx:super.Ka()}iu(){return this.M.sb.Ea()}V6(a){this.M.ya.zg[0]!==a&&(this.Dx=a)}Ga(a,e,c,g,l){this.Kg().mE(e.Bd())&&super.Ga(a,e,c,g,l)}Ke(a,e,c){if(this.Kg().mE(e.Bd()))return super.Ke(a,e,c)}la(){return Object.assign(super.la(),{index:this.Dx})}qa(a){a&&(super.qa(a),this.Dx=a.index)}}d.cb.v2=b}
{"use strict";const d=self.D;class b extends d.cb.Yo{constructor(a){super(a);this.mb=NaN}Nq(){return this.M.ya.zg[1]}iu(){var a=this.M.ya,e=this.mb?this.mb:a.zg[0];a=this.M.sb.Ea();e=a.rN(e);return a.nd[e].oa}Ig(a){return a.Py(this.M.ya.zg[2])}S6(a){this.M.ya.zg[0]!==a&&(this.mb=a)}Ga(a,e,c,g,l){const h=this.M.sb.Ea();this.Ig(h.J())&&super.Ga(a,e,c,g,l)}Ke(a,e,c){const g=this.M.sb.Ea();if(this.Ig(g.J()))return super.Ke(a,e,c)}la(){return Object.assign(super.la(),{sid:this.mb})}qa(a){a&&(super.qa(a),
this.mb=a.sid)}}d.cb.hY=b}{"use strict";const d=self.D;class b extends d.cb.Yo{constructor(a){super(a)}Nq(){return this.M.ya.zg[1]}iu(){const a=this.M.sb.B().sg,e=this.LE(a.Pa).Ka();return a.ou(e)?a.fl(e):null}LE(a){return a.gl(this.M.ya.zg[0])}Ga(a,e,c,g,l){this.TR()&&super.Ga(a,e,c,g,l)}Ke(a,e,c){if(this.TR())return super.Ke(a,e,c)}TR(){const a=this.M.sb.B().sg,e=this.LE(a.Pa);if(e)return a.ou(e.Ka())}}d.cb.p_=b}
{"use strict";const d=self.D;class b extends d.cb.Yo{constructor(a){super(a)}Nq(){return this.M.ya.zg[0]}iu(){return this.M.sb.Ea().oa}Ga(a,e,c,g,l){var h=this.M.sb;const m=h.J().Bb();h=h.Ea().J().Bb();m===h&&super.Ga(a,e,c,g,l)}Ke(a,e,c){var g=this.M.sb;const l=g.J().Bb();g=g.Ea().J().Bb();if(l===g)return super.Ke(a,e,c)}}d.cb.g4=b}
{"use strict";const d=self.D;class b extends d.cb.Yo{constructor(a){super(a);this.pb=0;this.QB=!1}ik(){return!1}Wc(){const a=this.M.Wd();let e=this.M.ya;e=a.Zy(e);this.pb=e.zc()}Ne(){}Bd(){this.QB||this.M.Ga(0);return this.pb}Ga(a,e,c){this.pb=d.cb.tu.Ga(a,e,c,this.M);this.QB=!0}fp(){}yy(){}He(){return this.pb}Ei(){return!1}Fi(){return!1}la(){return{value:this.pb,init:this.QB}}qa(a){a&&(this.pb=a.value,this.QB=a.hasOwnProperty("init")?a.init:!0)}}d.cb.X6=b}
{"use strict";const d=self.D;class b extends d.cb.Yo{constructor(a){super(a);this.yk=!1;this.xs=this.ac=this.xe=null;this.ti=this.M.xb();this.sb=this.M.sb;this.jx=this.M.ya.zg;this.TI=this.jx[0];this.OK=this.jx[1];this.Vh=this.jx[3]?this.jx[3]:Math.random().toString(36).slice(2);this.yq=this.fq=this.En=NaN;this.rf=null;this.SR()}A(){super.A();this.rf=this.TI=this.jx=this.sb=this.ti=this.xs=this.ac=this.xe=null}SR(){if(self.D.F.Audio){var a=this.M.I().ez("audio");a&&(this.xe=a.bk().oa);this.ac=self.D.F.Audio.jb;
this.xs=self.D.F.Audio.Ge}}fS(){if(!this.rf){var a=this.M.sb.Vf("audioSource");a&&(this.rf=a.Eb())}}M9(){const a=this.M.sb.Vf("volume");return a?a.Eb().fq:this.fq}sl(){super.sl();this.yk=!1;this.xe&&(this.xs&&(this.En=this.xs.e4.call(this.xe,this.Vh),this.fq=this.xs.Z6.call(this.xe,this.Vh)),this.ac&&this.ac.qe.call(this.xe,this.Vh))}Um(a){this.yq=a}Wc(){super.Wc();this.En=NaN;this.yk=!1}Ne(){super.Ne();const a=this.M.xb().Fa();this.En=a-this.OK;switch(this.M.ya.dd){case "volume":this.fq=this.M.Ke(a)}this.yk=
!1}Ga(a,e,c,g,l){if(this.xe)switch(this.M.ya.dd){case "audioSource":if(!this.ti.Ni())break;if(g){this.ac&&this.ac.qe.call(this.xe,this.Vh);break}if(a<this.OK){this.yk=!1;break}e=this.xs.d4.call(this.xe,this.Vh);c=this.ti.cd;c!==e&&this.ac.Xi.call(this.xe,this.Vh,c);if(this.yk)break;this.yk=!0;if(isNaN(this.En)){const h=self.performance.now(),m=a-this.OK;this.xe.Ri("get-suspended").then(n=>{if("suspended"===n)this.yk=!1;else if(n=m+(self.performance.now()-h)/1E3,this.ac){let p=this.yq;isNaN(p)?(this.Um(0),
p=0):this.Um(p);this.ac.Play.call(this.xe,this.TI,0,p,this.Vh,n)}})}else{const h=this.En;this.En=NaN;const m=this.M9();this.fq=NaN;this.xe.Ri("get-suspended").then(n=>{"suspended"===n?this.yk=!1:this.ac&&(this.Um(m),this.ac.Play.call(this.xe,this.TI,0,m,this.Vh,h))})}break;case "volume":this.fS(),super.Ga(a,e,c,g,l)}}Ke(a,e,c){if(this.xe)switch(this.M.ya.dd){case "volume":return this.fS(),super.Ke(a,e,c)}}ZN(){return this.rf?this.rf.yq:0}q6(a,e){this.rf&&this.rf.Um(this.ZN()+e);this.ac&&this.rf&&
this.ac.Um.call(this.xe,this.rf.Vh,this.rf.yq)}AX(a,e){this.rf&&this.rf.Um(e);this.ac&&this.rf&&this.ac.Um.call(this.xe,this.rf.Vh,this.rf.yq)}la(){return{audioPlaybackStarted:this.yk,audioTag:this.Vh,pauseTime:this.En,pauseVolume:this.fq,volume:this.yq}}qa(a){a&&(this.yk=a.audioPlaybackStarted,this.Vh=a.audioTag,this.En=a.pauseTime,this.fq=a.pauseVolume,this.yq=a.volume,this.SR())}}d.cb.eY=b}"use strict";function ic(d,b,a){return d.M.xb().Ni()?b():a()}
function jc(d,b,a){return"relative"===d.M.ne()?b():a()}function kc(d){if(d.gt)return d.gt;d.gt=d.ye.iu();return d.gt}function lc(d,b=!1){const a=[];for(const e of d){d=e.sb.lf();for(const c of e.iz())b&&0===c.Fa()?a.push({time:d+c.Fa(),value:c.Uh}):b||a.push({time:d+c.Fa(),value:c.Uh})}return a.sort((e,c)=>e.time-c.time)}function mc(d,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=d)return b[a];return null}
self.D.cb.nf=class{constructor(d){this.ye=d;this.M=d.Vf();this.Va=this.M.sb.B();this.dd=this.M.ya.dd;this.ys=!1;this.gt=this.ni=null}A(){this.gt=this.ni=this.Va=this.M=this.ye=null}ik(){return!1}sl(){}Nj(){this.gt=this.ni=this.Va=null}Eb(){return this.ye}Vf(){return this.M}B(){return this.Va?this.Va:this.Va=this.M.sb.B()}Yi(){}Wc(){}Ne(){}yy(){this.ni=null}He(){}Ei(){}Fi(){}mE(d){return typeof this.xl()===typeof d}Eq(){}to(){}Dq(){}op(){return ic(this,()=>{const d=this.M.ya;return this.M.Wd().Zy(d)},
()=>{const d=this.M.ya;return this.M.Wd().Fo(d)}).Uh}oA(){const d=this.M.xb().Fa()-this.M.sb.lf();return ic(this,()=>{const b=this.M.ya;return this.M.Wd().Ii(d,b)},()=>{const b=this.M.ya,a=this.M.Wd(),e=a.BN(d,b);return e?e:a.Fo(b)}).Uh}rA(){}Qe(){return this.ye.Ka()}la(){return{firstAbsoluteUpdate:this.ys,saveState:this.ni}}qa(d){d&&(this.ys=d.firstAbsoluteUpdate,this.ni=d.saveState)}};
{"use strict";const d=self.D,b=new Map,a=[0,0,0];class e extends d.cb.nf{constructor(c){super(c)}Yi(){}Wc(){}Ne(){}He(){const c=this.M.Xd(),g=kc(this),l=this.Qe();switch(c){case "behavior":return this.LA(g.Zb(l));case "effect":return this.LA(g[l]);case "plugin":return this.LA(g.Zb(l));case "world-instance":return this.LA(this.xl())}}Ei(){const c=this.op();return!this.SQ(c,this.xl())}Fi(){return d.oe(this.ni)?!1:!this.SQ(this.ni,this.xl())}SQ(c,g){c=this.Lr(c);g=this.Lr(g);return c.vm(g)}op(){const c=
super.op();return this.Lr(c)}oA(){const c=super.oA();return this.Lr(c)}rA(){}LA(c){return d.Km(c,d.eb)?c.toArray().slice(0,3):c.slice(0,3)}Lr(c){return d.Km(c,d.eb)?c:new d.eb(c[0],c[1],c[2],1)}mE(){return!0}ik(){return!0}Eq(){var c=this.M.xb(),g=this.M.Ea();const l=this.M.Eb();(c=c.fu(g,l,this.dd))&&1<c.length&&(b.has(g)||b.set(g,new Map),g=b.get(g),c=this.M.Xd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.dd)||g.set(this.dd,{tX:!1,color:new d.eb(0,0,0,1)}))}IR(c,g,l){c=b.get(c).get(g).get(l);
c.tX=!0;return c.color}to(c,g){var l=this.M.xb(),h=this.M.sb;c=this.M.Ea();var m=this.M.Eb();const n=this.M.Xd();if((m=l.fu(c,m,this.dd))&&1<m.length){if(m=lc(m,!0),l=l.Fa(),l=mc(l,m))m=l.time-h.lf(),0===m?this.IR(c,n,this.dd).cW(g[0],g[1],g[2]):0>m||(l=g[0],h=g[1],g=g[2],m=this.M.Ga(m,!1,!0),l=d.eb.wE(l,m[0]),h=d.eb.wE(h,m[1]),g=d.eb.wE(g,m[2]),this.IR(c,n,this.dd).cW(l,h,g))}else this.wk(g[0],g[1],g[2])}Dq(){const c=this.M.Ea();if(b.has(c)){var g=b.get(c),l=this.M.Xd();if(g.has(l)){var h=g.get(l);
if(h.has(this.dd)){var m=h.get(this.dd),n=m.color;m.tX&&this.wk(n.Xa,n.Ia,n.ab);0===h.size&&g.delete(l);0===g.size&&b.delete(c)}}}}xl(){const c=this.M.Xd(),g=kc(this),l=this.Qe();switch(c){case "behavior":return this.Lr(g.Zb(l));case "effect":return g[l].clone();case "plugin":return this.Lr(g.Zb(l));case "world-instance":return this.B().gb.clone()}}wk(c,g,l){const h=this.M.Xd(),m=kc(this),n=this.Qe();switch(h){case "behavior":a[0]=c;a[1]=g;a[2]=l;m.pe(n,a);break;case "effect":m[n].Ht(c,g,l);break;
case "plugin":a[0]=c;a[1]=g;a[2]=l;m.pe(n,a);break;case "world-instance":this.B().k6(c,g,l)}}la(){}qa(){}}d.cb.nf.FY=e}
{"use strict";const d=self.D,b=d.cb;class a extends d.cb.nf{constructor(e){super(e)}Yi(){}Wc(){}Ne(){}He(){return this.xl()}Ei(){return this.op()!==this.He()}Fi(){return d.oe(this.ni)?!1:this.ni!==this.He()}ik(){return!1}to(e,c){const g=this.M,l=g.sb,h=g.Xd();var m=g.xb();const n=l.Ea(),p=g.Eb();(m=m.fu(n,p,this.dd))&&1<m.length&&(m=lc(m),e=mc(e+l.lf(),m))&&(c=e.value);switch(g.du()){case "numeric":if(!b.tu.tl(this.Qe(),kc(this),c,h))return;break;case "angle":if(!b.jy.tl(this.Qe(),kc(this),c,h))return;
break;case "boolean":if(!b.my.tl(this.Qe(),kc(this),c,h))return;break;case "color":if(!b.zy.tl(this.Qe(),kc(this),c,h))return;break;case "text":if(!b.fA.tl(this.Qe(),kc(this),c,h))return}this.wk(c)}xl(){const e=this.M.Xd(),c=kc(this),g=this.Qe();switch(e){case "behavior":return c.Zb(g);case "effect":return c[g];case "instance-variable":return c.Je(g);case "plugin":return c.Zb(g)}}wk(e){const c=this.M.Xd(),g=kc(this),l=this.Qe();switch(c){case "behavior":g.pe(l,e);break;case "effect":g[l]=e;break;
case "instance-variable":g.Sm(l,e);break;case "plugin":g.pe(l,e)}}}d.cb.nf.JO=a}
{"use strict";const d=self.D,b=new Map,a=(c,g,l,h,m,n=!1,p=null,q=null)=>{b.set(c,{Nga:g,Yea:l,Rfa:h,round:m,Jfa:n,init:p,reset:q})};a("offsetX",(c,g)=>c.NO(g),(c,g)=>c.ig(g),c=>c.ga(),!0);a("offsetY",(c,g)=>c.OO(g),(c,g)=>c.jg(g),c=>c.ia(),!0);a("offsetWidth",(c,g)=>c.MO(g),(c,g)=>c.bj(g),c=>c.ea(),!0);a("offsetHeight",(c,g)=>c.LO(g),(c,g)=>c.Vi(g),c=>c.$(),!0);a("offsetAngle",(c,g)=>c.z3(g),(c,g)=>c.Cc(g),c=>c.Da(),!1);a("offsetOpacity",(c,g,l,h)=>{l=c.Vd()+g;0===h.Hc?(1<l?h.Hc+=l-1:0>l&&(h.Hc+=
l),c.A3(g)):(c=c.Vd()+g,0<g&&0<h.Hc?1<c&&(h.Hc+=c-1):0<g&&0>h.Hc?(h.Hc+=g,0<h.Hc&&(h.Hc=0)):0>g&&0<h.Hc?(h.Hc+=g,0>h.Hc&&(h.Hc=0)):0>g&&0>h.Hc&&0>c&&(h.Hc+=c))},(c,g)=>{c.Wi(g)},c=>c.Vd(),!1,!0,c=>{c.Hc=0;switch(c.M.ne()){case "relative":{c.M.Wd();const m=c.M.ya.Lg().Pb;var g=c.B().Vd(),l=g;for(var h of m)l=h.Fa(),l=c.M.Ke(l),l=g+l,l=d.T(l,0,1);c.lt=g-l;c.lt=Math.round(100*(c.lt+Number.EPSILON))/100;l=g;for(g=m.length-1;0<=g;g--)h=m[g].Fa(),h=c.M.Ke(h),l-=h,l=d.T(l,0,1);c.kt=l;c.kt=Math.round(100*
(c.kt+Number.EPSILON))/100}}},c=>{switch(c.M.ne()){case "relative":{c.Hc=0;const g=c.B();let l=g.Vd();l=Math.round(100*(l+Number.EPSILON))/100;c.M.xb().Ni()?(g.Wi(l+c.lt),c.Ob=0):(g.Wi(l-c.kt),c.Ob=c.Eb().aF())}}});a("offsetOriginX",(c,g)=>c.B3(g),(c,g)=>c.Br(g),c=>c.jl(),!1);a("offsetOriginY",(c,g)=>c.C3(g),(c,g)=>c.Cr(g),c=>c.kl(),!1);a("offsetZElevation",(c,g)=>c.D3(g),(c,g)=>c.qf(g),c=>c.fb(),!0);a("offsetScaleX",(c,g,l)=>{const h=0>c.ea()?-1:1;c.MO(l.Yj()*h*g)},(c,g,l)=>{c.bj(l.Yj()*g)},(c,g)=>
{const l=0>c.ea()?-1:1;if(c.Io()){var h=c.Ha(),m=g.xb().VN(h.Ea());m?h=h.ea()/m.Yj():(m=h.Ea().oa,h=m.So()?h.ea()/m.Yj():1);return c.ea()*l/(g.Yj()*h)}return c.ea()*l/g.Yj()},!1);a("offsetScaleY",(c,g,l)=>{const h=0>c.$()?-1:1;c.LO(l.Xj()*h*g)},(c,g,l)=>{c.Vi(l.Xj()*g)},(c,g)=>{const l=0>c.$()?-1:1;if(c.Ho()){var h=c.Ha(),m=g.xb().VN(h.Ea());m?h=h.$()/m.Xj():(m=h.Ea().oa,h=m.So()?h.$()/m.Xj():1);return c.$()*l/(g.Xj()*h)}return c.$()*l/g.Xj()},!1);class e extends d.cb.nf{constructor(c){super(c);this.kt=
this.lt=this.Hc=this.Ob=0;this.BV=this.DV=this.CV=this.gJ=this.wK=this.mJ=this.oJ=this.nJ=null;this.OI=this.zK=!1;this.Qn=d.Km(this.M.xb(),d.O6)?new d.cb.nf.y3(this):new d.cb.nf.x3(this);const g=this.M.ya.dd;switch(this.M.Xd()){case "world-instance":c=b.get(g);this.nJ=c.Rfa;this.oJ=c.Nga;this.mJ=c.Yea;this.zK=c.round;this.OI=c.Jfa;this.gJ=c.init;this.wK=c.reset;break;case "audio":this.CV=c.ZN,this.DV=c.q6,this.BV=c.AX,this.zK=!0,this.OI=!1}}A(){this.mJ=this.oJ=this.nJ=this.Qn=null;super.A()}ik(){return this.Qn.ik()}WP(c){this.Ob=
c}Yi(){this.wK&&this.wK(this)}Wc(){const c=this.Qn.Wc();"number"===typeof c&&(this.Ob=c);this.gJ&&this.gJ(this)}Ne(){const c=this.Qn.Ne();"number"===typeof c&&(this.Ob=c)}He(){return this.xl()}Ei(){return this.op()!==this.He()}Fi(){return d.oe(this.ni)?!1:this.ni!==this.He()}Eq(){this.Qn.Eq()}to(c,g,l,h,m,n,p){return this.Qn.to(c,g,l,h,m,n,p)}Dq(){this.Qn.Dq()}xl(){const c=kc(this),g=this.Qe(),l=this.B(),h=this.M.sb;switch(this.M.Xd()){case "behavior":return c.Zb(g);case "effect":return c[g];case "instance-variable":return c.Je(g);
case "plugin":return c.Zb(g);case "world-instance":return this.nJ(l,h);case "audio":return this.CV.call(this.Eb(),l,h)}}wk(c){const g=kc(this),l=this.Qe(),h=this.B(),m=this.M.sb;switch(this.M.Xd()){case "behavior":g.JF(l,c);break;case "effect":g[l]+=c;break;case "instance-variable":g.J5(l,c);break;case "plugin":g.JF(l,c);break;case "world-instance":this.oJ(h,c,m,this);break;case "audio":this.DV.call(this.Eb(),h,c,m,this)}}bT(c){const g=kc(this),l=this.Qe(),h=this.B(),m=this.M.sb;switch(this.M.Xd()){case "behavior":g.pe(l,
c);break;case "effect":g[l]=c;break;case "instance-variable":g.Sm(l,c);break;case "plugin":g.pe(l,c);break;case "world-instance":this.mJ(h,c,m);break;case "audio":this.BV.call(this.Eb(),h,c,m)}}Rr(c,g,l,h,m,n){this.Qn.Rr(c,g,l,h,m,n)}ul(c,g,l){c=(c.toString().split(".")[1]||"").length;const h=this.xl();this.wk((0===c?this.zK?Math.round(h):this.OI?Math.round(100*(h+Number.EPSILON))/100:h:d.toFixed(h,c))-h,g,l)}la(){return Object.assign(super.la(),{v:this.Ob,a:this.Hc,fod:this.lt,bod:this.kt})}qa(c){c&&
(super.qa(c),this.Ob=c.v,this.Hc=c.a,this.lt=d.ag(c.fod)?c.fod:0,this.kt=d.ag(c.bod)?c.bod:0)}}d.cb.nf.KO=e}
{"use strict";class d{constructor(a){this.hL=!1;this.pb=0;this.Wa=a;for(let e=0,c=this.Wa.length;e<c;e++)this.Wa[e].i5(this)}iQ(){this.hL=!0}Oe(a){this.pb=a}Bd(){return this.pb}ld(){this.hL=!1;this.pb=0}}class b{constructor(a){this.ve=a}A(){this.ve=null}Wc(){const a=this.ve;this.ve.Vf();return jc(a,()=>ic(a,()=>0,()=>a.Eb().aF()),()=>{})}Ne(){}ik(){switch(this.ve.Vf().ne()){case "relative":return!1;case "absolute":return!0}}Eq(){var a=this.ve.Vf(),e=a.ya.dd;switch(a.ne()){case "absolute":if(a.eF())a.uv.ld();
else{const c=a.xb(),g=a.Ea();a=a.Eb();(e=c.fu(g,a,e))&&1<e.length&&new d(e)}}}to(a,e,c,g,l,h){var m=this.ve,n=this.ve.Vf();switch(n.ne()){case "relative":n=m.Ob;m.wk(e-n,c,g);h&&this.Rr(a,c,g,l,n,e);m.WP(e);break;case "absolute":if(c=n.xb(),a=n.sb,n.Ea(),n.Eb(),n.eF()){if(m=n.uv,g=lc(m.Wa,!0),c=c.Fa(),c=mc(c,g))a=c.time-a.lf(),0===a?(m.iQ(),m.Oe(m.Bd()+e)):0>a||(n=n.Ke(a),m.iQ(),m.Oe(m.Bd()+(e-n)))}else m.bT(e)}}Dq(){const a=this.ve;var e=this.ve.Vf();switch(e.ne()){case "absolute":e.eF()&&(e=e.uv,
e.hL&&a.bT(e.Bd()))}}Rr(a,e,c,g,l,h){const m=this.ve;g||(e&&a===e.Fa()?m.ul(e.zc(),e,c):c&&a===c.Fa()?m.ul(c.zc(),e,c):0===h-l&&m.ul(e.zc(),e,c))}}self.D.cb.nf.x3=b}
{"use strict";class d{constructor(b){this.ve=b}A(){this.ve=null}Wc(){const b=this.ve;b.ys=!0;return this.rA(b.op())}Ne(){const b=this.ve;if(b.op()!==b.oA())return b.ys=!0,this.rA(b.oA())}ik(){return!1}Eq(){}to(b,a,e,c,g,l){const h=this.ve,m=h.Ob;switch(h.Vf().ne()){case "relative":h.wk(a-m,e,c);l&&this.Rr(b,e,c,g,m,a);break;case "absolute":h.ys?(h.ys=!1,h.wk(m,e,c)):(h.wk(a-m,e,c),l&&this.Rr(b,e,c,g,m,a))}h.WP(a)}Dq(){}rA(b){return b-this.ve.He()}Rr(b,a,e,c,g,l){const h=this.ve;c?a&&b===a.Fa()?h.ul(a.zc(),
a,e):e&&b===e.Fa()?h.ul(e.zc(),a,e):e||h.ul(a.zc(),a,e):a&&b===a.Fa()?h.ul(a.zc(),a,e):e&&b===e.Fa()?h.ul(e.zc(),a,e):0===l-g&&h.ul(a.zc(),a,e)}}self.D.cb.nf.y3=d}
{"use strict";const d=self.D,b=self.Nt;d.cb.tu=class{constructor(){}static tl(a,e,c,g){let l;switch(g){case "behavior":l=e.Zb(a);break;case "effect":l=e[a];break;case "instance-variable":l=e.Je(a);break;case "plugin":l=e.Zb(a)}return l===c?!1:!0}static Ga(a,e,c,g){if(!c)return c=g.ya,c=g.Wd().Fo(c),c.zc();var l=g.Ji();"default"===l&&(l="continuous");"combo"===g.jz()&&(l="discrete");if("discrete"===l)return e.zc();if("continuous"===l||"step"===l){"step"===l&&(l=g.xb().gu(),0!==l&&(l=1/l,a=Math.floor(a*
l)/l));var h=e.Fa();const m=c.Fa();l=e.zc();const n=c.zc();if(l===n)return l;a=d.normalize(a,h,m);const p=e.Gm();e=e.DE("cubic-bezier");c=c.DE("cubic-bezier");e&&e.kx&&c&&c.tB?(h=m-h,h=b.Go(p)(h*a,0,1,h),h=b.Go("cubicbezier")(h,l,l+e.MK,n+c.JI,n)):h=b.Go(p)((m-h)*a,l,n-l,m-h);return"integer"===g.jz()?Math.floor(h):h}}}}
{"use strict";const d=self.D;d.cb.jy=class{constructor(){}static tl(b,a,e,c){let g;switch(c){case "behavior":g=a.Zb(b);break;case "effect":g=a[b];break;case "instance-variable":g=a.Je(b);break;case "plugin":g=a.Zb(b)}return g===e?!1:!0}static Ga(b,a,e,c){if(!e)return a=c.ya,a=c.Wd().Fo(a),a.zc();var g=c.Ji();"default"===g&&(g="continuous");"combo"===c.jz()&&(g="discrete");if("discrete"===g)return a.zc();if("continuous"===g||"step"===g){"step"===g&&(c=c.xb().gu(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const l=a.Fa(),h=e.Fa();c=a.zc();e=e.zc();if(g=a.DE("angle")){const m=g.yK;if(c===e&&0===m)return c;b=d.normalize(b,l,h);a=self.Nt.Go(a.Gm())(b,0,1,1);switch(g.CI){case "closest":return d.qL(c,e,a,m);case "clockwise":return d.dfa(c,e,a,m);case "anti-clockwise":return d.cfa(c,e,a,m)}}else{if(c===e)return c;b=d.normalize(b,l,h);a=self.Nt.Go(a.Gm());return d.qL(c,e,a(b,0,1,1))}}}}}"use strict";
self.D.cb.my=class{constructor(){}static tl(d,b,a,e){let c;switch(e){case "behavior":c=b.Zb(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Je(d);break;case "plugin":c=b.Zb(d)}return!!c===!!a?!1:!0}static Ga(d,b,a,e){return a?b.zc()?1:0:(d=e.ya,d=e.Wd().Fo(d),d.zc()?1:0)}};
{"use strict";const d=self.D,b=[0,0,0],a=[0,0,0],e=[0,0,0];d.cb.zy=class{constructor(){}static tl(c,g,l,h){let m;switch(h){case "behavior":m=g.Zb(c);break;case "effect":m=g[c];break;case "instance-variable":m=g.Je(c);break;case "plugin":m=g.Zb(c)}Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.PW(l),b[0]=Math.floor(255*e.Xa),b[1]=Math.floor(255*e.Ia),b[2]=Math.floor(255*e.ab));Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(e.PW(m),a[0]=Math.floor(255*e.Xa),a[1]=Math.floor(255*e.Ia),a[2]=Math.floor(255*
e.ab));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static Ga(c,g,l,h){if(!l)return g=h.ya,g=h.Wd().Fo(g),g=g.zc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;var m=h.Ji();"default"===m&&(m="continuous");if("discrete"===m)return g=g.zc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;if("continuous"===m||"step"===m){"step"===m&&(h=h.xb().gu(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Fa();m=l.Fa();var n=g.zc(),p=l.zc();const q=d.normalize(c,h,m);c=n[0];l=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];g=self.Nt.Go(g.Gm());h=m-h;
m=h*q;b[0]=c===u?c:g(m,c,u-c,h);b[1]=l===w?l:g(m,l,w-l,h);b[2]=n===p?n:g(m,n,p-n,h);return b}}}}"use strict";self.D.cb.fA=class{constructor(){}static tl(d,b,a,e){let c;switch(e){case "behavior":c=b.Zb(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Je(d);break;case "plugin":c=b.Zb(d)}return c===a?!1:!0}static Ga(d,b,a,e){return a?b.zc():(d=e.ya,d=e.Wd().Fo(d),d.zc())}};
{"use strict";const d=self.D;d.Wg=class{constructor(){this.vx=new Map}A(){for(const b of this.vx.values())b.A();this.vx.clear();this.vx=null}Kc(b){b=new d.J6(b);this.vx.set(b.Ba(),b)}ca(b){return this.vx.get(b)}static Tu(b,a,e,c){if(a)for(const g of a)d.Wg.UQ("create",g,b,e,c)}static bv(b,a,e,c){b.length?a.forEach((g,l)=>{b[l].qa(g)}):a.forEach(g=>{d.Wg.UQ("load",g,b,e,c)})}static UQ(b,a,e,c,g){let l;if("function"===typeof c)switch(b){case "load":l=new c(null,g);break;case "create":l=new c(a,g)}else if("object"===
typeof c)switch(c=c.map.get(a[c.TW]),b){case "load":l=new c(null,g);break;case "create":l=new c(a,g)}switch(b){case "load":l.qa(a);e.push(l);break;case "create":"function"!==typeof l.hl||l.hl()?e.push(l):l.A()}}}}
{"use strict";const d=self.D;d.J6=class{constructor(b){this.Ja="";this.mt=NaN;this.gD=0;this.xg=this.tg="default";this.KC=this.AC=!1;this.bt=1;this.Ze=null;b&&(this.Ja=b[0],this.mt=b[1],this.gD=b[2],this.tg=b[3],this.xg=b[4],this.AC=!!b[6],this.KC=!!b[7],this.bt=b[8],this.Ze=new d.oQ(b[5],this))}A(){this.Ze.A();this.Ze=null}ju(){this.Ze||(this.Ze=new d.oQ(null,this));return this.Ze}Ba(){return this.Ja}dA(b){this.Ja=b}ud(){return this.mt}gu(){return this.gD}Ji(){return this.tg}ne(){return this.xg}dz(){return this.AC}hz(){return this.KC}Mg(){return this.bt}la(){return{trackDataJson:this.Ze.la(),
name:this.Ja,totalTime:this.mt,step:this.gD,interpolationMode:this.tg,resultMode:this.xg,loop:this.AC,pingPong:this.KC,repeatCount:this.bt}}qa(b){b&&(this.ju().qa(b.trackDataJson),this.Ja=b.name,this.mt=b.totalTime,this.gD=b.step,this.tg=b.interpolationMode,this.xg=b.resultMode,this.AC=b.loop,this.KC=b.pingPong,this.bt=b.repeatCount)}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.Ze=e;this.$m=this.TB=null;this.Yl=this.Ml=NaN;this.xg=this.tg="default";this.fh=!1;this.uc=this.ei=null;this.Vb="";this.Ss=null;this.NK=0;this.yC=this.Ze.Td.ud();this.Aa=0;this.Ja="";a&&(a[0]&&(this.TB=a[0],this.Ml=a[0][2],this.Yl=a[0][1]),this.tg=a[1],this.xg=a[2],this.fh=!!a[3],a[6]&&(this.Vb=a[6]),a[7]&&(this.Ss=a[7],this.NK=a[7][0],this.yC=a[7][1]),a[8]&&(this.$m=a[8]),a[8]&&(this.$m=a[8]),a[9]&&(this.Aa=a[9]),a[10]&&(this.Ja=a[10]),this.ei=
new d.xO(a[4],this),this.uc=new d.dP(a[5],this))}A(){this.Ze=this.TB=null;this.ei&&(this.ei.A(),this.ei=null);this.uc&&(this.uc.A(),this.uc=null);this.Ss=null}ju(){return this.Ze}Wj(){this.ei||(this.ei=new d.xO(null,this));return this.ei}Wd(){this.uc||(this.uc=new d.dP(null,this));return this.uc}VE(){return this.Yl}bu(){return this.Ml}Ji(){return this.tg}ne(){return this.xg}hl(){return this.fh}rl(a){this.fh=!!a}Do(){return this.Vb}lf(){return this.NK}il(){return this.yC}Yj(){return this.$m[0]}Xj(){this.$m||
(this.$m=[]);return this.$m[1]}dk(){return this.Aa}Ba(){return this.Ja}la(){return{keyframeDataJson:this.ei.la(),propertyTrackDataJson:this.uc.la(),instanceData:this.TB,additionalInstanceData:this.$m,instanceUid:this.Ml,objectClassIndex:this.Yl,interpolationMode:this.tg,resultMode:this.xg,enabled:this.fh,id:this.Vb,nestedData:this.Ss,type:this.Aa,name:this.Ja}}qa(a){a&&(this.TB=a.instanceData,this.Ml=a.instanceUid,this.Yl=a.objectClassIndex,this.tg=a.interpolationMode,this.xg=a.resultMode,this.fh=
a.enabled,this.Vb=a.id,this.Aa=a.type?a.type:0,this.Ja=a.name?a.name:"",this.yC=this.Ze.Td.ud(),a.nestedData&&(this.Ss=a.nestedData,this.NK=this.Ss[0],this.yC=this.Ss[1]),a.additionalInstanceData&&(this.$m=a.additionalInstanceData),this.Wj().qa(a.keyframeDataJson),this.Wd().qa(a.propertyTrackDataJson))}}d.oQ=class{constructor(a,e){this.Td=e;this.tq=[];d.Wg.Tu(this.tq,a,b,this)}A(){this.Td=null;for(const a of this.tq)a.A();d.G(this.tq);this.tq=null}z0(a,e){e=e.Wj().sc;const c=e.length;for(let g=0;g<
c;g++){const l=e[g];if(l.Fa()===a)return l}}AN(a,e){e=e.Wj().sc;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Fa()<=a)return g}}*lX(){for(const a of this.tq)yield a}la(){return{trackDataItemsJson:this.tq.map(a=>a.la())}}qa(a){a&&d.Wg.bv(this.tq,a.trackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.uc=e;this.$C="";this.Aa=this.dd=this.zg=null;this.Cf=this.bK=NaN;this.xg=this.tg="default";this.fh=!1;this.Dj=null;this.dB=!0;a&&(this.$C=a[0][0],this.zg=a[0].slice(1),this.dd=a[1],this.Aa=a[2],this.bK=a[3],this.Cf=a[4],this.tg=a[5],this.xg=a[6],this.fh=!!a[7],this.Dj=new d.cP(a[8],this),this.dB=a[9])}A(){this.Dj.A();this.zg=this.uc=this.Dj=null}Wd(){return this.uc}Lg(){this.Dj||(this.Dj=new d.cP(null,this));return this.Dj}Xd(){return this.$C}dk(){return this.Aa}gQ(a){this.Aa=
a}Ji(){return this.tg}ne(){return this.xg}hl(){return this.fh}rl(a){this.fh=!!a}nE(){return!!this.dB}la(){return{propertyKeyframeDataJson:this.Dj.la(),sourceAdapterId:this.$C,sourceAdapterArguments:this.zg,property:this.dd,type:this.Aa,min:this.bK,max:this.Cf,interpolationMode:this.tg,resultMode:this.xg,enabled:this.fh,canHavePropertyKeyframes:this.dB}}qa(a){a&&(this.$C=a.sourceAdapterId,this.zg=a.sourceAdapterArguments,this.dd=a.property,this.Aa=a.type,this.bK=a.min,this.Cf=a.max,this.tg=a.interpolationMode,
this.xg=a.resultMode,this.fh=a.enabled,this.dB=a.canHavePropertyKeyframes,this.Lg().qa(a.propertyKeyframeDataJson))}}d.dP=class{constructor(a,e){this.Rb=e;this.hq=[];d.Wg.Tu(this.hq,a,b,this)}A(){this.Rb=null;for(const a of this.hq)a.A();d.G(this.hq);this.hq=null}Zy(a){return a.Lg().Pb[0]}Fo(a){return a.Lg().Pb.le(-1)}T0(a,e){e=e.Lg().Pb;const c=e.length;for(let g=0;g<c;g++){const l=e[g];if(l.Fa()===a)return l}}BN(a,e){e=e.Lg().Pb;const c=e.length;for(let g=0;g<c;g++){const l=e[g];if(l.Fa()>=a)return l}}Ii(a,
e){e=e.Lg().Pb;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Fa()<=a)return g}}*UW(){for(const a of this.hq)yield a}la(){return{propertyTrackDataItemsJson:this.hq.map(a=>a.la())}}qa(a){a&&d.Wg.bv(this.hq,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.ei=e;this.pd=-1;this.pj="noease";this.qj=!1;this.Gw=this.th=null;a&&(this.pd=a[0],this.pj=a[1],this.qj=!!a[2],this.th=(a=a[3])?a.split(" "):[],this.Gw=new Set(this.th.map(c=>c.toLowerCase())),this.We=null)}A(){this.ei=null;d.G(this.th);this.th=null;this.Gw.clear();this.Gw=null}Wj(){return this.ei}Hu(a){this.We=a}Fa(){return this.pd}Hr(a){this.pd=a;this.ei.$u()}Gm(){return this.pj}lk(a){this.pj=a}hl(){return this.qj}rl(a){this.qj=!!a}Gr(a){this.th=
a?a.split(" "):[];this.Gw=new Set(this.th.map(e=>e.toLowerCase()))}la(){return{time:this.pd,ease:this.pj,enable:this.qj,tags:this.th}}qa(a){a&&(this.pd=a.time,this.pj=a.ease,this.qj=a.enable,this.th=a.tags,this.Gw=new Set(this.th.map(e=>e.toLowerCase())))}}d.xO=class{constructor(a,e){this.Rb=e;this.sc=[];d.Wg.Tu(this.sc,a,b,this);this.$u()}A(){this.Rb=null;for(const a of this.sc)a.A();d.G(this.sc);this.sc=null}$u(){this.sc.sort((a,e)=>a.Fa()-e.Fa());for(let a=0;a<this.sc.length;a++)this.sc[a].Hu(this.sc[a+
1])}HX(){const a=new b(null,this);this.sc.push(a);this.$u();return a}gZ(a){for(const e of this.sc){if(!a(e))continue;const c=this.sc.indexOf(e);-1!==c&&(e.A(),this.sc.splice(c,1))}this.u6();this.$u()}u6(){this.sc.sort((a,e)=>a.Fa()-e.Fa())}B0(a){return this.sc.indexOf(a)}A0(a){return this.sc[a]}la(){return{keyframeDataItemsJson:this.sc.map(a=>a.la())}}qa(a){a&&(d.Wg.bv(this.sc,a.keyframeDataItemsJson,b,this),this.$u())}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.Dj=e;this.Uh=this.pb=null;this.Aa="";this.pd=NaN;this.pj="noease";this.qj=!1;this.gj=null;this.Al=void 0;a&&(this.pb=a[0][0],this.Uh=a[0][1],this.Aa=a[0][2],this.pd=a[1],this.pj=a[2],this.qj=!!a[3],this.gj=null,a[4]&&(this.gj=new d.TX(a[4],this)),this.We=null)}A(){this.Dj=null;this.gj&&(this.gj.A(),this.gj=null)}Hu(a){this.We=a}Bd(){return this.pb}Oe(a){"color"===this.Aa&&d.ag(a)?(this.pb[0]=d.YE(a),this.pb[1]=d.PE(a),this.pb[2]=d.FE(a)):
this.pb=a}CP(a){"color"===this.Aa&&d.ag(a)?(this.Uh[0]=d.YE(a),this.Uh[1]=d.PE(a),this.Uh[2]=d.FE(a)):this.Uh=a}zc(){const a=this.Dj.ya.ne();if("relative"===a)return this.Bd();if("absolute"===a)return this.Uh}dk(){return this.Aa}gQ(a){this.Aa=a}Fa(){return this.pd}Hr(a){this.pd=a;this.Dj.av()}Gm(){return this.pj}lk(a){this.pj=a}hl(){return this.qj}rl(a){this.qj=!!a}DE(a){if(this.gj){if(this.Al||null===this.Al)return this.Al;var e=this.gj.xp;if(!e)return this.Al=null;var c=e.length;for(let g=0;g<c;g++){const l=
e[g];if(l.Do()===a)return this.Al=l}return this.Al=null}}la(){const a=this.gj;return{addonDataJson:a?a.la():a,value:this.pb,aValue:this.Uh,type:this.Aa,time:this.pd,ease:this.pj,enable:this.qj}}qa(a){a&&(a.addonDataJson&&this.gj.Fpa(a.addonDataJson),this.pb=a.value,this.Uh=a.aValue,this.Aa=a.type,this.pd=a.time,this.pj=a.ease,this.qj=a.enable)}}d.cP=class{constructor(a,e){this.ya=e;this.Pb=[];d.Wg.Tu(this.Pb,a,b,this);this.av()}A(){this.ya=null;for(const a of this.Pb)a.A();d.G(this.Pb);this.Pb=null}av(){this.Pb.sort((a,
e)=>a.Fa()-e.Fa());for(let a=0;a<this.Pb.length;a++)this.Pb[a].Hu(this.Pb[a+1])}uM(){const a=new b(null,this);this.Pb.push(a);this.av();return a}dN(a){for(const e of this.Pb){if(!a(e))continue;const c=this.Pb.indexOf(e);-1!==c&&(e.A(),this.Pb.splice(c,1))}this.v6();this.av()}v6(){this.Pb.sort((a,e)=>a.Fa()-e.Fa())}la(){return{propertyKeyframeDataItemsJson:this.Pb.map(a=>a.la())}}qa(a){a&&(d.Wg.bv(this.Pb,a.propertyKeyframeDataItemsJson,b,this),this.av())}}}
{"use strict";const d=self.D;class b{constructor(c,g){this.gj=g;this.Vb=c[0];this.Gl=c[1]}A(){this.Gl=this.gj=null}Do(){return this.Vb}la(){return{id:this.Vb,data:this.Gl}}qa(c){c&&(this.Vb=c.id,this.Gl=c.data)}}class a extends b{constructor(c,g){super(c,g);this.MK=this.Gl[0];this.kx=!!this.Gl[1];this.JI=this.Gl[2];this.tB=!!this.Gl[3]}A(){super.A()}la(){return Object.assign(super.la(),{startAnchor:this.MK,startEnable:!!this.kx,endAnchor:this.JI,endEnable:!!this.tB})}qa(c){c&&(super.qa(c),this.MK=
c.startAnchor,this.kx=!!c.startEnable,this.JI=c.endAnchor,this.tB=!!c.endEnable)}}class e extends b{constructor(c,g){super(c,g);this.CI=this.Gl[0];this.yK=this.Gl[1]}A(){super.A()}la(){return Object.assign(super.la(),{direction:this.CI,revolutions:this.yK})}qa(c){c&&(super.qa(c),this.CI=c.direction,this.yK=c.revolutions)}}d.TX=class{constructor(c){this.xp=[];d.Wg.Tu(this.xp,c,{TW:0,map:new Map([["cubic-bezier",a],["angle",e]])},this)}A(){for(const c of this.xp)c.A();d.G(this.xp);this.xp=null}la(){return{addonDataItemsJson:this.xp.map(c=>
c.la())}}qa(c){c&&d.Wg.bv(this.xp,c.addonDataItemsJson,{TW:"id",map:new Map([["cubic-bezier",a],["angle",e]])},this)}}}
{"use strict";const d=self.D;let b=0;d.O6=class extends d.jp{constructor(a,e){super(`tween-${b++}`,a,e);this.Vb="";this.LT=!1;this.iJ="start-value";this.sb=this.dV=this.cV=this.rc=null}ZM(){for(const a of this.Td.ju().lX())this.nb.push(d.tQ.Ra(this,a));this.sb=this.nb[0]}Vf(){return this.sb.Wa[0]}Ea(){var a=this.nb;if(a&&a.length&&(this.sb=a=a[0])){var e=a.Ea();return a.Lm()?e:void 0}}Do(){return this.Vb}WO(){if(this.dV)for(const a of this.dV)a(this);if(!this.og)for(const a of this.nb)a.Fi()}KF(){this.gs=
this.j.Pk}lN(){if(!this.Kp&&(this.Kp=!0,this.cV))for(const a of this.cV)a(this)}Hr(a){this.YQ();super.Hr(a)}zl(a){d.ag(a)||(a=this.ud());this.Wb=0>a?0:a>=this.ud()?this.ud():a;this.sb.Yi()}Wc(a){if(!this.sn&&"current-state"===this.iJ)for(const e of this.nb)e.Ei();super.Wc(a)}qe(a=!1){super.qe(a);if(!this.og)for(const e of this.nb)e.fp()}ld(a=!0,e=!1){this.YQ();super.ld(a,e)}YQ(){for(const a of this.nb){const e=c=>{c=c.Fa();const g=this.ud();return 0!==c&&c!==g};a.hZ(e);a.Gy(e)}}kv(){if(this.qh)return!0;
const a=this.Ea();if(a&&a.J().bg())return!1;this.Lb.LM(this);this.tP();return!0}Nd(a,e,c){this.rc||(this.rc=this.Ea());if(this.rc&&!this.rc.Zq()&&(e=this.rc.Jd,-1!==e&&(a=c*e),0!==a||0!==this.qC)){this.qC=a;c=this.Wb+a*this.cd;a=this.Td.mt;this.Wb=0>c?0:c>=a?a:c;e=c=!1;var g=this.dz(),l=this.hz();g||l?g&&!l?0<this.cd?this.Wb>=a&&(this.zl(0),e=!0):0>=this.Wb&&(this.zl(a),e=!0):!g&&l?0<this.cd?this.Wb>=a&&(this.$d(a),this.Xi(-1*this.cd),e=!0,1===this.Rd?this.Pd<this.Mg()?(this.Pd++,this.Rd=0):c=!0:
0===this.Rd&&(this.Rd=1)):0>=this.Wb&&(this.$d(0),this.Xi(-1*this.cd),e=!0,1===this.Rd?this.Pd<this.Mg()?(this.Pd++,this.Rd=0):c=!0:0===this.Rd&&(this.Rd=1)):g&&l&&(0<this.cd?this.Wb>=a&&(this.$d(a),this.Xi(-1*this.cd),e=!0):0>=this.Wb&&(this.$d(0),this.Xi(-1*this.cd),e=!0)):0<this.cd?this.Wb>=a&&(this.Pd<this.Mg()?(this.Pd++,this.zl(0),e=!0):(this.$d(a),c=!0)):0>=this.Wb&&(this.Pd<this.Mg()?(this.Pd++,this.zl(a),e=!0):(this.$d(0),c=!0));c?(this.sb.MP(),this.qe(!0),this.KF()):(this.sb.Ga(this.Wb,
!0,!1,e,this.Ve,!1),this.Ve&&(this.Ve=!1))}}la(){const a=super.la();return Object.assign(a,{tweenDataItemJson:this.Td.la(),id:this.Vb,destroyInstanceOnComplete:this.LT,initialValueMode:this.iJ})}qa(a){a&&(this.Td.qa(a.tweenDataItemJson),super.qa(a),this.Vb=a.id,this.LT=a.destroyInstanceOnComplete,this.iJ=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const d=self.D;d.tQ=class extends d.EG{constructor(b,a){super(b,a);this.CK=this.Xv=null}static Ra(b,a){return d.C(d.tQ,b,a)}MQ(){1===this.Wa.length?this.Xv=this.Wa[0]:(this.Xv=this.Wa[0],this.CK=this.Wa[1])}XM(){for(const b of this.Rb.Wd().UW())this.Wa.push(d.sQ.Ra(this,b));this.MQ()}qo(){}Ga(b,a,e=!1,c=!1,g,l=!1){this.rc||this.Ea();if(this.rc){if(this.rc.Zq()||l&&this.J().bg())return!1;this.CK?(this.Xv.Ga(b,e,c),this.CK.Ga(b,e,c)):this.Xv.Ga(b,e,c);0!==this.Xv.Vk&&(this.Va||(this.Va=
this.rc.B()),this.Va&&this.Va.ma())}}oo(){}qa(b){super.qa(b);this.MQ()}}}
{"use strict";const d=self.D;d.sQ=class extends d.cb{constructor(b,a){super(b,a);this.Cv=!1}static Ra(b,a){return d.C(d.sQ,b,a)}Ga(b,a=!1,e=!1){if(this.Cv){var c=this.Pb[0];var g=this.Pb[1]}else{if(a)c=this.uc.Ii(b,this.ya);else{if(this.Rc){g=this.xb();const l=this.Rc.We;c=this.Rc.Fa();g=l?l.Fa():g.ud();if(b<=c||b>=g)this.Rc=this.uc.Ii(b,this.ya)}else this.Rc=this.uc.Ii(b,this.ya);c=this.Rc}g=c.We}this.ye.Ga(b,c,g,a,e)}vM(){const b=this.ya.Lg().uM();this.Rc=null;this.Cv=2>=this.iz().length;return b}Gy(b){this.Rc=
null;this.ya.Lg().dN(b);this.Cv=2>=this.iz().length}la(){return{sourceAdapterJson:this.Eb().la(),basic:this.Cv}}qa(b){b&&(this.Eb().qa(b.sourceAdapterJson),this.Cv=b.basic)}}}
{"use strict";const d=self.D,b=self.Nt;d.qQ=class extends d.ka{constructor(a){super();this.Ja=a[0];this.Ag=[];for(var e of a[1])a=d.rQ.Ra(this,e),this.Ag.push(a);for(e=0;e<this.Ag.length;e++)this.Ag[e].Hu(this.Ag[e+1]);this.Rw=new Map;this.RV=new Map;this.Laa();b.FX(this.Ja,(c,g,l,h)=>this.Ga(c,g,l,h))}static Ra(a){return d.C(d.qQ,a)}A(){for(const a of this.Ag)a.A();d.G(this.Ag);this.Ag=null;this.Rw.clear();this.Rw=null;this.RV.clear();this.RV=null}n0(a){for(let e=this.Ag.length-1;0<=e;e--){const c=
this.Ag[e];if(c.Bg<a)return c}}m0(a){for(let e=this.Ag.length-1;0<=e;e--){const c=this.Ag[e];if(c.Bg<=a)return c}}Ga(a,e,c,g){var l=a/g;a=this.m0(l);g=a.We;g||(a=this.n0(l),g=a.We);l=d.oga(l,a.Bg,g.Bg,g.Bg-a.Bg);const h=a.Bg,m=a.Ex,n=a.Bg+a.HV,p=a.Ex+a.Qea,q=g.Bg+g.NT,u=g.Ex+g.Zda,w=g.Bg;g=g.Ex;g=b.Go("spline")(l,h,m,n,p,q,u,w,g,this.Rw.get(a));g+=a.Ex;return(1-g)*e+g*(e+c)}Laa(){this.Rw.clear();for(let e=0;e<this.Ag.length-1;e++){var a=this.Ag[e];if(!a.kx)continue;const c=this.Ag[e+1];this.Rw.set(a,
b.R_(a.Bg,a.Bg+a.HV,c.Bg+c.NT,c.Bg))}}}}{"use strict";const d=self.D;d.rQ=class extends d.ka{constructor(b,a){super();this.Bg=a[0];this.Ex=a[1];this.HV=a[2];this.Qea=a[3];this.NT=a[4];this.Zda=a[5];this.kx=a[6];this.tB=a[7];this.We=null}A(){}static Ra(b,a){return d.C(d.rQ,b,a)}Hu(b){this.We=b}}}{"use strict";const d=self.D;d.N6=class extends d.ka{constructor(b){super();this.j=b;this.lD=[]}A(){for(const b of this.lD)b.A();d.G(this.lD);this.lD=null}Ra(b){this.lD.push(d.qQ.Ra(b))}}}
{"use strict";const d=self.D;d.t6=class extends d.ka{constructor(b){super();this.N=b;this.ob=[];this.ob.push(d.C(d.vG,this));this.Qa=0;this.nj=this.ob[0]}A(){for(const b of this.ob)b.A();d.G(this.ob);this.N=this.nj=null}J(){return this.N}Y(){return this.nj}yd(){this.Y().yd()}r4(){var b=this.ob,a=++this.Qa;a===b.length?(a=d.C(d.vG,this),b.push(a),this.nj=a):(b=b[a],b.ld(),this.nj=b)}s4(){const b=this.ob,a=++this.Qa;a===b.length&&b.push(d.C(d.vG,this));const e=b[a];e.OY(b[a-1]);this.nj=e}Na(){this.nj=
this.ob[--this.Qa]}cp(b){const a=this.ob;for(let e=0,c=a.length;e<c;++e)a[e].cp(b)}}}
{"use strict";const d=self.D;d.vG=class extends d.ka{constructor(b){super();this.ob=b;this.N=this.ob.J();this.Qd=this.N.I().jd();this.kc=!0;this.H=[];this.Dc=[]}A(){this.wy();this.Qd=this.N=this.ob=null}wy(){d.G(this.H);d.G(this.Dc)}J(){return this.N}$N(){return this.kc?!!this.N.H.length:!!this.H.length}ta(){return this.kc?this.N.ta():this.H}j1(){return!!this.Dc.length}f0(){const b=this.ta();return b.length?b:this.Dc}ld(){this.kc=!0;d.G(this.Dc)}yd(){this.kc=!0}OY(b){b.kc?this.ld():(this.kc=!1,d.Vc(this.H,
b.H),d.G(this.Dc))}mv(b){this.H.push(b)}qp(b){this.Dc.push(b)}Se(b){this.kc=!!b}mk(b){this.kc=!1;d.G(this.H);this.H.push(b)}Yz(b){this.kc=!1;d.Vc(this.H,b)}Ku(b){this.kc=!1;d.G(this.H);for(const a of b)this.H.push(a)}tM(b,a){for(const e of a)b.has(e)||this.Dc.push(e)}L6(b){for(const a of b)this.H.push(a);d.Cg(this.Dc,b)}Pm(b){b&&(this.Qd.hf().Sb().ee?(this.kc&&(d.G(this.H),d.Vc(this.Dc,b.J().ta()),this.kc=!1),b=this.Dc.indexOf(b),-1!==b&&(this.H.push(this.Dc[b]),this.Dc.splice(b,1))):this.mk(b))}cp(b){d.Cg(this.H,
b);d.Cg(this.Dc,b)}}}
{"use strict";const d=self.D;d.x_=class extends d.ka{constructor(b){super();this.za=b;this.j=this.za.I();this.ob=[];this.ob.push(d.C(d.iN,this,null));this.Qa=0;this.vB=[]}A(){for(const b of this.ob)b.A();d.G(this.ob);d.G(this.vB);this.j=this.za=null}na(){return this.za}I(){return this.j}hf(){return this.ob[this.Qa]}Sa(b){var a=this.ob;const e=++this.Qa;if(e===a.length)return b=d.C(d.iN,this,b),a.push(b),b;a=a[e];a.ld(b);return a}Na(){--this.Qa}t4(b){this.vB.push(b)}h4(){this.vB.pop()}W_(){const b=this.vB;
return 0===b.length?null:b.le(-1)}}}
{"use strict";const d=self.D;d.iN=class extends d.ka{constructor(b,a){super();this.ob=b;this.j=this.ob.I();this.Mv=a;this.lg=this.El=0;this.II=this.Xp=!1;this.NI=null;this.WI=this.ZT=0}A(){this.ld(null);this.j=this.ob=null}ld(b){this.Mv=b;this.lg=this.El=0;this.II=this.Xp=!1}yH(b,a){this.Mv=b;this.El=0;this.lg=a}uP(){this.lg=this.El=0}Sb(){return this.Mv}Sg(b){this.Mv=b}Rm(b){this.El=b}Wz(b){this.lg=b}Tm(b){this.Xp=!!b}yr(b){this.II=!!b}A5(b){this.NI=b}T1(b,a){this.ZT=b;this.WI=a}bA(b){this.WI=b}gk(){const b=
this.Mv;return b.kC?!0:this.El<b.jc.length-1?!!b.zd().length:!1}}}{"use strict";const d=self.D;d.k3=class extends d.ka{constructor(b){super();this.za=b;this.j=this.za.I();this.ob=[];this.Qa=-1;this.nj=null;this.RB=[]}A(){d.G(this.ob);this.j=this.za=null}vca(b){this.RB=b;b=this.RB.slice(0);this.ob.push(b);this.Qa=0;this.nj=b}na(){return this.za}I(){return this.j}Mq(){return this.nj}Sa(){const b=++this.Qa,a=this.ob;b===a.length?a.push(this.RB.slice(0)):d.Vc(a[b],this.RB);this.nj=a[b]}Na(){this.nj=this.ob[--this.Qa]}}}
{"use strict";const d=self.D;d.m3=class extends d.ka{constructor(b){super();this.za=b;this.j=this.za.I();this.ob=[];this.Qa=-1}A(){d.G(this.ob);this.j=this.za=null}na(){return this.za}I(){return this.j}pO(){return 0<=this.Qa}Mq(){return this.ob[this.Qa]}Sa(){++this.Qa;if(this.Qa===this.ob.length){var b=d.C(d.l3,this);this.ob.push(b);return b}b=this.ob[this.Qa];b.ld();return b}Na(){--this.Qa}F_(b){const a=this.ob;for(let e=this.Qa;0<=e;--e){const c=a[e];if(c.Ba()===b)return c}return null}}}
{"use strict";const d=self.D;d.l3=class extends d.ka{constructor(b){super();this.Bf=b;this.Ja="";this.Qa=0;this.Ec=!1}ld(){this.Ja="";this.Qa=0;this.Ec=!1}dA(b){this.Ja=b}Ba(){return this.Ja}Oc(b){this.Qa=b}Ka(){return this.Qa}qe(){this.Ec=!0}}}{"use strict";const d=self.D;d.aY=class extends d.ka{constructor(){super();this.ob=[];this.Qa=-1}A(){d.G(this.ob)}Mq(){return this.ob[this.Qa]}Sa(){++this.Qa;if(this.Qa===this.ob.length){const b=[];this.ob.push(b);return b}return this.ob[this.Qa]}Na(){--this.Qa}}}
{"use strict";const d=self.D;function b(a,e){return a.Ka()-e.Ka()}d.w_=class extends d.ka{constructor(a){super();this.j=a;this.vv=[];this.DK=new Map;this.ZH=[];this.cU=new Map;this.oI=new Map;this.vI=new Map;this.PA=new Map;this.tT=new Map;this.LI=new Map;this.Eea=0;this.YH=[];this.yda=[];this.QU=[];this.UI=new Map;this.Qd=d.C(d.x_,this);this.wd=d.C(d.k3,this);this.Bf=d.C(d.m3,this);this.XK=[];this.RC=[];this.QC=[];this.nI=this.Jl=this.hm=0;this.yg=[];this.WA=[];self.c3_callFunction=(e,c)=>this.yA(e,
c)}A(){this.vy();this.Qd.A();this.Qd=null;this.wd.A();this.wd=null;d.G(this.RC);d.G(this.QC);this.j=null;d.G(this.vv);this.DK.clear()}Ra(a){a=d.C(d.v_,this,a);this.vv.push(a);this.DK.set(a.Ba().toLowerCase(),a)}z7(a){this.XK.push(a)}Ub(){for(const a of this.UI.values())a.Ub(!1);for(const a of this.vv)a.Ub();for(const a of this.vv)a.RH();for(const a of this.XK)a.Ub(!1);d.G(this.XK);this.wd.vca(this.QU)}I(){return this.j}yN(a){return this.DK.get(a.toLowerCase())||null}Yaa(a){this.ZH.push(a);this.cU.set(a.bU,
a)}Vaa(a){this.oI.set(a.mb,a)}Uaa(a){this.vI.set(a.mb,a)}Taa(a){this.PA.set(a.mb,a)}Xaa(a){this.UI.set(a.HB.toLowerCase(),a)}Waa(a){this.LI.set(a.mb,a);a.bg()?this.YH.push(a):this.yda.push(a)}pA(a){2<=a.length&&a.sort(b);let e=this.tT.get(a.length);e||(e=[],this.tT.set(a.length,e));for(let g=0,l=e.length;g<l;++g){const h=e[g];a:{for(let m=0,n=a.length;m<n;++m)if(a[m]!==h[m]){var c=!1;break a}c=!0}if(c)return h}e.push(a);return a}L9(a){this.QU.push(a.Pp);return this.Eea++}jd(){return this.Qd}gf(){return this.jd().hf()}Sb(){return this.gf().Sb()}Tf(){const a=
this.gf();return a.Sb().tN(a.El)}Xt(){const a=this.gf();return a.Sb().pN(a.lg)}N_(a){const e=[];for(a=a.Tq();a;)d.qm(e,a.oR()),a=a.Tq();return e}zR(a){const e={};for(const c of this.N_(a))e[c.Ki()]=c.DR();return Object.create(Object.prototype,e)}NE(a){return this.LI.get(a)||null}a0(a){return this.oI.get(a)||null}L_(a){return this.PA.get(a)||null}az(a){return this.UI.get(a.toLowerCase())||null}P4(){for(const a of this.YH)a.V4()}xN(a){return this.cU.get(a.toLowerCase())||null}b0(a){return(a=this.oI.get(a))&&
a.xj?a:null}Q4(){for(const a of this.ZH)a.S4()}zS(){for(const a of this.vv)a.mba()}a5(a){this.zS();this.hm++;for(const e of a.by())if(a=e.bd)this.j.wu(e),a.ua(),this.j.vu();this.hm--}async bZ(a){this.zS();this.hm++;for(const e of this.w8(a))await this.j.Hq(e);this.hm--}*w8(a){for(const e of a.by())if(a=e.bd)this.j.wu(e),yield*a.qb(),this.j.vu()}sv(a,e,c,g){let l=!1;if(!a.Yb())return this.RF(e,c,g);this.Jl++;for(const h of a.by())if(a=h.bd){this.j.wu(h);for(const m of a.mB){const n=m.sv(e,c,g);l=l||
n}a=a.sv(e,c,g);l=l||a;this.j.vu()}this.Jl--;return l}*Vu(a,e,c,g){let l=!1;if(!a.Yb())return this.RF(e,c,g);this.Jl++;for(const h of a.by())if(a=h.bd){this.j.wu(h);for(const m of a.mB){const n=yield*m.Vu(e,c,g);l=l||n}a=yield*a.Vu(e,c,g);l=l||a;this.j.vu()}this.Jl--;return l}RF(a,e,c){this.RC.push([a,e,c]);return!1}y4(a,e,c){let g=null;const l=new Promise(h=>g=h);this.QC.push([a,e,c,g]);return l}*wba(){if(this.j.nu())throw Error("should not be in breakpoint");const a=this.j.hb;for(;this.QC.length;){const [e,
c,g,l]=this.QC.shift(),h=yield*this.Vu(a,e,c,g);l(h)}}async wP(){for(const a of this.wba())await this.j.Hq(a)}yF(){return 0<this.Jl}Zu(){return++this.Jl}Wu(){--this.Jl}N2(){return 0<this.hm}pu(){return this.N2()||this.yF()}xba(a){for(const [e,c,g]of this.RC)this.sv(a,e,c,g);d.G(this.RC)}Ce(a){a?this.nI++:this.nI--}oO(){return 0<this.nI}Gq(a){for(let e=0,c=a.length;e<c;++e)a[e].Ln.yd()}Qg(a){for(let e=0,c=a.length;e<c;++e)a[e].Ln.r4()}Me(a){for(let e=0,c=a.length;e<c;++e)a[e].Ln.s4()}Tb(a){for(let e=
0,c=a.length;e<c;++e)a[e].Ln.Na()}eE(){const a=d.C(d.bG,this);this.yg.push(a);return a}c5(){if(this.yg.length){var a=this.gf(),e=!1;this.hm++;for(let c=0,g=this.yg.length;c<g;++c){const l=this.yg[c];l.cT()&&l.oba(a);l.$w&&(e=!0)}e&&this.lR();this.hm--}}async dZ(){if(this.yg.length){var a=this.gf(),e=!1;this.hm++;for(let c=0,g=this.yg.length;c<g;++c){const l=this.yg[c];l.cT()&&await l.q8(a);l.$w&&(e=!0)}e&&this.lR();this.hm--}}lR(){const a=d.gfa(this.yg,e=>e.$w);for(const e of a)e.A()}vy(){for(const a of this.yg)a.A();
d.G(this.yg)}G4(a){for(const e of this.yg)e.cp(a)}cE(a){this.WA.push(a)}xy(){d.G(this.WA)}S0(){const a=Promise.all(this.WA);this.WA=[];return a}la(){return{groups:this.Eba(),cnds:this.Dba(),acts:this.Cba(),vars:this.Qba(),waits:this.Mba()}}qa(a){this.F$(a.groups);this.A$(a.cnds);this.z$(a.acts);this.S$(a.vars);this.O$(a.waits)}Eba(){const a={};for(const e of this.ZH)a[e.mb.toString()]=e.$q();return a}F$(a){for(const [e,c]of Object.entries(a))(a=this.b0(parseInt(e,10)))&&a.zr(c)}Dba(){const a={};for(const [e,
c]of this.vI){const g=c.la();g&&(a[e.toString()]=g)}return a}A$(a){const e=new Map;for(const [c,g]of Object.entries(a))e.set(parseInt(c,10),g);for(const [c,g]of this.vI)g.qa(e.get(c)||null)}Cba(){const a={};for(const [e,c]of this.PA){const g=c.la();g&&(a[e.toString()]=g)}return a}z$(a){const e=new Map;for(const [c,g]of Object.entries(a))e.set(parseInt(c,10),g);for(const [c,g]of this.PA)g.qa(e.get(c)||null)}Qba(){const a={};for(const [e,c]of this.LI)c.zb||!c.bg()&&!c.di||(a[e.toString()]=c.Bd());return a}S$(a){for(const [e,
c]of Object.entries(a))(a=this.NE(parseInt(e,10)))&&a.Oe(c)}Mba(){return this.yg.filter(a=>!a.L2()).map(a=>a.la())}O$(a){this.vy();for(const e of a)(a=d.bG.V7(this,e))&&this.yg.push(a)}BE(a){for(;a;)if(a=a.Tq(),a instanceof d.St)return a;return null}yA(a,e){Array.isArray(e)||(e=[]);a=this.az(a.toLowerCase());if(!a)return null;if(!a.$f())return a.Zt();var c=a.hh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].Pp);while(e.length<c.length)}c=a.Ie();return c.ZF(c.Ad(),a.fm,a.Zt(),...e)}}}
{"use strict";const d=self.D;d.v_=class extends d.ka{constructor(b,a){super();this.za=b;this.j=b.I();this.Ja=a[0];this.uB=[];this.nD=new Map;this.TT=new Map;this.$da=new Map;this.cw=!1;this.xV=[];this.mB=[];this.uT=new Set;for(const e of a[1])this.VQ(e,null,this.uB);this.Cj=this.j.Jb?{type:"sheet",name:this.Ja,cy:0,children:[]}:null}A(){this.j=this.za=null}VQ(b,a,e){switch(b[0]){case 0:case 3:this.T7(b,a,e);break;case 1:this.U7(b,a,e);break;case 2:this.Y7(b,a,e);break;case 4:this.W7(b,a);break;case 5:this.d8(b,
a,e);break;default:throw Error("invalid event type");}}T7(b,a,e){b=d.cl.Ra(this,a,b);if(b.ee){e.push(b);e=b.jc;for(let c=0,g=e.length;c<g;++c)e[c].Vo()&&this.OR(b,c)}else b.Vo()?this.OR(b,0):e.push(b)}W7(b,a){b=d.St.Ra(this,a,b);this.za.Xaa(b)}U7(b,a,e){b=d.Ly.Ra(this,a,b);e.push(b)}Y7(b,a,e){b=d.hN.Ra(this,a,b);e.push(b)}d8(b,a,e){b=d.Ky.Ra(this,a,b);e.push(b)}OR(b,a){b.ee||this.za.z7(b);var e=b.tN(a),c=e.La,g=e.J();if(e.xU){var l=this.TT.get(g);l||(l=new Map,this.TT.set(g,l));e=e.h0().toLowerCase();
g=l.get(c);g||(g=new Map,l.set(c,g));c=g.get(e);c||(c=[],g.set(e,c));c.push([b,a])}else l=this.nD.get(g),l||(l={TL:new Map,Ix:new Map},this.nD.set(g,l)),(g=e.Ig())?(e=l.Ix.get(g),e||(e=new Map,l.Ix.set(g,e))):e=l.TL,l=e.get(c),l||(l=[],e.set(c,l)),l.push([b,a])}Ub(){const b=this.uB;for(let a=0,e=b.length;a<e;++a)b[a].Ub(a<e-1&&b[a+1]instanceof d.cl&&b[a+1].Bz())}y7(b){this.xV.push(b)}RH(){d.G(this.mB);this.DQ(this);this.uT.clear()}DQ(b){const a=b.mB,e=b.uT;for(const c of this.xV){const g=c.hw;c.Nb&&
b!==g&&!e.has(g)&&(e.add(g),g.DQ(b),a.push(g))}}na(){return this.za}I(){return this.j}Ba(){return this.Ja}tS(b,a){this.$da.set(a,b)}mba(){this.cw=!1}ua(){if(!this.cw){var b=this.j,a=b.rF(),e=a?performance.now():0;this.cw=!0;var c=this.na(),g=c.gf();for(const l of this.uB)l.ua(g),c.Gq(l.zd()),c.xy(),b.Ld();g.ld(null);a&&(this.Cj.cy+=performance.now()-e)}}*qb(){if(!this.cw){this.cw=!0;var b=this.j,a=this.na(),e=a.gf();for(const c of this.uB)yield*c.qb(e),a.Gq(c.zd()),a.xy(),b.Ld();e.ld(null)}}sv(b,
a,e){if(a){const c=a.J();this.PH(b,a,c,e);for(const g of c.Zh)this.PH(b,a,g,e)}else return this.PH(b,a,null,null)}PH(b,a,e,c){e=this.nD.get(e);if(!e)return!1;c=c?e.Ix.get(c):e.TL;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [g,l]of c)c=this.kR(a,g,l),b=b||c;return b}*Vu(b,a,e){if(a){const c=a.J();yield*this.WG(b,a,c,e);for(const g of c.Zh)yield*this.WG(b,a,g,e)}else return yield*this.WG(b,a,null,null)}*WG(b,a,e,c){e=this.nD.get(e);if(!e)return!1;c=c?e.Ix.get(c):e.TL;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [g,l]of c)c=g.De()?this.kR(a,g,l):yield*this.k8(a,g,l),b=b||c;return b}kR(b,a,e){const c=this.j,g=this.za,l=g.Sb(),h=g.jd(),m=g.Jl;let n=!1;l&&g.Qg(l.Ad());g.Qg(a.Ad());const p=1<m;p&&g.wd.Sa();const q=h.Sa(a);b&&(a.jc[e].J().Y().mk(b),b.hc()&&b.aj());b=!0;if(a.Ha()){const u=a.vq;for(let w=0,r=u.length;w<r;++w)if(!u[w].vP(q)){b=!1;break}}b&&(c.nl(),a.ee?a.b5(q,e):a.ua(q),n=q.Xp);h.Na();p&&g.wd.Na();g.Tb(a.Ad());l&&g.Tb(l.Ad());l||1!==m||(g.xy(),g.oO()||c.Ld());return n}*k8(b,
a,e){const c=this.j,g=this.za,l=g.Sb(),h=g.jd(),m=g.Jl;let n=!1;l&&g.Qg(l.Ad());g.Qg(a.Ad());const p=1<m;p&&g.wd.Sa();const q=h.Sa(a);b&&(a.jc[e].J().Y().mk(b),b.hc()&&b.aj());b=!0;if(a.Ha()){const u=a.vq;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].aN(q))){b=!1;break}}b&&(c.nl(),a.ee?yield*a.cZ(q,e):yield*a.qb(q),n=q.Xp);h.Na();p&&g.wd.Na();g.Tb(a.Ad());l&&g.Tb(l.Ad());l||1!==m||(g.xy(),g.oO()||c.Ld());return n}}}
{"use strict";const d=self.D,b=[];function a(){return!0}function*e(){return!0}d.cl=class extends d.ka{constructor(c,g,l){super();this.bd=c;this.j=c.I();this.Ic=g;this.ie=null;this.Qd=this.j.na().jd();this.Xe=[];this.dt=[];this.$v=this.lC=this.kC=this.hU=!1;this.ee=!!l[2];this.aC=!1;this.vq=null;this.jc=[];this.ac=[];this.si=[];this.fj=a;this.np=e;this.xJ=this.xj=!1;this.bU="";this.cC=!1;this.Cj=this.kB=null;this.mb=l[4];this.qs=l[5];this.bd.tS(this,this.qs);this.Ta=this.j.Jb?{hd:l[3][0],NL:l[3][1],
jW:!1,uL:!1,vL:!1,kW:!1}:null;this.na().Vaa(this);3===l[0]&&this.h$(l[1]);c=0;for(var h of l[6])g=d.MM.Ra(this,h,c++),this.jc.push(g),this.IQ(g.J());c=0;for(const m of l[7])h=d.hy.Ra(this,m,c++),this.ac.push(h);if(9===l.length){l=l[8];for(const m of l)this.bd.VQ(m,this,this.si)}this.jc.length&&(this.aC=null===this.jc[0].J()&&this.jc[0].La===d.F.kb.P.q_);0===this.jc.length&&(this.jc=b);0===this.ac.length&&(this.ac=b);0===this.si.length&&(this.si=b)}static Ra(c,g,l){return d.C(d.cl,c,g,l)}h$(c){this.xj=
!0;this.cC=this.xJ=!!c[0];this.bU=c[1].toLowerCase();this.kB=[];this.na().Yaa(this);this.j.Jb&&(this.Cj={type:"group",name:c[1],cy:0,children:[]})}q7(c){this.kB.push(c)}CQ(c,g){for(const l of c.dh.$l)g.includes(l)||g.push(l)}JQ(c,g){if(c)if(g.includes(c)||g.push(c),c.bb)for(const l of c.Jp)l.hc()&&this.CQ(l,g);else c.hc()&&this.CQ(c,g)}IQ(c){this.JQ(c,this.Xe)}u7(c){this.JQ(c,this.dt)}j5(){this.Xe=this.j.Xc}Ub(c){this.$v=!!c;this.a$();this.b$();for(const l of this.jc)l.Ub();if(0<this.ac.length){c=
!1;for(var g of this.ac)g.Ub(),g.s1()&&(c=!0);c?(this.fj=this.qba,this.np=this.s8):(this.fj=this.pba,this.np=this.r8)}g=this.si;for(let l=0,h=g.length;l<h;++l)g[l].Ub(l<h-1&&g[l+1]instanceof d.cl&&g[l+1].Bz());this.Ta&&this.hda();this.Cj&&this.N9().Cj.children.push(this.Cj)}N9(){let c=this.Ha();for(;c;){if(c.xj)return c;c=c.Ha()}return this.bd}hda(){const c=this.Ta;c.jW=this.jc.every(g=>g.De());c.uL=this.ac.every(g=>g.De());c.vL=this.si.every(g=>g.De());c.kW=c.jW&&c.uL&&c.vL}a$(){if(this.xj){var c=
this.Ha();for(this.lC=!0;c;){if(!c.xj){this.lC=!1;break}c=c.Ha()}}}Z9(){var c=this.j.Xc;if(this.Xe===c)this.dt=c;else{this.dt=d.yL(this.Xe);for(c=this.Ha();c;){for(var g of c.Xe)this.u7(g);c=c.Ha()}g=this.na();this.Xe=g.pA(this.Xe);this.dt=g.pA(this.dt)}}b$(){if(this.k1()){this.vq=[];for(var c=this.Ha();c;)this.vq.push(c),c=c.Ha();this.vq.reverse()}}Lu(){this.kC=!0;this.Ic&&this.Ic.Lu()}zd(){return this.Xe}Ad(){this.hU||(this.hU=!0,this.Z9());return this.dt}u1(c){return this.Xe.includes(c)}na(){return this.bd.na()}I(){return this.j}Ha(){return this.Ic}Cca(c){this.ie=
c}Tq(){return this.ie||this.Ic}sF(){return this.Ta&&this.Ta.NL}Qo(){return this.sF()&&this.Ta.hd}Bz(){return this.aC}$q(){return this.cC}S4(){this.zr(this.xJ)}zr(c){c=!!c;if(!this.xj)throw Error("not a group");if(this.cC!==c){this.cC=c;for(const g of this.kB)g.uQ();this.kB.length&&(c=this.j.Za().bd)&&c.RH()}}Vo(){return this.jc.length&&this.jc[0].Vo()}H2(){return this.ie&&this.ie instanceof d.St}k1(){return this.H2()||this.jc.some(c=>c.Vo())}tN(c){c=Math.floor(c);if(0>c||c>=this.jc.length)throw new RangeError("invalid condition index");
return this.jc[c]}G2(c){let g=c.Ka();if(0===g)return!0;for(--g;0<=g;--g)if(this.jc[g].J()===c.J())return!1;return!0}pN(c){c=Math.floor(c);if(0>c||c>=this.ac.length)throw new RangeError("invalid action index");return this.ac[c]}Y9(c){c=Math.floor(c);return 0<=c&&c<this.ac.length}oR(){return this.si.filter(c=>c instanceof d.Ly)}vP(c){c.Sg(this);let g=!1;const l=this.jc;for(let h=0,m=l.length;h<m;++h){const n=l[h];c.Rm(h);if(n.ow)throw Error("trigger cannot be used as sub-event to a loop");if(n.ua())g=
!0;else if(!this.ee)return!1}return this.ee?g:!0}b5(c,g){c.Sg(this);this.jc[g].ua()&&(this.fj(c,0)&&this.yl(),c.Tm(!0))}*aN(c){c.Sg(this);let g=!1;const l=this.jc;for(let h=0,m=l.length;h<m;++h){const n=l[h];c.Rm(h);if(n.ow)throw Error("trigger cannot be used as sub-event to a loop");if(n.De()?n.ua():yield*n.qb())g=!0;else if(!this.ee)return!1}return this.ee?g:!0}*cZ(c,g){c.Sg(this);g=this.jc[g];if(g.De()?g.ua():yield*g.qb())(this.Dy()?this.fj(c,0):yield*this.np(c,0))&&(this.Ey()?this.yl():yield*this.Uu()),
c.Tm(!0)}ua(c){c.Sg(this);this.aC||c.yr(!1);this.ee?this.vba(c):this.DA(c)}*qb(c){if(this.Qo()||this.j.yc())yield this;c.Sg(this);this.aC||c.yr(!1);this.ee?yield*this.D8(c):yield*this.TG(c)}vba(c){const g=this.jc;let l=0===g.length;for(let m=0,n=g.length;m<n;++m){var h=g[m];h.Vo()||(c.Rm(m),h=h.ua(),l=l||h)}c.Tm(l);l&&(this.fj(c,0)&&this.yl(),this.$v&&c.yr(!0))}*D8(c){const g=this.jc;let l=0===g.length;for(let m=0,n=g.length;m<n;++m){var h=g[m];h.Vo()||(c.Rm(m),h=h.De()?h.ua():yield*h.qb(),l=l||h)}c.Tm(l);
l&&((this.Dy()?this.fj(c,0):yield*this.np(c,0))&&(this.Ey()?this.yl():yield*this.Uu()),this.$v&&c.yr(!0))}DA(c){const g=this.jc;for(let l=0,h=g.length;l<h;++l){const m=g[l];c.Rm(l);if(!m.ua()){c.Tm(!1);return}}c.Tm(!0);this.fj(c,0)&&this.yl();c.Xp&&this.$v&&c.yr(!0)}*TG(c){const g=this.jc;for(let l=0,h=g.length;l<h;++l){const m=g[l];c.Rm(l);if(m.De()?!m.ua():!(yield*m.qb())){c.Tm(!1);return}}c.Tm(!0);(this.Dy()?this.fj(c,0):yield*this.np(c,0))&&(this.Ey()?this.yl():yield*this.Uu());c.Xp&&this.$v&&
c.yr(!0)}pba(c,g){const l=this.ac;for(let h=g,m=l.length;h<m;++h)g=l[h],c.Wz(h),g.ua();return!0}*r8(c,g){const l=this.ac;for(let h=g,m=l.length;h<m;++h)g=l[h],c.Wz(h),g.De()?g.ua():yield*g.qb();return!0}qba(c,g){const l=this.na(),h=this.ac;for(let m=g,n=h.length;m<n;++m){g=h[m];c.Wz(m);const p=g.ua();if(g.FM()&&!0===p)return!1;g.Og()&&p instanceof Promise&&l.cE(p)}return!0}*s8(c,g){const l=this.na(),h=this.ac;for(let m=g,n=h.length;m<n;++m){g=h[m];c.Wz(m);let p;p=g.De()?g.ua():yield*g.qb();if(g.FM()&&
!0===p)return!1;g.Og()&&p instanceof Promise&&l.cE(p)}return!0}nba(c){this.fj(c,c.lg)&&this.yl()}*p8(c){if(yield*this.np(c,c.lg))yield*this.Uu()}yl(){if(this.si.length){var c=this.xj&&this.j.rF(),g=c?performance.now():0,l=this.Qd,h=l.Sa(this);this.kC?this.Aba(h):this.zba(h);l.Na();c&&(this.Cj.cy+=performance.now()-g)}}Aba(c){const g=this.xj,l=this.lC,h=this.na(),m=this.si;for(let n=0,p=m.length,q=p-1;n<p;++n){const u=m[n],w=u.zd(),r=!l||!g&&n<q;r&&h.Me(w);u.ua(c);r?h.Tb(w):h.Gq(w)}}zba(c){const g=
this.si;for(let l=0,h=g.length;l<h;++l)g[l].ua(c)}*Uu(){if(this.si.length){var c=this.Qd,g=c.Sa(this);this.kC?yield*this.G8(g):yield*this.F8(g);c.Na()}}*G8(c){const g=this.xj,l=this.lC,h=this.na(),m=this.si;for(let n=0,p=m.length,q=p-1;n<p;++n){const u=m[n],w=u.zd(),r=!l||!g&&n<q;r&&h.Me(w);yield*u.qb(c);r?h.Tb(w):h.Gq(w)}}*F8(c){const g=this.si;for(let l=0,h=g.length;l<h;++l)yield*g[l].qb(c)}Rg(c,g){this.j.nl();g.uP();const l=this.jc;if(!this.ee)for(let h=c.El+1,m=l.length;h<m;++h)if(c=l[h],g.Rm(h),
!c.ua())return!1;this.fj(g,0)&&this.yl();return!0}*Gg(c,g){this.j.nl();g.uP();const l=this.jc;if(!this.ee)for(let h=c.El+1,m=l.length;h<m;++h)if(c=l[h],g.Rm(h),c.De()?!c.ua():!(yield*c.qb()))return!1;(this.Dy()?this.fj(g,0):yield*this.np(g,0))&&(this.Ey()?this.yl():yield*this.Uu());return!0}De(){return!this.Qo()&&!this.j.yc()&&this.Ta.kW}Dy(){return!this.j.yc()&&this.Ta.uL}Ey(){return!this.j.yc()&&this.Ta.vL}LG(c){if(this.Ha()){const g=this.vq;for(let l=0,h=g.length;l<h;++l)if(!g[l].vP(c))return!1}return!0}*WQ(c){if(this.Ha()){const g=
this.vq;for(let l=0,h=g.length;l<h;++l)if(!(yield*g[l].aN(c)))return!1}return!0}jR(c,g,l){0<g.length?l?(g=g.map(h=>h.ca(0)),c.wd.Sa(),this.ie.Gu(g)):this.ie.u_(g):l&&c.wd.Sa()}Y4(c,g){let l,h;const m=0<c.length;var n=this.j;const p=this.Qd,q=n.na(),u=1<q.Zu();this.jR(q,g,u);m&&q.Qg(c);g=p.Sa(this);this.LG(g)&&(n.nl(),g.Sg(this),(n=this.ie.Og())&&([h,l]=this.ie.yG()),this.DA(g),n&&this.ie.ru(h));p.Na();u&&q.wd.Na();m&&q.Tb(c);q.Wu();return l}*$Y(c,g){let l,h;if(this.Qo()||this.j.yc())yield this;const m=
0<c.length;var n=this.j;const p=this.Qd,q=n.na(),u=1<q.Zu();this.jR(q,g,u);m&&q.Qg(c);g=p.Sa(this);if(yield*this.WQ(g))n.nl(),g.Sg(this),(n=this.ie.Og())&&([h,l]=this.ie.yG()),yield*this.TG(g),n&&this.ie.ru(h);p.Na();u&&q.wd.Na();m&&q.Tb(c);q.Wu();return l}Z4(c){const g=this.Ad(),l=0<g.length,h=this.j,m=this.Qd,n=h.na(),p=1<n.Zu();p&&n.wd.Sa();this.ie.Gu(c);l&&n.Qg(g);c=m.Sa(this);this.LG(c)&&(h.nl(),c.Sg(this),this.DA(c));m.Na();p&&n.wd.Na();l&&n.Tb(g);n.Wu()}*aZ(c){if(this.Qo()||this.j.yc())yield this;
const g=this.Ad(),l=0<g.length,h=this.j,m=this.Qd,n=h.na(),p=1<n.Zu();p&&n.wd.Sa();this.ie.Gu(c);l&&n.Qg(g);c=m.Sa(this);if(yield*this.WQ(c))h.nl(),c.Sg(this),yield*this.TG(c);m.Na();p&&n.wd.Na();l&&n.Tb(g);n.Wu()}ZF(c,g,l,...h){let m,n;const p=0<c.length,q=this.j,u=this.Qd,w=q.na(),r=1<w.Zu();r&&w.wd.Sa();0<h.length&&this.ie.Gu(h);p&&w.Qg(c);h=u.Sa(this);h.T1(g,l);u.t4(h);q.$z(!1);this.LG(h)&&(q.nl(),h.Sg(this),(g=this.ie.Og())&&([n,m]=this.ie.yG()),this.DA(h),g&&this.ie.ru(n));q.$z(!0);u.Na();u.h4();
r&&w.wd.Na();p&&w.Tb(c);w.Wu();return m||h.WI}}}
{"use strict";const d=self.D,b=[];let a=!1;d.Ky=class extends d.ka{constructor(e,c,g){super();const l=e.I(),h=e.na();this.bd=e;this.za=h;this.j=e.I();this.Ic=c;this.La=l.Ih(g[1]);this.qs=g[2];this.bd.tS(this,this.qs);this.Ta=l.Jb?{hd:g[3][0],NL:g[3][1]}:null}static Ra(e,c,g){return d.C(d.Ky,e,c,g)}Ub(){const e=this.La,c=this.j.na().zR(this);this.La=e.bind(null,this.j.vj,c)}Ha(){return this.Ic}Tq(){return this.Ic}sF(){return this.Ta&&this.Ta.NL}Qo(){return this.sF()&&this.Ta.hd}Bz(){return!1}zd(){return b}Ad(){return this.Ic?
this.Ic.Ad():b}ua(e){e.Sg(this);this.za.cE(this.Bba())}async Bba(){try{await this.La()}catch(e){console.error(`Unhandled exception running script %c${this.bd.Ba()}, event ${this.qs}:`,"font-size: 1.2em; font-weight: bold;",e),self.Bh&&self.Bh.xca(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*qb(e){e.Sg(this);if(this.Qo()||this.j.yc())yield this;
this.ua(e)}De(){return!this.Qo()&&!this.j.yc()}static f1(){return a}static F5(){a=!0}}}
{"use strict";const d=self.D;d.St=class extends d.ka{constructor(b,a,e){super();this.bd=b;this.j=b.I();this.Ic=a;const c=e[1];this.HB=c[0];this.fm=c[1];this.hh=c[2].map(g=>d.Ly.Ra(b,this,g));this.rb=c[3];this.jJ=[];this.kw=c[4];this.Aea=0;this.Lv=-1;this.yv=new Map;this.de=d.cl.Ra(b,a,e);this.de.Cca(this)}static Ra(b,a,e){return d.C(d.St,b,a,e)}Ub(){for(const b of this.hh)b.Ub();this.de.Ub(!1)}oR(){return this.hh}Zaa(b){this.jJ.push(b)}u_(b){const a=this.hh;for(let e=0,c=a.length;e<c;++e)a[e].Oe(b[e].ca(0))}Gu(b){const a=
this.hh;for(let e=0,c=a.length;e<c;++e)a[e].Oe(b[e])}vY(){return this.hh.map(b=>b.Bd())}Ha(){return this.Ic}Tq(){return this.Ic}$f(){return this.rb}Zt(){switch(this.fm){case 0:return null;case 2:return"";default:return 0}}Ie(){return this.de}Og(){return this.kw}yG(){const b=this.Aea++;this.Lv=b;let a;const e=new Promise(c=>a=c);this.yv.set(b,{resolve:a,$L:0});return[b,e]}ru(b){const a=this.yv.get(b);0===a.$L&&(a.resolve(),this.yv.delete(b));this.Lv=-1}c4(){this.yv.get(this.Lv).$L++;return this.Lv}X4(b){this.Lv=
b;this.yv.get(b).$L--}}}
{"use strict";const d=self.D,b=[];d.Ly=class extends d.ka{constructor(a,e,c){super();const g=a.na();this.bd=a;this.za=g;this.j=a.I();this.Ic=e;this.wd=g.wd;this.Ja=c[1];this.Aa=c[2];this.Pp=c[3];this.di=!!c[4];this.zb=!!c[5];this.lea=e instanceof d.St;this.mb=c[6];this.xw=this.j.Ki(c[8]);this.Oea=l=>this.Oe(l);this.Mea=()=>this.Bd();this.jU=!this.Ic||this.di||this.zb;this.pb=this.Pp;this.XJ=-1;this.jO()&&(this.pb=this.pb?1:0);!this.BF()||this.di||this.zb||(this.XJ=g.L9(this));g.Waa(this)}static Ra(a,
e,c){return d.C(d.Ly,a,e,c)}Ub(){if(this.BF()&&!this.di&&!this.zb&&!this.lea){const a=this.za.BE(this);a&&a.Zaa(this)}}Ba(){return this.Ja}Ki(){return this.xw}Ha(){return this.Ic}Tq(){return this.Ha()}bg(){return!this.Ha()}BF(){return!this.bg()}Nm(){return 0===this.Aa}Pi(){return 1===this.Aa}jO(){return 2===this.Aa}Bz(){return!1}zd(){return b}ua(){!this.BF()||this.di||this.zb||this.Oe(this.Pp)}De(){return!0}*qb(a){this.ua(a)}Oe(a){this.Nm()?"number"!==typeof a&&(a=parseFloat(a)):this.Pi()?"string"!==
typeof a&&(a=a.toString()):this.jO()&&(a=a?1:0);this.jU?this.pb=a:this.wd.Mq()[this.XJ]=a}Bd(){return this.jU?this.pb:this.wd.Mq()[this.XJ]}V4(){this.pb=this.Pp}DR(){return{configurable:!1,enumerable:!0,get:this.Mea,set:this.Oea}}}}
{"use strict";const d=self.D,b=[];d.hN=class extends d.ka{constructor(a,e,c){super();const g=a.na();this.bd=a;this.za=g;this.j=a.I();this.Ic=e;this.hw=null;this.fea=c[1];this.Nb=!0}static Ra(a,e,c){return d.C(d.hN,a,e,c)}Ub(){this.hw=this.za.yN(this.fea);this.bd.y7(this);let a=this.Ha();for(;a;)a instanceof d.cl&&a.xj&&a.q7(this),a=a.Ha();this.uQ();this.j.Jb&&this.bd.Cj.children.push(this.hw.Cj)}Ha(){return this.Ic}zd(){return b}ua(){const a=!!this.Ha(),e=this.j.Xc;a&&this.za.Qg(e);this.hw.ua();a&&
this.za.Tb(e)}*qb(){const a=!!this.Ha(),e=this.j.Xc;a&&this.za.Qg(e);yield*this.hw.qb();a&&this.za.Tb(e)}De(){return!1}uQ(){let a=this.Ha();for(;a;){if(a instanceof d.cl&&a.xj&&!a.$q()){this.Nb=!1;return}a=a.Ha()}this.Nb=!0}}}
{"use strict";const d=self.D;d.zo=class extends d.ka{constructor(h){super();this.tc=h;this.j=h.I()}Ub(){}static VY(h,m){return d.C([g,e,c,l,b,a][m[0]],h,m)}};class b extends d.zo{constructor(h,m){super(h);this.Id=this.j.hu();this.La=this.j.Ih(m[1]);this.La!==d.F.kb.Ge.random&&this.La!==d.F.kb.Ge.mfa||this.tc.uG()}Lq(){return this.Id.sk(this.La,this.Id)}}class a extends d.zo{constructor(h,m){super(h);this.As=null;this.HB=m[1];this.tc.uG()}Ub(){const h=this.j.na();this.As=h.az(this.HB);this.HB=null;
const m=this.As.Ie();this.Fl=[...new Set([...this.tc.Ie().Ad(),...m.Ad()])];this.Fl=h.pA(this.Fl)}Lq(){const h=this.As;if(h.$f())return d.cl.prototype.ZF.bind(h.Ie(),this.Fl,h.fm,h.Zt());{const m=h.Zt();return()=>m}}}class e extends d.zo{constructor(h,m){super(h);this.N=this.j.kf(m[1]);this.La=this.j.Ih(m[2]);this.xK=!!m[3];this.Qd=this.j.na().jd();this.tc.rH(this.N)}Lq(){return this.N.Bb().sk(this.La,this.N.bk().oa)}A_(){const h=this.N,m=h.Y().f0();var n=m.length;if(0===n)return this.xK?"":0;var p=
this.tc.ZC;p>=n?n=p%n:(0>p&&(p<=-n&&(p%=n),0>p&&(p+=n)),n=p);this.Qd.hf().A5(h);return this.La.apply(m[n].oa,[])}}class c extends d.zo{constructor(h,m){super(h);this.N=this.j.kf(m[1]);this.xK=!!m[2];this.tc.rH(this.N)}}class g extends d.zo{constructor(h,m){super(h);this.N=this.j.kf(m[1]);this.Yc=this.N.Py(m[2]);this.jj=this.N.Vt(m[2]);this.La=this.j.Ih(m[3]);this.xK=!!m[4];this.Qd=this.j.na().jd();this.tc.rH(this.N)}}class l extends d.zo{constructor(h,m){super(h);this.Vv=null;this.KI=m[1]}Ub(){this.Vv=
this.j.na().NE(this.KI)}}}
{"use strict";const d=self.D;d.Le=class extends d.ka{constructor(A,G,z){super();this.tc=A;this.Qa=z;this.Aa=G;this.ca=null;this.zb=this.$e=!1}static Ra(A,G,z){const F=G[0];return d.C([a,e,p,g,h,c,m,a,g,g,q,u,p,r,e,n,l,w,v,y][F],A,F,z,G)}Ub(){}uG(){this.$e=!0}rH(A){this.$e||!A||A.Bb().un||(this.$e=!0)}Ka(){return this.Qa}I(){return this.tc.I()}Ie(){return this.tc.Ie()}};function b(A){A=self.lY[A];if(!A)throw Error("invalid expression number");return A}class a extends d.Le{constructor(A,G,z,F){super(A,
G,z);this.ZC=0;A=F[1];this.MI=A[0];this.Ts=[];this.wB=null;for(let H=1,J=A.length;H<J;++H)this.Ts.push(d.zo.VY(this,A[H]));this.Ts.length?this.ca=this.e0:(this.ca=b(this.MI),this.zb=!0)}Mr(){if(0>=this.Ts.length)throw new RangeError("invalid numbered node");return this.Ts[0]}Ub(){for(var A of this.Ts)A.Ub();A=b(this.MI);this.wB=this.Ts.length?A(this):A}e0(A){this.ZC=A;return this.wB()}}class e extends a{constructor(A,G,z,F){super(A,G,z,F);this.ca=this.X0;14===G&&(this.Ie().j5(),this.tc instanceof
d.hy&&this.Ie().Lu())}X0(A){this.ZC=A;A=this.wB();return"string"===typeof A?A:""}E9(){return b(this.MI)()}}class c extends a{constructor(A,G,z,F){super(A,G,z,F);this.ca=this.da;this.zb=!1}da(A){this.ZC=A;A=this.wB();return this.I().Za().da(A)}}class g extends d.Le{constructor(A,G,z,F){super(A,G,z);this.Rda=F[1];this.ca=this.V_;this.zb=!0}V_(){return this.Rda}}class l extends d.Le{constructor(A,G,z,F){super(A,G,z);this.Dda=F[1];this.ca=this.T_;this.zb=!0}T_(){return this.Dda}}class h extends d.Le{constructor(A,
G,z,F){super(A,G,z);this.N=this.I().kf(F[1]);this.ca=this.J;A=this.Ie();A.IQ(this.N);this.tc instanceof d.hy?A.Lu():A.Ha()&&A.Ha().Lu();this.zb=!0}J(){return this.N}}class m extends d.Le{constructor(A,G,z,F){super(A,G,z);this.kh=this.I().hb.Pq(F[1]);this.ca=this.fc;this.zb=!0}fc(){return this.kh}}class n extends d.Le{constructor(A,G,z,F){super(A,G,z);this.ti=this.I().Lb.nz(F[1]);this.ca=this.xb;this.zb=!0}xb(){return this.ti}}class p extends d.Le{constructor(A,G,z,F){super(A,G,z);this.aea=F[1];this.ca=
this.i0;this.zb=!0}i0(){return this.aea}}class q extends d.Le{constructor(A,G,z,F){super(A,G,z);this.uU=F[1];(A=this.tc.J())&&A.bb?(this.ca=this.g0,this.uG()):(this.ca=this.u0,this.zb=!0)}u0(){return this.uU}g0(A){A=A||0;const G=this.tc.J();var z=G.Y();const F=z.ta();if(F.length)A=F[A%F.length].J();else if(z.j1())z=z.Dc,A=z[A%z.length].J();else if(0<G.H.length)z=G.ta(),A=z[A%z.length].J();else return 0;return this.uU+A.zN(G.tj)}}class u extends d.Le{constructor(A,G,z,F){super(A,G,z);this.KI=F[1];
this.Vv=null;this.ca=this.c0;this.zb=!0}Ub(){this.Vv=this.I().na().NE(this.KI)}c0(){return this.Vv}}class w extends d.Le{constructor(A,G,z,F){super(A,G,z);this.XT=F[1];this.As=null;this.ca=this.o0;this.zb=!0}Ub(){this.As=this.I().na().az(this.XT);this.XT=null}o0(){return this.As}}class r extends d.Le{constructor(A,G,z,F){super(A,G,z);this.SK=[];this.VV=[];this.zb=!0;for(let H=1,J=F.length;H<J;++H)A=d.Le.Ra(this.tc,F[H],0),this.SK.push(A),this.VV.push(0),A.zb||(this.zb=!1);this.ca=this.c1}Ub(){for(const A of this.SK)A.Ub()}c1(){const A=
this.SK,G=this.VV;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].ca(0);return G}}class v extends d.Le{constructor(A,G,z,F){super(A,G,z);this.Xda=F[1];this.ca=this.Gm;this.zb=!0}Gm(){return this.Xda}}class y extends d.Le{constructor(A,G,z,F){super(A,G,z);this.Jda=F[1];this.ca=this.$0;this.zb=!0}$0(){return this.Jda}}}
{"use strict";const d=self.D;function b(c,g){for(let l=0,h=c.length;l<h;++l)g[l]=c[l].ca(0)}const a=[],e=function(){};d.MM=class extends d.ka{constructor(c,g,l){super();this.de=c;this.j=c.I();this.Qa=l;this.La=this.j.Ih(g[1]);this.FJ=0<g[3];this.xU=2===g[3];this.ow=!!g[4];this.yj=!!g[5];this.di=!!g[6];this.mb=g[7];this.yU=this.de.ee;this.Yc=this.N=null;this.jj=-1;this.Id=null;this.qb=this.ua=e;this.Ma=[];this.Ab=[];this.Bl=!1;this.vi=this.Kb=null;this.Ta=this.j.Jb?{hd:g[8][0],Lf:g[8][1]}:null;-1===
g[0]?this.Id=this.j.hu():(this.N=this.j.kf(g[0]),g[2]&&(this.Yc=this.N.Py(g[2]),this.jj=this.N.Vt(g[2])),this.de.Ha()&&this.de.Ha().Lu());if(10===g.length){c=g[9];for(let h of c)this.Ma.push(d.Le.Ra(this,h,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=a);this.de.na().Uaa(this)}static Ra(c,g,l){return d.C(d.MM,c,g,l)}Ub(){for(const c of this.Ma)c.Ub(),c.$e&&(this.Bl=!0);this.xU?(this.ua=this.rba,this.qb=this.x8):this.Id?(this.JH(),this.qb=this.VG):this.N.Bb().un?(this.IH(),
this.qb=this.UG):this.di?(this.ua=this.yba,this.qb=this.E8):(this.ua=this.GS,this.qb=this.y8)}JH(){this.qv(this.Id,this.Id,this.BH)}IH(){const c=this.N.Bb(),g=this.N.bk().oa;this.qv(c,g,this.AH)}qv(c,g,l){const h=this.La,m=this.yj,n=this.Ma;if(0===n.length){const p=c.sk(h,g);this.ua=m?function(){return d.xor(p(),m)}:p}else if(1===n.length){const p=n[0];if(!m&&p.zb)this.ua=c.qR(h,g,p.ca(0));else{const q=c.sk(h,g);this.ua=function(){return d.xor(q(p.ca(0)),m)}}}else if(2===n.length){const p=n[0],q=
n[1];if(!m&&p.zb&&q.zb)this.ua=c.rR(h,g,p.ca(0),q.ca(0));else{const u=c.sk(h,g);this.ua=function(){return d.xor(u(p.ca(0),q.ca(0)),m)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!m&&p.zb&&q.zb&&u.zb)this.ua=c.sR(h,g,p.ca(0),q.ca(0),u.ca(0));else{const w=c.sk(h,g);this.ua=function(){return d.xor(w(p.ca(0),q.ca(0),u.ca(0)),m)}}}else this.ua=l}J(){return this.N}Ig(){return this.Yc}Ie(){return this.de}I(){return this.j}Ka(){return this.Qa}uN(){return this.Ka()}Vo(){return this.FJ}De(){return!this.Ta.hd&&
!this.j.yc()&&!this.Ta.Lf}Jh(){this.Kb||(this.Kb=new Map);return this.Kb}ku(){this.vi||(this.vi=new Map);return this.vi}BH(){const c=this.Ab;b(this.Ma,c);return d.xor(this.La.apply(this.Id,c),this.yj)}*VG(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){var c=this.Ab;b(this.Ma,c);c=this.La.apply(this.Id,c);d.Mm(c)&&(c=yield*c);return d.xor(c,this.yj)}return this.ua()}AH(){const c=this.Ab;b(this.Ma,c);const g=this.N.bk().oa;return d.xor(this.La.apply(g,c),this.yj)}*UG(){if(this.Ta.hd||this.j.yc())yield this;
if(this.Ta.Lf){var c=this.Ab;b(this.Ma,c);const g=this.N.bk().oa;c=this.La.apply(g,c);d.Mm(c)&&(c=yield*c);return d.xor(c,this.yj)}return this.ua()}rba(){return!0}*x8(){if(this.Ta.hd||this.j.yc())yield this;return!0}yba(){var c=this.Ab;b(this.Ma,c);c=this.La.apply(this.Yc||this.N,c);this.N.Fc();return c}*E8(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){var c=this.Ab;b(this.Ma,c);c=this.La.apply(this.Yc||this.N,c);d.Mm(c)&&(c=yield*c);this.N.Fc();return c}return this.ua()}GS(){const c=this.Ma,
g=this.Ab,l=this.N.Y();for(let h=0,m=c.length;h<m;++h){const n=c[h];n.$e||(g[h]=n.ca(0))}return l.kc?this.sba(l):this.tba(l)}*y8(){if(this.Ta.hd||this.j.yc())yield this;return this.GS()}dH(c){const g=this.Ma,l=this.Ab;for(let h=0,m=g.length;h<m;++h){const n=g[h];n.$e&&(l[h]=n.ca(c))}}sba(c){const g=this.N,l=g.bb,h=g.tj,m=this.jj,n=0<=m,p=g.ta(),q=this.Bl,u=this.Ab,w=this.La,r=this.yj,v=this.yU&&!this.FJ;c.wy();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.dH(A);var y=void 0;n?(y=l?z.J().Bo(h):
0,y=w.apply(z.nd[m+y].oa,u)):y=w.apply(z.oa,u);d.xor(y,r)?c.mv(z):v&&c.qp(z)}g.Rt(!0);c.Se(!1);g.Fc();return c.$N()}tba(c){const g=this.N;var l=g.bb;const h=g.tj,m=g.hc(),n=this.jj,p=0<=n,q=this.Bl,u=this.Ab,w=this.La,r=this.yj,v=this.yU&&!this.FJ,y=c.H,A=c.Dc,G=v&&!this.de.G2(this),z=G?A:y;let F=0,H=!1;for(let L=0,P=z.length;L<P;++L){const R=z[L];q&&this.dH(L);var J=void 0;p?(J=l?R.J().Bo(h):0,J=w.apply(R.nd[n+J].oa,u)):J=w.apply(R.oa,u);d.xor(J,r)?(H=!0,G?(y.push(R),m&&R.Qaa()):(z[F]=R,m&&R.Eca(F),
++F)):G?(z[F]=R,m&&R.Dca(F),++F):v&&(A.push(R),m&&R.Paa())}d.df(z,F);m&&g.eda(G,F);l=H;G&&!H&&(H=this.Iaa(y));g.Rt(l||v);return v?H:c.$N()}Iaa(c){var g=this.N;const l=g.bb;g=g.tj;const h=this.Bl,m=this.jj,n=0<=m,p=this.Ab,q=this.La,u=this.yj;for(let r=0,v=c.length;r<v;++r){var w=c[r];h&&this.dH(r);if(n){const y=l?w.J().Bo(g):0;w=q.apply(w.nd[m+y].oa,p)}else w=q.apply(w.oa,p);if(d.xor(w,u))return!0}return!1}yu(c,g){return this.Ma[c].ca(g)}h0(){const c=this.Ma;if(!c.length)throw Error("no parameters");
return c[0].E9()}la(){if(!this.Kb||!this.Kb.size)return null;const c={};for(const [g,l]of this.Kb.entries()){let h=l;"collmemory"===g&&(h=[...l.entries()].map(m=>[m[0].xc,m[1].xc,m[2]]));c[g]=h}return{ex:c}}qa(c){this.Kb&&(this.Kb.clear(),this.Kb=null);if(c){var g=this.j,l=c.ex;if(l){c=this.Jh();c.clear();for(const [h,m]of Object.entries(l))l=m,"collmemory"===h&&(l=d.C(d.uu,m.map(n=>[g.Gh(n[0]),g.Gh(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,l)}}}}}
{"use strict";const d=self.D;function b(g,l){for(let h=0,m=g.length;h<m;++h)l[h]=g[h].ca(0)}const a=[],e=function(){},c=function*(){};d.hy=class extends d.ka{constructor(g,l,h){super();this.de=g;this.j=g=g.I();this.Qa=h;this.mb=4<=l.length?l[3]:-1;this.OA=5<=l.length?l[4]:0;this.Yc=this.N=this.La=null;this.jj=-1;this.Id=null;this.cB="";this.Fl=this.bB=null;this.qb=this.ua=e;this.Ma=[];this.Ab=[];this.Bl=!1;this.vi=this.Kb=null;const m=(h=-3===l[0])?l[2]:l[5];this.Ta=g.Jb||h?{hd:m[0],Lf:m[1],index:m[2]}:
null;-1===l[0]?(this.Id=g.hu(),this.La=g.Ih(l[1])):-2===l[0]?this.cB=l[1]:h?(this.La=g.Ih(l[1]),this.ua=this.$F,this.qb=this.eZ,this.OA=1):(this.La=g.Ih(l[1]),this.N=g.kf(l[0]),l[2]&&(this.Yc=this.N.Py(l[2]),this.jj=this.N.Vt(l[2])));if(7===l.length){l=l[6];for(const n of l)this.Ma.push(d.Le.Ra(this,n,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=a);this.de.na().Taa(this)}static Ra(g,l,h){return d.C(d.hy,g,l,h)}Ub(){for(var g of this.Ma)g.Ub(),g.$e&&(this.Bl=!0);if(this.Id)this.JH(),
this.qb=this.VG;else if(this.cB)this.$ba(),this.cB="";else if(this.ua===this.$F){g=this.La;const l=this.j.na().zR(this.de);this.La=g.bind(null,this.j.vj,l)}else this.Yc?this.Og()?(this.ua=this.ES,this.qb=this.u8):(this.ua=this.DS,this.qb=this.t8):this.N.Bb().un?(this.IH(),this.qb=this.UG):this.Og()?(this.ua=this.IS,this.qb=this.A8):this.Ma.length?this.Ma.every(l=>l.$e)?(this.ua=this.HS,this.qb=this.z8):this.Bl?(this.ua=this.KS,this.qb=this.C8):this.Ma.every(l=>l.zb)?(b(this.Ma,this.Ab),this.ua=this.zH,
this.qb=this.XQ):(this.ua=this.JS,this.qb=this.B8):(this.ua=this.zH,this.qb=this.XQ)}JH(){this.qv(this.Id,this.Id,this.BH)}IH(){const g=this.N.Bb(),l=this.N.bk().oa;this.qv(g,l,this.AH)}$ba(){const g=this.de.na(),l=g.az(this.cB);l.$f()?(this.bB=l.Ie(),this.Fl=[...new Set([...this.de.Ad(),...this.bB.Ad()])],this.Fl=g.pA(this.Fl),this.ua=d.cl.prototype.Y4.bind(this.bB,this.Fl,this.Ma),this.qb=this.v8):(this.ua=e,this.qb=c)}qv(g,l,h){const m=this.La,n=this.Ma;if(0===n.length)this.ua=g.sk(m,l);else if(1===
n.length){const p=n[0];if(p.zb)this.ua=g.qR(m,l,p.ca(0));else{const q=g.sk(m,l);this.ua=function(){return q(p.ca(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.zb&&q.zb)this.ua=g.rR(m,l,p.ca(0),q.ca(0));else{const u=g.sk(m,l);this.ua=function(){return u(p.ca(0),q.ca(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.zb&&q.zb&&u.zb)this.ua=g.sR(m,l,p.ca(0),q.ca(0),u.ca(0));else{const w=g.sk(m,l);this.ua=function(){return w(p.ca(0),q.ca(0),u.ca(0))}}}else this.ua=h}Og(){return 1===this.OA}FM(){return 2===
this.OA}s1(){return 0!==this.OA}J(){return this.N}Ie(){return this.de}I(){return this.j}Ka(){return this.Qa}uN(){return this.Ta.index}De(){return!this.Ta.hd&&!this.j.yc()&&!this.Ta.Lf}Jh(){this.Kb||(this.Kb=new Map);return this.Kb}ku(){this.vi||(this.vi=new Map);return this.vi}BH(){const g=this.Ab;b(this.Ma,g);return this.La.apply(this.Id,g)}*VG(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){const g=this.Ab;b(this.Ma,g);return yield*this.La.apply(this.Id,g)}return this.ua()}*v8(){if(this.Ta.hd||
this.j.yc())yield this;return yield*this.bB.$Y(this.Fl,this.Ma)}AH(){const g=this.Ab;b(this.Ma,g);return this.La.apply(this.N.bk().oa,g)}*UG(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){const g=this.Ab;b(this.Ma,g);return yield*this.La.apply(this.N.bk().oa,g)}return this.ua()}zH(){const g=this.Ab,l=this.N.Y().ta();for(let h=0,m=l.length;h<m;++h)this.La.apply(l[h].oa,g)}*XQ(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){const g=this.Ab,l=this.N.Y().ta();for(let h=0,m=l.length;h<m;++h)yield*this.La.apply(l[h].oa,
g)}else this.zH()}JS(){const g=this.Ab;b(this.Ma,g);const l=this.N.Y().ta();for(let h=0,m=l.length;h<m;++h)this.La.apply(l[h].oa,g)}*B8(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){const g=this.Ab;b(this.Ma,g);const l=this.N.Y().ta();for(let h=0,m=l.length;h<m;++h)yield*this.La.apply(l[h].oa,g)}else this.JS()}HS(){const g=this.Ma,l=this.Ab,h=this.La,m=this.N.Y().ta();for(let n=0,p=m.length;n<p;++n){const q=m[n];for(let u=0,w=g.length;u<w;++u)l[u]=g[u].ca(n);h.apply(q.oa,l)}}*z8(){if(this.Ta.hd||
this.j.yc())yield this;if(this.Ta.Lf){const g=this.Ma,l=this.Ab,h=this.La,m=this.N.Y().ta();for(let n=0,p=m.length;n<p;++n){const q=m[n];for(let u=0,w=g.length;u<w;++u)l[u]=g[u].ca(n);yield*h.apply(q.oa,l)}}else this.HS()}KS(){const g=this.Ma,l=this.Ab,h=this.La,m=this.N.Y().ta();for(let p=0,q=g.length;p<q;++p){var n=g[p];n.$e||(l[p]=n.ca(0))}for(let p=0,q=m.length;p<q;++p){n=m[p];for(let u=0,w=g.length;u<w;++u){const r=g[u];r.$e&&(l[u]=r.ca(p))}h.apply(n.oa,l)}}*C8(){if(this.Ta.hd||this.j.yc())yield this;
if(this.Ta.Lf){const l=this.Ma,h=this.Ab,m=this.La,n=this.N.Y().ta();for(let p=0,q=l.length;p<q;++p){var g=l[p];g.$e||(h[p]=g.ca(0))}for(let p=0,q=n.length;p<q;++p){g=n[p];for(let u=0,w=l.length;u<w;++u){const r=l[u];r.$e&&(h[u]=r.ca(p))}yield*m.apply(g.oa,h)}}else this.KS()}DS(){var g=this.N;const l=g.bb,h=g.tj,m=this.Ma,n=this.Bl,p=this.Ab,q=this.La,u=this.jj;g=g.Y().ta();for(let v=0,y=m.length;v<y;++v){var w=m[v];w.$e||(p[v]=w.ca(0))}for(let v=0,y=g.length;v<y;++v){w=g[v];if(n)for(let A=0,G=m.length;A<
G;++A){var r=m[A];r.$e&&(p[A]=r.ca(v))}r=l?w.J().Bo(h):0;q.apply(w.nd[u+r].oa,p)}}*t8(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){var g=this.N;const m=g.bb,n=g.tj,p=this.Ma,q=this.Bl,u=this.Ab,w=this.La,r=this.jj;g=g.Y().ta();for(let v=0,y=p.length;v<y;++v){var l=p[v];l.$e||(u[v]=l.ca(0))}for(let v=0,y=g.length;v<y;++v){l=g[v];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.$e&&(u[A]=h.ca(v))}h=m?l.J().Bo(n):0;yield*w.apply(l.nd[r+h].oa,u)}}else this.DS()}IS(){const g=this.Ma,l=this.Ab,
h=this.La,m=this.N.Y().ta(),n=[];for(let p=0,q=m.length;p<q;++p){const u=m[p];for(let w=0,r=g.length;w<r;++w)l[w]=g[w].ca(p);n.push(h.apply(u.oa,l))}return Promise.all(n)}*A8(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){const g=this.Ma,l=this.Ab,h=this.La,m=this.N.Y().ta(),n=[];for(let p=0,q=m.length;p<q;++p){const u=m[p];for(let w=0,r=g.length;w<r;++w)l[w]=g[w].ca(p);n.push(yield*h.apply(u.oa,l))}return Promise.all(n)}return this.IS()}ES(){var g=this.N;const l=g.bb,h=g.tj,m=this.Ma,n=this.Ab,
p=this.La,q=this.jj;g=g.Y().ta();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=m.length;A<G;++A)n[A]=m[A].ca(w);const y=l?v.J().Bo(h):0;u.push(p.apply(v.nd[q+y].oa,n))}return Promise.all(u)}*u8(){if(this.Ta.hd||this.j.yc())yield this;if(this.Ta.Lf){var g=this.N;const l=g.bb,h=g.tj,m=this.Ma,n=this.Ab,p=this.La,q=this.jj;g=g.Y().ta();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=m.length;A<G;++A)n[A]=m[A].ca(w);const y=l?v.J().Bo(h):0;u.push(yield*p.apply(v.nd[q+
y].oa,n))}return Promise.all(u)}return this.ES()}async $F(){try{await this.La()}catch(g){console.error(`Unhandled exception running script %c${this.de.bd.Ba()}, event ${this.de.qs}, action ${this.uN()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.Bh&&self.Bh.xca(this),d.Ky.f1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Ky.F5())}}*eZ(){if(this.Ta.hd||
this.j.yc())yield this;return this.$F()}la(){return this.Kb&&this.Kb.size?{ex:d.DG(this.Kb)}:null}qa(g){this.Kb&&(this.Kb.clear(),this.Kb=null);g&&(g=g.ex)&&(this.Kb=d.CE(g))}}}
{"use strict";const d=self.D,b=new d.eb;function a(M,O){return d.compare(this.B().ga(),M,O)}function e(M,O){return d.compare(this.B().ia(),M,O)}function c(){const M=this.B(),O=M.da();return O.Vq()?M.br(O.Nr()):M.qO(O.Jf,M.fc().cO(),M.fc().yf)}function g(){var M=this.B();const O=M.fc();M=M.Lc();return 0>M.aa||0>M.W||M.R>O.ea()||M.O>O.$()}function l(M,O,U){const aa=this.Y(),ha=aa.ta();if(!ha.length)return!1;let fa=ha[0];var ja=fa.B();let ua=fa,ka=d.qW(ja.ga(),ja.ia(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.B(),ja=d.qW(ja.ga(),ja.ia(),O,U),0===M&&ja<ka||1===M&&ja>ka)ka=ja,ua=fa;aa.Pm(ua);return!0}function h(M){const O=this.B();O.ga()!==M&&(O.ig(M),O.ma())}function m(M){const O=this.B();O.ia()!==M&&(O.jg(M),O.ma())}function n(M,O){const U=this.B();U.s_(M,O)||(U.Dd(M,O),U.ma())}function p(M,O){if(M&&(M=M.M0(this.L))){var [U,aa]=M.Eo(O);O=this.B();if(O.ga()!==U||O.ia()!==aa)O.Dd(U,aa),O.ma()}}function q(M){if(0!==M){var O=this.B();O.Om(O.KE()*M,O.ZE()*M);O.ma()}}function u(M,
O){if(0!==O){var U=this.B();M=d.Ua(M);U.Om(Math.cos(M)*O,Math.sin(M)*O);U.ma()}}function w(){return this.B().ga()}function r(){return this.B().ia()}function v(){return this.j.Ao(this.L)}function y(M,O){return d.compare(this.B().ea(),M,O)}function A(M,O){return d.compare(this.B().$(),M,O)}function G(M){const O=this.B();O.ea()!==M&&(O.bj(M),O.ma())}function z(M){const O=this.B();O.$()!==M&&(O.Vi(M),O.ma())}function F(M,O){const U=this.B();if(U.ea()!==M||U.$()!==O)U.vd(M,O),U.ma()}function H(){return this.B().ea()}
function J(){return this.B().$()}function L(){return this.B().Lc().R}function P(){return this.B().Lc().O}function R(){return this.B().Lc().aa}function T(){return this.B().Lc().W}function Z(M,O){return d.Aq(this.B().Da(),d.Ua(O))<=d.Ua(M)}function X(M){return d.cf(this.B().Da(),d.Ua(M))}function ba(M,O){M=d.Ua(M);O=d.Ua(O);const U=this.B().Da();return d.cf(O,M)?d.cf(U,M)&&!d.cf(U,O):!(!d.cf(U,M)&&d.cf(U,O))}function Y(M){const O=this.B();M=d.qd(d.Ua(M));isNaN(M)||O.Da()===M||(O.Cc(M),O.ma())}function va(M){if(!isNaN(M)&&
0!==M){var O=this.B();O.Cc(O.Da()+d.Ua(M));O.ma()}}function ta(M){if(!isNaN(M)&&0!==M){var O=this.B();O.Cc(O.Da()-d.Ua(M));O.ma()}}function ya(M,O){const U=this.B(),aa=U.Da();M=d.rL(aa,d.Ua(O),d.Ua(M));isNaN(M)||aa===M||(U.Cc(M),U.ma())}function Na(M,O,U){const aa=this.B(),ha=aa.Da();O-=aa.ga();U-=aa.ia();M=d.rL(ha,Math.atan2(U,O),d.Ua(M));isNaN(M)||ha===M||(aa.Cc(M),aa.ma())}function Sa(M,O){const U=this.B(),aa=U.Da();M-=U.ga();O-=U.ia();O=Math.atan2(O,M);isNaN(O)||aa===O||(U.Cc(O),U.ma())}function Ta(){return d.Fg(this.B().Da())}
function Ua(M,O){return d.compare(d.ay(100*this.B().Vd()),M,O)}function Wa(){return this.B().Mc()}function eb(M){const O=this.B();M=2===M?!O.Mc():0!==M;O.Mc()!==M&&(O.hg(M),this.j.fa())}function fb(M){M=d.T(M/100,0,1);const O=this.B();O.Vd()!==M&&(O.Wi(M),this.j.fa())}function Pa(M){b.Gt(M);M=this.B();M.gb.vm(b)||(M.hQ(b),this.j.fa())}function Va(){const M=this.B().gb;return d.Lz(M.Xa,M.Ia,M.ab,M.$a)}function ib(){return d.ay(100*this.B().Vd())}function Ya(M){return M?this.B().da()===M:!1}function vb(M){const O=
this.Y(),U=O.ta();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.B(),ka=aa.B(),wa=ua.da().Ka(),Ga=ka.da().Ka();if(0===M){if(wa>Ga||wa===Ga&&ua.ek()>ka.ek())aa=ja}else if(wa<Ga||wa===Ga&&ua.ek()<ka.ek())aa=ja}O.Pm(aa);return!0}function wb(M,O,U){const aa=this.B();M=0===M?aa.fb():aa.Lh();return d.compare(M,O,U)}function jb(){this.B().m7()}function xb(){this.B().k7()}function yb(M){M&&this.B().l7(M)}function zb(M,O){M=0===M;O&&(O=O.Oq(this.Ea()))&&this.B().j7(O,
M)}function Ab(M){const O=this.B();O.fb()!==M&&(O.qf(M),this.j.fa())}function Bb(){return this.B().da().Ka()}function Cb(){return this.B().da().Ba()}function Db(){return this.B().ek()}function kb(){return this.B().fb()}function Eb(){return this.B().Lh()}function Fb(M,O){if(O=this.J().Pa.gl(O)){O=O.Ka();M=1===M;var U=this.B().sg;U.ou(O)!==M&&(U.LP(O,M),U.Rh(),this.j.fa())}}function Gb(M,O,U){var aa=this.J().Pa.gl(M);if(aa){M=aa.Ka();var ha=this.B().sg,fa=ha.fl(M);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Yf().gz(O);if("color"===aa){b.Gt(U);O=fa[O];if(b.vm(O))return;O.Hj(b)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.ou(M)&&this.j.fa()}}}const lb=d.C(d.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(M,O,U,aa){O.xc<U.xc?M.Set(O,U,aa):M.Set(U,O,aa)}function qb(M,O,U){O.xc<U.xc?M.wo(O,U):M.wo(U,O)}function qa(M,O,U){return O.xc<U.xc?M.ca(O,U):M.ca(U,O)}function Ma(M,O,U,aa){if(!O)return!1;M=M.Ea();const ha=0!==U||0!==aa,fa=M.B(),ja=M.I(),ua=ja.Ak;var ka=ja.Tf();
const wa=ka.Ie().ee;var Ga=ka.J();ka=ka.yj;const Ia=O.Y();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.kc?(lb.pa(fa.Lc()),lb.offset(U,aa),ua.Sy(fa.da(),O,lb,mb),O=mb):wa?ja.E2()&&!Ia.Dc.length&&Ia.H.length?O=Ia.H:(O=Ia.Dc,ob=!0):O=Ia.H;ha&&(db=fa.ga(),Ha=fa.ia(),fa.Om(U,aa),fa.ma());for(const da of O)if(ua.qk(M,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Dd(db,Ha),fa.ma());d.G(mb);return ma}function Mb(M,O){if(nb){if(O){{M=M.I().Sb().ee;O=Za.Y();const U=O.H,aa=O.Dc;O.kc?(O.Ku(Qa),M&&(d.G(aa),
O.tM(Qa,Za.ta()))):M?ob?O.L6(Qa):(O.tM(Qa,U),O.Ku(Qa)):O.Ku(Qa);Za.Fc()}}Qa.clear();Za=null;nb=!1}}function Nb(M){if(this.j.te)return Ob.call(this,M);if(!M)return!1;var O=this.j;const U=O.Ak,aa=O.na(),ha=aa.jd();var fa=aa.Tf();const ja=fa.J();var ua=fa.Jh(),ka=fa.ku();fa=ha.hf();const wa=O.Pk,Ga=wa-1,Ia=fa.Sb(),db=ha.Sa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.C(d.uu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Xb().addEventListener("instancedestroy",
Ra=>{Ha.cN(Ra.instance)}));O=M.Y();ua=ja.Y().ta();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.kc?(U.Sy(Ea.B().da(),M,Ea.B().Lc(),Xa),ka=Xa,U.wM(Ea,M,ka)):ka=O.ta();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.qk(Ea,La)||U.IM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.zd(),aa.Me(ma),na=ja.Y(),da=M.Y(),na.Se(!1),da.Se(!1),ja===M?(da=na.H,d.G(da),da.push(Ea),da.push(La),ja.Fc()):(na=na.H,da=da.H,d.G(na),d.G(da),
na.push(Ea),da.push(La),ja.Fc(),M.Fc()),Ia.Rg(fa,db),aa.Tb(ma))}else qb(Ha,Ea,La)}d.G(Xa)}ha.Na();return!1}function*Ob(M){if(!M)return!1;var O=this.j;const U=O.Ak,aa=O.na(),ha=aa.jd();var fa=aa.Tf();const ja=fa.J();var ua=fa.Jh(),ka=fa.ku();fa=ha.hf();const wa=O.Pk,Ga=wa-1,Ia=fa.Sb(),db=ha.Sa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.C(d.uu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Xb().addEventListener("instancedestroy",Ra=>
{Ha.cN(Ra.instance)}));O=M.Y();ua=ja.Y().ta();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.kc?(U.Sy(Ea.B().da(),M,Ea.B().Lc(),Xa),ka=Xa,U.wM(Ea,M,ka)):ka=O.ta();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.qk(Ea,La)||U.IM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.zd(),aa.Me(ma),na=ja.Y(),da=M.Y(),na.Se(!1),da.Se(!1),ja===M?(da=na.H,d.G(da),da.push(Ea),da.push(La),ja.Fc()):(na=na.H,da=da.H,d.G(na),d.G(da),
na.push(Ea),da.push(La),ja.Fc(),M.Fc()),yield*Ia.Gg(fa,db),aa.Tb(ma))}else qb(Ha,Ea,La)}d.G(Xa)}ha.Na();return!1}function Pb(M){return Ma(this,M,0,0)}function Qb(M,O,U){return Ma(this,M,O,U)}function Rb(){return this.B().fk()}function rb(){return this.B().mf()}function sb(M,O){const U=this.Y().ta();if(0===U.length)return!1;const aa=M.Y();var ha=aa.ta();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Xx())wa.Fq(M)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ha(),null===ja)continue}else ja=ja.oz();ja.Fq(M)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Ku(fa);M.Fc();return!0}function tb(M,O){const U=this.Y().ta();if(0===U.length)return!1;const aa=M.Y();var ha=aa.ta();if(aa.kc){var fa=[...this.j.JL(M)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.mf()&&ka.Fq(M)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Yk())2===O&&wa.mf()||wa.Fq(M)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Ku(fa);M.Fc();return!0}function ub(M,O){const U=this.Y().ta();if(0===U.length)return!1;const aa=M.Y();var ha=aa.ta();if(aa.kc){var fa=[...this.j.JL(M)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].JE(O);null!==ka&&ka.Fq(M)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Yz(fa);M.Fc();return!0}function gb(M,O){return d.compare(this.L.Ry(),
M,O)}function f(M,O,U,aa,ha,fa,ja,ua){const ka=this.L,wa=this.j.Xt().J();for(const Ga of M.eW(ka,wa)){if(!Ga.Bb().KV)break;ka.Cm(Ga,{Jt:O,Kt:U,Cq:aa,Bq:ha,It:fa,Lt:ja,Kx:ua})}}function k(M){const O=this.L,U=this.j.Xt().J();for(const aa of M.eW(O,U))O.jk(aa)}function t(){this.L.fk()&&this.L.Ha().jk(this.L)}function x(){return this.L.Ry()}function B(M,O){M=Math.floor(M);O=Math.floor(O);const U=this.B();2>M||2>O||!isFinite(M)||!isFinite(O)?(U.Qz(),U.ma()):U.tE(M,O)}function C(M,O,U,aa,ha,fa,ja,ua){const ka=
this.B();ka.YP(M,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,gy:fa,rX:ja,uX:ua})&&ka.ma()}function E(){const M=this.B();return M.Zf()?M.ck().Ek:0}function I(){const M=this.B();return M.Zf()?M.ck().Tk:0}function K(M){const O=this.B();M=2===M?!O.Mc():0!==M;O.Mc()!==M&&O.hg(M)}function N(M,O){this.z5(M,O)}function Q(M,O){this.y5(M,""+O)}function S(M){this.F4(M)}function W(){this.mN()}function V(){this.zM()}function ea(){return this.HI}function ia(M){this.Th(0!==M)}function ca(){return this.rb}function oa(M,
O,U){return d.compare(this.Ea().Je(M),O,U)}function la(M){return!!this.Ea().Je(M)}function ra(M,O){const U=this.Y(),aa=U.ta();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.Je(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.Je(O);if(0===M&&wa<ja||1===M&&wa>ja)ja=wa,fa=ha}U.Pm(fa);return!0}function sa(M){if(this.j.Tf().yj){{const aa=this.Y();if(aa.kc){aa.Se(!1);aa.wy();var O=this.ta();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.xc===M?aa.qp(U):aa.mv(U)}this.Fc();M=!!aa.H.length}else{O=
aa.H;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.xc===M?aa.qp(ja):++U}d.df(O,U);this.Fc();M=!!O.length}}}else M=pa(this,M);return M}function pa(M,O){O=M.I().Gh(O);if(!O)return!1;const U=M.Y();if(!U.kc&&!U.H.includes(O))return!1;if(M.bb){if(O.J().jE(M))return U.Pm(O),M.Fc(),!0}else if(O.J()===M)return U.Pm(O),M.Fc(),!0;return!1}function za(){this.j.xo(this.L)}function Aa(){return!0}function Ba(){return!0}function Ca(M,O){this.Ea().Sm(M,O)}function Fa(M,O){const U=this.Ea(),aa=
U.Je(M);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Sm(M,aa+O)}function Ja(M,O){const U=this.Ea(),aa=U.Je(M);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Sm(M,aa-O))}function Ka(M,O){this.Ea().Sm(M,O?1:0)}function Da(M){const O=this.Ea();O.Sm(M,0===O.Je(M)?1:0)}function Hb(M){let O;try{O=JSON.parse(M)}catch(U){console.error("Failed to load from JSON string: ",U);return}M=this.Ea();M.zA("state");M.lc(O,"state")}
function Ib(){return JSON.stringify(this.Ea().Bc("state"))}function nc(){return this.Ea().J().Ba()}function oc(){const M=this.j.gf().NI;let O=M.H.length;for(const U of this.j.JL(M))++O;return O}function pc(){return this.j.gf().NI.Y().ta().length}function qc(){return this.L.Co()}function rc(){return this.L.xc}d.EX=function(M,O){const U=M[1],aa=M[4],ha=M[5],fa=M[6],ja=M[7],ua=M[8],ka=M[10],wa=M[11],Ga=M[12],Ia=M[13],db=M[14],Ha=M[15],ma=O.P,da=O.jb,na=O.Ge;M[3]&&(ma.sia=a,ma.tia=e,ma.Uja=c,ma.Vja=g,
ma.ola=l,da.ig=h,da.jg=m,da.ioa=n,da.joa=p,da.Dka=q,da.Cka=u,na.ypa=w,na.zpa=r,na.tW=v);aa&&(ma.ria=y,ma.kia=A,da.bj=G,da.Vi=z,da.vd=F,na.wpa=H,na.gja=J,na.Rha=L,na.Tha=P,na.Sha=R,na.Qha=T);ha&&(ma.VX=Z,ma.B2=X,ma.A2=ba,da.Cc=Y,da.Mma=va,da.Nma=ta,da.Oma=ya,da.Pma=Na,da.moa=Sa,na.UX=Ta);fa&&(ma.Mc=Wa,ma.mia=Ua,da.hg=eb,da.Wi=fb,da.jna=Pa,na.Opacity=ib,na.eia=Va);ja&&(ma.Sja=Ya,ma.wla=vb,ma.uia=wb,da.Gka=jb,da.Eka=xb,da.Fka=yb,da.Cpa=zb,da.qf=Ab,na.jka=Bb,na.ika=Cb,na.Bpa=Db,na.Apa=kb,na.Voa=Eb);ua&&
(da.mna=Fb,da.nna=Gb);Ia&&(ma.fk=Rb,ma.mf=rb,ma.ula=sb,ma.nla=tb,ma.sla=ub,ma.iia=gb,da.Cm=f,da.jk=k,da.Tla=t,na.cia=x);db&&(da.coa=B,da.YP=C,na.Aka=E,na.Bka=I);ka&&(ma.Mc=Wa,da.hg=K,da.ena=N,da.pna=Q,da.Sla=S);wa&&(ma.Ija=ea,da.sna=W,da.cna=V);Ga&&(ma.$f=ca,da.Ui=ia);Ha&&(ma.I3=Nb,ma.Wja=Pb,ma.Xja=Qb,O.G_=Mb);U||(ma.lia=oa,ma.yja=la,ma.pla=ra,ma.mla=sa,da.Bna=Ca,da.uha=Fa,da.Ooa=Ja,da.dna=Ka,da.Soa=Da,ma.J3=Aa,ma.K3=Ba,da.jZ=za,da.HF||(da.HF=Hb),na.bY||(na.bY=Ib),na.via=oc,na.xla=pc,na.hja=qc,na.apa=
rc,na.Qka=nc)}}
{"use strict";const d=self.D;d.bG=class extends d.ka{constructor(b){super();this.za=b;this.Aa="";this.pd=-1;this.ax="";this.jC=!1;this.rj=null;this.lg=0;this.Xe=[];this.mq=new Map;this.Dl=null;this.xv=-1;this.VI=this.hh=null;this.$w=!1}A(){this.Aa="";this.pd=-1;this.ax="";this.VI=this.hh=this.Dl=this.rj=null;this.xv=-1;d.G(this.Xe);for(const b of this.mq.values())b.A();this.mq.clear()}Yg(){var b=this.za,a=b.I().Xc;const e=b.gf();this.rj=e.Sb();this.lg=e.lg+1;if(b=b.BE(this.rj))this.Dl=b,this.hh=b.vY(),
this.VI=b.jJ.map(c=>c.Bd()),b.Og()&&(this.xv=b.c4());for(const c of a)if(a=c.Y(),!a.kc||this.rj.u1(c))this.Xe.push(c),this.mq.set(c,d.C(d.lQ,a))}s2(b){this.Aa="timer";this.Yg();this.pd=this.za.I().Vj()+b}q2(b){this.Aa="signal";this.Yg();this.ax=b.toLowerCase()}e2(b){this.Aa="promise";this.Yg();b.then(()=>this.oG()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.oG()})}S2(){return"timer"===this.Aa}Q2(){return"signal"===this.Aa}L2(){return"promise"===
this.Aa}oG(){this.jC=!0}cT(){return this.S2()?this.pd<=this.za.I().Vj():this.jC}BS(b){b.yH(this.rj,this.lg);for(const [a,e]of this.mq.entries())e.yH(a.Y());if(b=this.Dl)b.Gu(this.hh),b.jJ.map((a,e)=>a.Oe(this.VI[e])),b.Og()&&b.X4(this.xv)}oba(b){this.BS(b);this.rj.nba(b);this.Dl&&this.Dl.Og()&&this.Dl.ru(this.xv);this.za.Gq(this.Xe);this.$w=!0}async q8(b){this.BS(b);for(const a of this.rj.p8(b))await this.za.I().Hq(a);this.Dl&&this.Dl.Og()&&this.Dl.ru(this.xv);this.za.Gq(this.Xe);this.$w=!0}cp(b){for(const a of this.mq.values())a.cp(b)}la(){const b=
{},a={t:this.pd,st:this.ax,s:this.jC,ev:this.rj.mb,sm:this.Xe.map(e=>e.mb),sols:b};this.rj.Y9(this.lg)&&(a.act=this.rj.pN(this.lg).mb);for(const [e,c]of this.mq)b[e.mb.toString()]=c.la();return a}static V7(b,a){const e=b.I();var c=b.a0(a.ev);if(!c)return null;let g=0;if(a.hasOwnProperty("act")){var l=b.L_(a.act);if(!l)return null;g=l.Ka()}l=d.C(d.bG,b);l.pd=a.t;l.Aa=-1===l.pd?"signal":"timer";l.ax=a.st;l.jC=a.s;l.rj=c;l.lg=g;for(var h of a.sm)(c=e.fz(h))&&l.Xe.push(c);for(const [m,n]of Object.entries(a.sols))if(a=
e.fz(parseInt(m,10)))h=d.C(d.lQ,null),h.qa(b,n),l.mq.set(a,h);return l}}}{"use strict";const d=self.D;d.lQ=class extends d.ka{constructor(b){super();this.N=null;this.iC=!0;this.H=[];b&&(this.N=b.J(),this.iC=b.kc,d.Vc(this.H,b.H))}A(){this.N=null;d.G(this.H)}yH(b){b.Se(this.iC);d.Vc(b.H,this.H)}cp(b){d.Cg(this.H,b)}la(){return{sa:this.iC,insts:this.H.map(b=>b.xc)}}qa(b,a){b=b.I();this.iC=!!a.sa;d.G(this.H);for(const e of a.insts)(a=b.Gh(e))&&this.H.push(a)}}}
{"use strict";const d=self.D;function b(a,e){let c=a.get(e);c||(c=new Map,a.set(e,c));return c}d.nr=class extends d.ka{constructor(a){super();this.j=a.Pf;this.un=!!a.HW;this.zf=!!a.hga;this.pea=!!a.gga;this.zea=!!a.tga;this.bea=!!a.Vfa;this.KV=!!a.Rga;this.Sea=!!a.Qga;this.yV=null;this.zT=new Map;this.Eda=new Map;this.Fda=new Map;this.Gda=new Map}A(){this.j=null}I(){return this.j}Nc(){}To(){return this.pea}fr(){return this.zea}gF(){return this.bea}sk(a,e){if(!e)throw Error("missing 'this' binding");
let c=this.zT.get(a);if(c)return c;c=a.bind(e);this.zT.set(a,c);return c}qR(a,e,c){if(!e)throw Error("missing 'this' binding");const g=b(this.Eda,a);let l=g.get(c);if(l)return l;l=a.bind(e,c);g.set(c,l);return l}rR(a,e,c,g){if(!e)throw Error("missing 'this' binding");var l=b(this.Fda,a);l=b(l,c);let h=l.get(g);if(h)return h;h=a.bind(e,c,g);l.set(g,h);return h}sR(a,e,c,g,l){if(!e)throw Error("missing 'this' binding");var h=b(this.Gda,a);h=b(h,c);h=b(h,g);let m=h.get(l);if(m)return m;m=a.bind(e,c,g,
l);h.set(l,m);return m}Fca(a){if(!this.un)throw Error("must be single-global plugin");this.yV=a}bk(){if(!this.un)throw Error("must be single-global plugin");return this.yV.bk()}}}
{"use strict";const d=self.D;d.zP=class extends d.nr{constructor(b,a){super(b);this.nn=a;this.Cea=0;this.kJ=new Map;this.iy("elem-focused",e=>e.naa());this.iy("elem-blurred",e=>{e&&e.maa()})}A(){super.A()}s7(b){const a=this.Cea++;this.kJ.set(a,b);return a}eba(b){this.kJ.delete(b)}iy(b,a){this.j.Di(this.nn,b,e=>{const c=this.kJ.get(e.elementId);a(c,e)})}}}{"use strict";const d=self.D;d.pr=class extends d.ka{constructor(b){super();this.N=b;this.j=b.I();this.li=b.Bb()}A(){this.li=this.j=this.N=null}J(){return this.N}I(){return this.j}Bb(){return this.li}jf(){return this.N.jf()}Rt(){}er(){}bp(){}Kz(){}PF(){}Kh(){return null}}}
{"use strict";const d=self.D;d.Vz=class extends d.ka{constructor(b,a){super();this.L=b;this.nn=a;this.j=b.I();this.N=this.L.J();this.Uc=this.N.Uc;this.it=this.jm=null;this.rw=this.Sl=!1;this.Fd=null;this.Hx=!1}A(){this.Hx=!0;this.vp();this.OH();this.it=this.jm=null;this.Fd&&(this.Fd.A(),this.Fd=null);this.Uc=this.N=this.j=this.L=null}kA(){return this.Hx}Ea(){return this.L}I(){return this.j}J(){return this.N}Bb(){return this.Uc.Bb()}Uq(){return this.L.Hh()}Oa(b){return this.j.Oa(b,this.L,null)}Zd(b){return this.j.Zd(b,
this.L,null)}sM(b,a){this.j.Di(this.nn,b,a)}GX(b){for(const [a,e]of b)this.sM(a,e)}Cb(b,a){this.j.ir(this.nn,b,a)}Ri(b,a){return this.j.jr(this.nn,b,a)}rS(b,a){this.j.Ol?this.Cb(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.nn,handler:b,data:a,responseId:null})}Nd(){}kg(){this.Sl||(this.jm||(this.jm=()=>this.Nd()),this.j.Xb().addEventListener("tick",this.jm),this.Sl=!0)}vp(){this.Sl&&(this.j.Xb().removeEventListener("tick",this.jm),this.Sl=!1)}OH(){this.rw&&(this.j.Xb().removeEventListener("tick2",
this.it),this.rw=!1)}Bc(){return null}lc(){}Zb(){}pe(){}JF(b,a){if(0!==a){var e=this.Zb(b);if("number"!==typeof e)throw Error("expected number");this.pe(b,e+a)}}Kh(){return null}Hy(b,a,e){const c=this.Uq();b=d.C(d.Event,b,a);b.instance=c;e&&Object.assign(b,e);c.dispatchEvent(b)}}}
{"use strict";const d=self.D;d.aG=class extends d.Vz{constructor(b,a){super(b,a);this.Va=b.B();this.wD=this.qt=null}A(){if(this.qt){const b=this.j.Xb();b.removeEventListener("webglcontextlost",this.qt);b.removeEventListener("webglcontextrestored",this.wD);this.wD=this.qt=null}this.Va=null;super.A()}g1(){if(!this.qt){this.qt=()=>this.hr();this.wD=()=>this.ZO();var b=this.j.Xb();b.addEventListener("webglcontextlost",this.qt);b.addEventListener("webglcontextrestored",this.wD)}}hr(){}ZO(){}B(){return this.Va}So(){return!1}Yj(){if(!this.So())throw Error("original size not known");
const b=this.Fh();if(b)return b.ea()}Xj(){if(!this.So())throw Error("original size not known");const b=this.Fh();if(b)return b.$()}Fh(){return null}Ty(){var b=this.Fh();return b&&(b=b.Yd())?[b.ea(),b.$()]:[100,100]}Uy(){const b=this.Fh();return b?b.Mi():null}Az(){const b=this.Fh();return b?b.Vp:!1}Eo(){const b=this.L.B();return[b.ga(),b.ia()]}mr(){return!0}}}
{"use strict";const d=self.D,b=d.C(d.Rect);d.yP=class extends d.aG{constructor(a,e){super(a,e);this.Uv=this.Bb().s7(this);this.tJ=!0;this.zv=this.HI=!1;this.Ks=d.C(d.Rect,0,0,-1,-1);a=this.j.U;this.MU=a.bo;this.LU=a.ao;this.DJ=!1;this.kg()}A(){this.Bb().eba(this.Uv);this.Xo("destroy");this.Uv=-1;super.A()}Xo(a,e){e||(e={});e.elementId=this.Uv;this.Cb(a,e)}qS(a){a||(a={});a.elementId=this.Uv;this.rS("focus",a)}VM(a){a||(a={});const e=this.B().Mc();a.elementId=this.Uv;a.isVisible=e;Object.assign(a,
this.Xy());this.tJ=!!a.isVisible;this.rS("create",a);this.qT(!0)}aA(a){a=!!a;this.tJ!==a&&(this.tJ=a,this.Xo("set-visible",{isVisible:a}))}Nd(){this.qT(!1)}Rca(){const a=this.j.U.$y();return"Android"===d.kd.gr&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}qT(a){var e=this.B();const c=e.da();var g=e.ga(),l=e.ia();let [h,m]=c.Wo(g,l),[n,p]=c.Wo(g+e.ea(),l+e.$());g=this.j.U;l=g.od;const q=g.Zc;if(e.Mc()&&c.Mc()){if(!this.Rca()){if(0>=n||0>=p||h>=l||m>=q){this.aA(!1);return}1>h&&(h=1);1>m&&(m=1);
n>=l&&(n=l-1);p>=q&&(p=q-1)}b.set(h,m,n,p);e=g.bo;l=g.ao;!a&&b.rd(this.Ks)&&this.MU===e&&this.LU===l?this.aA(!0):(this.Ks.pa(b),this.MU=e,this.LU=l,this.aA(!0),a=null,this.zv&&(a=c.Sj()-.2),this.Xo("update-position",{left:Math.round(this.Ks.R)+g.HE(),top:Math.round(this.Ks.O)+g.IE(),width:Math.round(this.Ks.width()),height:Math.round(this.Ks.height()),fontSize:a}))}else this.aA(!1)}mN(){this.qS({focus:!0})}zM(){this.qS({focus:!1})}naa(){this.HI=!0}maa(){this.HI=!1}z5(a,e){this.Xo("set-css-style",
{prop:d.nY(a),val:e})}y5(a,e){this.Xo("set-attribute",{name:a,val:e})}F4(a){this.Xo("remove-attribute",{name:a})}Ed(){this.DJ||(this.DJ=!0,Promise.resolve().then(()=>{this.DJ=!1;this.Xo("update-state",this.Xy())}))}Xy(){}}}
{"use strict";const d=self.D,b=self.C1;d.Sz=class extends d.ka{constructor(a){super();this.j=a.Pf;this.cK=d.C(d.hE);this.FC=d.C(d.hE);this.dw=null;this.Nea=a.ysa||null}A(){this.FC.A();this.cK.A();this.j=null}I(){return this.j}Nc(){}t7(a){this.cK.Kc(a)}WE(){return this.cK.EE()}Xg(a){this.FC.Kc(a)}rp(a){this.FC.wo(a)}ta(){return this.FC.EE()}p0(){if(null===this.dw){const a=this.Nea;if(a){if(this.dw=new a(this),!(this.dw instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.dw=new b(this)}return this.dw}}}{"use strict";const d=self.D;d.Uz=class extends d.ka{constructor(b){super();this.j=b.I();this.Yc=b;this.N=b.J();this.ij=b.Em();this.ij.t7(this.N)}A(){this.ij=this.N=this.Yc=this.j=null}Ig(){return this.Yc}J(){return this.N}I(){return this.j}Em(){return this.ij}}}
{"use strict";const d=self.D;d.Tz=class extends d.ka{constructor(b,a){super();this.ZA=b;this.nn=a;this.L=b.L;this.j=b.I();this.Yc=b.Ig();this.Uc=this.Yc.Uc;this.gC=this.rw=this.Sl=!1;this.Fd=null}A(){this.vp();this.OH();this.NH();this.Fd&&(this.Fd.A(),this.Fd=null);this.Uc=this.Yc=this.j=this.L=this.ZA=null}Em(){return this.Yc.Em()}J(){return this.L.J()}B(){return this.L.B()}I(){return this.j}Ig(){return this.Yc}Uq(){return this.ZA.Uq()}Oa(b){return this.j.Oa(b,this.L,this.Yc)}Zd(b){return this.j.Zd(b,
this.L,this.Yc)}Nd(){}OF(){}kg(){this.Sl||(this.j.o7(this),this.Sl=!0)}vp(){this.Sl&&(this.j.bba(this),this.Sl=!1)}OH(){this.rw&&(this.j.cba(this),this.rw=!1)}MH(){this.gC||(this.j.n7(this),this.gC=!0)}NH(){this.gC&&(this.j.aba(this),this.gC=!1)}sM(b,a){this.j.Di(this.nn,b,a)}Bc(){return null}lc(){}Zb(){}pe(){}JF(b,a){if(0!==a){var e=this.Zb(b);if("number"!==typeof e)throw Error("expected number");this.pe(b,e+a)}}Kh(){return null}Hy(b,a,e){const c=this.Uq();b=d.C(d.Event,b,a);b.Opa=c;b.instance=c.instance;
e&&Object.assign(b,e);c.dispatchEvent(b)}}}
{"use strict";const d=self.D;d.F={};d.Ya={};d.f4=class extends d.ka{constructor(b){super();this.j=b;this.zda=[];this.jV=new Map;this.Id=null;this.wda=[];this.jI=new Map;this.EU=this.HK=null}WY(b){const a=this.j.Ih(b[0]);if(!a)throw Error("missing plugin");d.EX(b,a);b=d.C(a,{Pf:this.j,HW:b[1],hga:b[2],gga:b[5],Vfa:b[8],tga:b[9],Rga:b[13],Qga:b[14]});b.Nc();this.zda.push(b);this.jV.set(a,b)}YY(){this.Id=d.C(d.F.kb,{Pf:this.j,HW:!0});this.Id.Nc()}SY(b){b=this.j.Ih(b[1]);if(!b)throw Error("missing behavior");
const a=d.C(b,{Pf:this.j});a.Nc();this.wda.push(a);this.jI.set(b,a);!this.HK&&d.Ya.zm&&a instanceof d.Ya.zm?this.HK=a:!this.EU&&d.Ya.jga&&a instanceof d.Ya.jga&&(this.EU=a)}O0(b){return this.jV.get(b)||null}n1(b){return this.jI.has(b)}Q_(b){return this.jI.get(b)||null}hu(){return this.Id}$E(){return this.HK}}}
{"use strict";const d=self.D,b=new Set;d.xz=class extends d.ka{constructor(){super();this.Sk="";this.V=this.Z=this.Ow=this.Nw=this.ct=0;this.aw=this.Vp=!1;this.uf=null;this.im="";this.wg=d.C(d.Rect);this.iq=d.C(d.Cd);new self.dO(this);b.add(this)}A(){this.Si();this.uf=null;b.delete(this)}static hr(){for(const a of b)a.im="",a.wg.set(0,0,0,0),a.iq.Mj(a.wg)}DO(a){this.Sk=a[0];this.ct=a[1];this.Nw=a[2];this.Ow=a[3];this.Z=a[4];this.V=a[5];this.Vp=a[6];this.aw=!0}g3(a,e){if(this.uf)throw Error("already loaded asset");
this.Sk=e;const c={};d.qF(e)&&(c.Ux="remote");this.CO(a,c);return this.uf.BO()}O4(a){if(a===this)throw Error("cannot replace with self");this.Si();this.Sk=a.Sk;this.ct=a.ct;this.Nw=a.Nw;this.Ow=a.Ow;this.Z=a.Z;this.V=a.V;this.Vp=a.Vp;this.aw=a.aw;this.uf=a.uf;this.im=a.im;this.wg=a.wg;this.iq=a.iq}Im(){return this.ct}ea(){return this.Z}$(){return this.V}CO(a,e){if(this.uf)throw Error("already got asset");e=Object.assign({},e,{url:this.Sk,size:this.Im()});this.uf=a.Iz(e)}AF(){return this.uf&&this.uf.AF()}async qu(a,
e){if(!this.uf)throw Error("no asset");if(this.im)throw Error("already loaded texture");this.im="loading";a=await this.uf.qu(a,e);if(!a)return this.im="",null;this.im="loaded";this.aw||(this.Z=a.ea(),this.V=a.$(),this.aw=!0);this.wg.set(this.Nw,this.Ow,this.Nw+(this.Vp?this.V:this.Z),this.Ow+(this.Vp?this.Z:this.V));this.wg.um(a.ea(),a.$());this.iq.Mj(this.wg);this.Vp&&this.iq.Gga();return a}Si(){this.im&&(this.uf&&this.uf.Si(),this.im="",this.wg.set(0,0,0,0),this.iq.Mj(this.wg))}Yd(){return this.uf?
this.uf.Yd():null}Mi(){return this.wg}mz(){return this.iq}}}
{"use strict";const d=self.D;d.XX=class extends d.ka{constructor(b){super();this.Ja=b[0];this.Ok=b[1];this.ow=!!b[2];this.bt=b[3];this.sV=b[4];this.oea=!!b[5];this.mb=b[6];this.Gd=b[7].map(a=>d.C(d.WX,a));this.cea=new self.y1(this)}A(){for(const b of this.Gd)b.A();d.G(this.Gd)}d3(b){for(const a of this.Gd)a.jf().CO(b)}e3(b,a){return Promise.all(this.Gd.map(e=>e.jf().qu(b,a)))}B4(){for(const b of this.Gd)b.jf().Si()}Ba(){return this.Ja}Hm(b){b=Math.floor(b);if(0>b||b>=this.Gd.length)throw new RangeError("invalid frame");
return this.Gd[b]}Mg(){return this.bt}}}
{"use strict";const d=self.D;d.WX=class extends d.ka{constructor(b){super();this.rg=d.C(d.xz);this.rg.DO(b);this.qB=b[7];this.fV=d.C(d.Ru,b[8],b[9]);this.OB=b[10].map(a=>d.C(d.O1,this,a));this.oU=new Map;for(const a of this.OB)this.oU.set(a.Ba().toLowerCase(),a);this.Bp=null;b=b[11];6<=b.length&&(this.Bp=d.C(d.vo,b));this.dea=new self.z1(this)}A(){this.Bp&&(this.Bp.A(),this.Bp=null);this.rg.A();this.rg=null}jf(){return this.rg}jl(){return this.fV.ja}kl(){return this.fV.ba}r0(b){return this.oU.get(b.toLowerCase())||null}q0(b){b=
Math.floor(b);return 0>b||b>=this.OB.length?null:this.OB[b]}RE(){return this.OB.length}}}{"use strict";const d=self.D;d.O1=class extends d.ka{constructor(b,a){super();this.Ja=a[0];this.oK=d.C(d.Ru,a[1],a[2])}A(){}Ba(){return this.Ja}ga(){return this.oK.ja}ia(){return this.oK.ba}}}
{"use strict";const d=self.D,b=self.Bh,a=self.mF;d.IF=class extends d.ka{constructor(e,c,g){super();const l=e.Ih(g[1]);this.j=e;this.li=e.Gn.O0(l);this.Uc=null;this.SB=l.Instance;this.Qa=c;this.mb=g[11];this.Ja=g[0];this.xw=this.j.Ki(g[14]);this.mea=!!g[9];this.bb=!!g[2];this.BJ=!!g[10];this.wj=g[3].map(h=>({eX:h[0],type:h[1],name:h[2],iga:e.Ki(h[3])}));this.Cda=g[4];this.Yda=g[5];this.zf=this.li.zf;this.Pa=null;this.hB=d.C(d.w6,e.oh,e.nh);this.cI=!0;this.dI=!1;this.SI=this.Jp=null;this.tj=-1;this.RI=
this.xB=this.yB=this.QI=this.Zh=null;this.vJ=!1;this.dh=null;this.xT=g[8].map(h=>d.xM.Ra(this,h));this.$A=[];this.kI=new Map;this.iI=new Map;this.TV=new Set;this.Ln=d.C(d.t6,this);this.UA=this.TA=this.Od=this.rg=this.dh=this.os=null;this.ht=0;this.Kb=new Map;this.vi=new Map;this.H=[];this.fJ=!0;this.li.gF()&&(this.Pa=d.C(d.bl,this,g[12]));g[6]&&(this.rg=d.C(d.xz),this.rg.DO(g[6]));if(g[7]){this.Od=g[7].map(h=>d.C(d.XX,h));this.TA=new Map;this.UA=new Map;for(const h of this.Od)this.TA.set(h.Ba().toLowerCase(),
h),this.UA.set(h.mb,h)}this.bb?(this.Jp=[],this.SI=new Set,this.tj=this.j.K9()):(this.Zh=[],this.QI=new Set,this.yB=[],this.xB=[],this.RI=[]);this.Uc=d.C(l.Qh,this,g[15]);this.vU=this.fw=null;this.ke=d.C(d.Event.Xb);if(c=this.Uc.Kh()){if(this.fw=new c(this),!(this.fw instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.fw=new a(this);this.j.sD&&!this.bb&&!this.BJ&&this.zf||this.Nc();this.li.un&&(this.li.Fca(this),this.e8(g))}static Ra(e,c,g){return d.C(d.IF,
e,c,g)}A(){this.rg&&(this.rg.A(),this.rg=null);if(this.Od){for(const e of this.Od)e.A();d.G(this.Od);this.TA.clear();this.UA.clear()}this.Ln.A();this.Ln=null;this.Kb.clear();this.vi.clear();this.j=this.dh=null}E$(e){for(let c=1,g=e.length;c<g;++c){const l=this.j.kf(e[c]);this.Jp.push(l);this.SI.add(l);l.Zh.push(this);l.QI.add(this)}}aca(e){this.vJ=!0;this.dh=e}hc(){return this.vJ}iaa(){var e=0;if(!this.bb)for(var c of this.Zh)for(var g of c.xT){const m=g.Ba().toLowerCase();this.kI.set(m,g);this.iI.set(m,
e);this.$A.push(g);++e}for(var l of this.xT)c=l.Ba().toLowerCase(),this.kI.set(c,l),this.iI.set(c,e),this.$A.push(l),++e;for(var h of this.$A)this.TV.add(h.Em().constructor);if(!this.bb&&this.Zh.length){e=this.j.RT;d.FD(this.yB,e,0);d.FD(this.xB,e,0);d.FD(this.RI,e,0);e=[];c=h=l=0;for(const m of this.Zh)if(g=m.tj,this.yB[g]=l,l+=m.wj.length,this.xB[g]=h,h+=m.Cda,this.RI[g]=c,c+=m.Yda,(g=m.Pa)&&this.Pa)for(const n of g.Hg())e.push(n.DY(this.Pa));this.Pa&&this.Pa.o4(e)}}e8(e){const c=this.j.J9(),g=
d.C(d.Instance,{Pf:this.j,WL:this,uid:c});g.nA(e[16],[]);this.j.V$(c,g);this.H.push(g)}Nc(){this.bb||this.Uc.Nc()}r1(){return 0<this.ht}er(e){if(this.bb)return Promise.resolve();this.ht++;return 1===this.ht?this.Uc.er(e)||Promise.resolve():Promise.resolve()}bp(){if(!this.bb){this.ht--;if(0>this.ht)throw Error("released textures too many times");0===this.ht&&this.Uc.bp()}}Kz(){if(this.bb)throw Error("not applicable to family");this.Uc.Kz()}PF(e){return this.bb?Promise.resolve():this.Uc.PF(e)}I(){return this.j}Bb(){return this.li}Ba(){return this.Ja}Ki(){return this.xw}Ka(){return this.Qa}bg(){return this.mea}vQ(e){return e&&
this.TV.has(e)}x0(){return this.wj.map(e=>e.eX)}w0(e){return this.wj.findIndex(c=>c.eX===e)}v0(e){return this.wj.findIndex(c=>c.name===e)}y9(){return this.wj.map(e=>e.iga)}cu(e){e=Math.floor(e);if(0>e||e>=this.wj.length)throw new RangeError("invalid instance variable index");return this.wj[e].type}EN(e){e=Math.floor(e);if(0>e||e>=this.wj.length)throw new RangeError("invalid instance variable index");return this.wj[e].name}Py(e){return this.kI.get(e.toLowerCase())||null}Vt(e){e=this.iI.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}gF(){return this.li.gF()}wQ(){return this.Pa&&this.Pa.i1()}Y(){return this.Ln.Y()}jf(){return this.rg}JP(e){this.os=e}jE(e){return this.QI.has(e)}jN(e){return this.SI.has(e)}Bo(e){return this.xB[e]}zN(e){return this.yB[e]}qN(e){if(!this.Od)throw Error("no animations");return this.TA.get(e.toLowerCase())||null}O_(e){if(!this.Od)throw Error("no animations");return this.UA.get(e)||null}k0(){if(!this.Od)throw Error("no animations");return this.Od[0].Hm(0)}X_(){if(this.Od){const e=
this.k0().jf();return[e.ea(),e.$()]}return this.rg?[this.rg.ea(),this.rg.$()]:[100,100]}bk(){if(!this.li.un)throw Error("not a single-global plugin");return this.H[0]}ta(){return this.H}*DW(){yield*this.H}*Zfa(){yield*this.H;for(const e of this.j.Nl)e.J()===this&&(yield e)}Xg(e){this.H.push(e)}ov(){this.fJ=!0}NA(){if(this.fJ&&!this.bb){var e=this.H,c=0;for(let g=e.length;c<g;++c)e[c].TS(c);e=this.j.Nl;for(const g of e)g.J()===this&&g.TS(c++);this.fJ=!1}}DN(e){var c=this.H;if(e<c.length)return c[e];
e-=c.length;c=this.j.Nl;for(const g of c)if(g.J()===this){if(0===e)return g;--e}return null}Oq(e){if(e&&e.hc()&&e.J()!==this)for(const c of e.Hd)if(c.J()===this)return c;e=this.Y().ta();return e.length?e[0]:null}M0(e){const c=this.Y().ta();return 0<c.length?c[e.Co()%c.length]:null}*eW(e,c){const g=this.Y().ta();var l=g.length;const h=c.Y(),m=c.Y().ta(),n=m.length;var p=e.Co();if(c.bb||!h.kc)p=m.indexOf(e);e=Math.ceil(l/n);l%=n;0===l||p<l?(p*=e,l=e):(p=l*e+(p-l)*(e-1),l=e-1);for(let q=p,u=p+l;q<u;++q)yield g[q]}Rt(e){this.Uc.Rt(e)}Fc(){if(this.vJ&&
!this.bb){this.NA();var e=this.Y(),c=e.H,g=e.kc,l=this.j.gf();l=l&&l.Sb()&&l.Sb().ee;for(const n of this.dh.$l)if(n!==this){n.NA();var h=n.Y();h.Se(g);if(!g){var m=h.H;d.G(m);for(const p of c)m.push(n.DN(p.Co()));if(l){m=e.Dc;h=h.Dc;d.G(h);for(const p of m)h.push(n.DN(p.Co()))}}}}}eda(e,c){for(const g of this.dh.$l){const l=g.Y();e?d.df(l.Dc,c):d.df(l.H,c)}}MS(){this.cI=!0}DH(e){this.dI=!!e}lT(){if(this.cI&&this.zf){for(const e of this.H)e.B().oT();for(const e of this.j.Nl)e.J()===this&&e.B().oT();
this.cI=!1}}Jh(){this.Kb||(this.Kb=new Map);return this.Kb}ku(){this.vi||(this.vi=new Map);return this.vi}aO(){return this.vQ(d.Ya.Mka)}hF(){return this.vQ(d.Ya.hla)}la(){const e={instances:this.H.map(c=>c.Bc())};this.Kb&&this.Kb.size&&(e.ex=d.DG(this.Kb));return e}qa(e){this.Kb&&(this.Kb.clear(),this.Kb=null);var c=e.ex;c&&(this.Kb=d.CE(c));c=this.H;e=e.instances;for(let g=0,l=Math.min(c.length,e.length);g<l;++g)c[g].lc(e[g]);for(let g=e.length,l=c.length;g<l;++g)this.j.xo(c[g]);for(let g=c.length,
l=e.length;g<l;++g){c=e[g];let h=null;if(this.zf&&(h=this.j.Yb().cz(c.w.l),!h))continue;this.j.Gi(this.os||this,h,!1,0,0,!0).lc(c)}this.ov()}Dh(e){var c=this.j;(c=c.Jb&&!c.na().pu())&&b.zG();this.ke.dispatchEvent(e);c&&b.fE()}}}{"use strict";const d=self.D;d.MY=class extends d.ka{constructor(b,a){super();this.j=b;this.$l=a;for(const e of this.$l)e.aca(this)}A(){this.j=null}I(){return this.j}m1(){return this.$l.some(b=>b.zf)}}}
{"use strict";const d=self.D,b=self.Bh,a=self.Xq,e=[];let c=0;const g=new WeakMap,l=new WeakMap;d.Instance=class extends d.ka{constructor(h){super();this.j=h.Pf;this.fe=h.WL;this.se=this.oa=this.Va=null;this.mU=0;this.xc=h.uid;this.nV=c++;this.wa=0;this.nd=this.vf=e;var m=this.fe.$A;0<m.length&&(this.nd=m.map((n,p)=>d.C(d.ky,{Pf:this.j,sL:n,instance:this,index:p})));this.Hd=this.fe.hc()?[]:null;this.Jd=-1;this.cc=null;m=this.Bb();m.fr()&&(this.wa|=4);if(m.zf)if(this.Va=d.C(d.h7,this,h.KW),h.vX)this.Va.Mo(h.vX);
else{this.Va.d2();const [n,p]=this.fe.X_();this.Va.vd(n,p);this.J().wQ()&&this.Va.sg.f3()}h.BW?this.H$(h.BW):this.C$()}A(){this.se&&(this.se.nv(),this.se=null);if(0<this.nd.length){for(var h of this.nd)h.A();d.G(this.nd)}this.oa.A();this.oa=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=l.get(this))h.clear(),l.delete(this);this.Hd&&d.G(this.Hd);this.cc&&(this.cc.A(),this.cc=null);this.fe=this.j=null;0<this.vf.length&&d.G(this.vf);this.Va&&(this.Va.A(),this.Va=null)}H$(h){0<h.length&&(this.vf=
[],d.Vc(this.vf,h))}C$(){const h=this.fe.wj.length;if(0!==h){this.vf=[];var m=[0,0,""];for(let n=0;n<h;++n)this.vf.push(m[this.fe.cu(n)])}}nA(h,m){if(this.oa)throw Error("already got sdk instance");for(let n=0,p=this.nd.length;n<p;++n)this.nd[n].nA(m?m[n]:null);this.oa=d.C(this.fe.SB,this,h);if(!(this.oa instanceof d.Vz))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.nd.length;n<p;++n);this.fe.vU&&this.PR()}B(){return this.Va}I(){return this.j}M_(){const h=this.Jd;return-1===
h?this.I().Jd:h}rG(h){h=+h;if(0>h||!isFinite(h))h=0;this.Jd=h}W4(){this.Jd=-1}Xb(){this.cc||(this.cc=d.C(d.Event.Xb));return this.cc}Sf(h){this.oa.Sf(h)}Nc(h){this.oa.Nc(h)}sca(){this.wa|=2}ml(){return 0!==(this.wa&2)}pH(){this.wa|=1}Zq(){return 0!==(this.wa&1)}fr(){return 0!==(this.wa&4)}IO(){return 0!==(this.wa&32)}VR(){return 0!==(this.wa&8)}Gca(h){this.wa=h?this.wa|8:this.wa&-9}Fu(h,m){h<<=16;this.wa=m?this.wa|h:this.wa&~h}OE(h){return 0!==(this.wa&h<<16)}Fh(){return this.oa.Fh()}Ty(){return this.oa.Ty()}Uy(){return this.oa.Uy()}Az(){return this.oa.Az()}Eo(h){return this.oa.Eo(h)}J(){return this.fe}mr(){return this.oa.mr()}Fq(h){return h.bb?
h.jN(this.J()):this.J()===h}xQ(){if(!this.Bb().KV)throw Error("object does not support scene graph");}fk(){return null!==this.Ha()}Ha(){var h=this.B();return h?(h=h.Ha())?h.Ea():null:null}oz(){var h=this.B();return h?(h=h.oz())?h.Ea():null:null}*Xx(){const h=this.B();if(h)for(const m of h.Xx())yield m.Ea()}mf(){const h=this.B();return h?h.mf():!1}ff(){const h=this.B();return h?h.ff().map(m=>m.Ea()):[]}*children(){const h=this.B();if(h)for(const m of h.children())yield m.Ea()}*Yk(){const h=this.B();
if(h)for(const m of h.Yk())yield m.Ea()}Ry(){const h=this.B();return h?h.Ry():0}JE(h){const m=this.B();return m?(h=m.JE(h))?h.Ea():null:null}Cm(h,m){this.xQ();h.xQ();this.B().Cm(h.B(),m||{})}jk(h){const m=this.B();m&&m.jk(h.B())}Wy(){const h=this.B();return h?h.Wy():!1}r6(){var h=this.B();if(h&&(h=h.MN()))for(const m of h)if(h=this.j.Gh(m[2])){const n=m[3];this.Cm(h,{Jt:!!(n>>0&1),Kt:!!(n>>1&1),Cq:!!(n>>2&1),Bq:!!(n>>3&1),It:!!(n>>4&1),Kx:!!(n>>5&1),Lt:!!(n>>6&1)})}}hc(){return null!==this.Hd}Jr(h){this.Hd.push(h)}t1(h){return!!this.SN(h)}SN(h){const m=
this.Hd;if(null===m||0===m.length)return!1;for(const n of m)if(n.J()===h)return n;return null}aj(){for(const h of this.Hd)h.J().Y().mk(h)}Qaa(){for(const h of this.Hd)h.J().Y().mv(h)}Eca(h){for(const m of this.Hd)m.J().Y().H[h]=m}Paa(){for(const h of this.Hd)h.J().Y().qp(h)}Dca(h){for(const m of this.Hd)m.J().Y().Dc[h]=m}Bb(){return this.fe.Bb()}TS(h){this.mU=h}Co(){this.fe.NA();return this.mU}rN(h){const m=this.nd;for(let n=0,p=m.length;n<p;++n)if(m[n].Ig().mb===h)return n;return-1}Je(h){h|=0;const m=
this.vf;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");return m[h]}G9(h){const m=this.vf[h];return 0===this.fe.cu(h)?!!m:m}Sm(h,m){h|=0;const n=this.vf;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.fe.cu(h)){case 0:n[h]=m?1:0;break;case 1:n[h]="number"===typeof m?m:parseFloat(m);break;case 2:n[h]="string"===typeof m?m:m.toString();break;default:throw Error("unknown instance variable type");}}J5(h,m){if(0!==m){h|=0;var n=this.vf;if(0>h||h>=
n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof m?n[h]+m:n[h]+parseFloat(m);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Jh(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}ku(){let h=l.get(this);if(h)return h;h=new Map;l.set(this,h);return h}JR(h){const m=
this.J();if(m.ke.fF(h))return!0;for(const n of m.Zh)if(n.ke.fF(h))return!0;return this.j.ke.fF(h)?!0:!1}MA(){const h=new Set;h.add(this);const m=this.B();if(m&&m.mf())for(const n of this.Yk())if(h.add(n),n.hc())for(const p of n.Hd)h.add(p);if(this.hc())for(const n of this.Hd)h.add(n);for(const n of h.values())n.hT()}hT(){if(this.JR("instancecreate")){const h=this.J(),m=new d.Event("instancecreate");m.instance=this.Hh();h.Dh(m);for(const n of h.Zh)n.Dh(m);this.j.Dh(m)}this.j.Oa(this.Bb().constructor.P.J3,
this,null)}cda(){this.j.Oa(this.Bb().constructor.P.K3,this,null)}o9(h){if(this.se){var m=new d.Event("destroy");m.dga=h;this.Dh(m)}if(this.JR("instancedestroy")){m=this.J();var n=new d.Event("instancedestroy");n.instance=this.Hh();n.dga=h;m.Dh(n);for(const p of m.Zh)p.Dh(n);this.j.Dh(n)}}Bc(h="full"){const m={};"full"===h?m.uid=this.xc:m.c3=!0;if("visual-state"!==h){var n=g.get(this);n&&n.size&&(m.ex=d.DG(n));-1!==this.Jd&&(m.mts=this.Jd);if(0<this.fe.wj.length){n={};var p=this.fe.x0();for(let q=
0,u=this.vf.length;q<u;++q)n[p[q].toString()]=this.vf[q];m.ivs=n}if(this.nd.length){n={};for(const q of this.nd)(p=q.Bc())&&(n[q.Ig().mb.toString()]=p);m.behs=n}}this.Va&&(m.w=this.Va.la(h));(h=this.oa.Bc())&&(m.data=h);return m}zA(h="full"){this.Va&&this.Va.zA(h)}lc(h,m="full"){if("full"===m)this.xc=h.uid;else if(!h.c3)return;if("visual-state"!==m){var n=g.get(this);n&&(n.clear(),g.delete(this));if(n=h.ex)n=d.CE(n),g.set(this,n);this.Jd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,w]of Object.entries(n))if(n=
this.fe.w0(parseInt(u,10)),!(0>n||n>=this.vf.length)){var p=w;null===p&&(p=NaN);this.vf[n]=p}}if(this.Bb().zf){n=h.w;var q=n.l;this.Va.da().mb!==q&&(p=this.Va.da(),(q=p.fc().cz(q))?(this.Va.pv(q),p.rp(this,!0),q.Xg(this,!0),q.Vg(),this.Va.ma()):"full"===m&&this.j.xo(this));this.Va.qa(n,m)}if("visual-state"!==m&&(m=h.behs))for(const [u,w]of Object.entries(m))m=this.rN(parseInt(u,10)),0>m||m>=this.nd.length||this.nd[m].lc(w);(h=h.data)&&this.oa.lc(h)}Hh(){return this.se||this.PR()}PR(){var h=this.Va?
self.vz:a;const m=this.oa.Kh(),n=this.fe.vU,p=n||m||h;a.Yg(this);this.se=new p;a.Yg(null);if(m&&!(this.se instanceof h))throw new TypeError(`script interface class '${m.name}' does not extend the right base class '${h.name}'`);if(n&&(h=m||h,!(this.se instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.se}F9(h){if(0!==this.vf.length){var m={},n=this.fe.y9();for(let p=0,q=n.length;p<q;++p)m[n[p]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.G9.bind(this,p),set:d.Instance.prototype.Sm.bind(this,p)};m=Object.create(Object.prototype,m);h.Uqa={value:m,writable:!1}}}A9(h){var m=this.nd;if(0!==m.length){var n={};for(const p of m)n[p.Ig().Ki()]={value:p.Uq(),writable:!1};m=Object.create(Object.prototype,n);h.Ix={value:m,writable:!1}}}Dh(h){h.instance=this.Hh();var m=this.j;(m=m.Jb&&!m.na().pu())&&b.zG();this.Hh().dispatchEvent(h);m&&b.fE()}}}
{"use strict";const d=self.D;d.f5=class extends d.ka{constructor(b){super();this.tc=b;this.Ic=null;this.fB=[];this.fD=b.ea();this.dD=b.$();this.QK=this.PK=1;this.JC=0}A(){this.Ic=null;d.G(this.fB)}bQ(b){this.JC=(this.Ic=b)?b.Da():0}Ha(){return this.Ic}mf(){return 0<this.fB.length}ff(){return this.fB}X5(b){this.PK=b}Y5(b){this.QK=b}Zj(){return this.tc.Io()?this.Ic.ea()/this.Ic.Qb.fD:1}$j(){return this.tc.Ho()?this.Ic.$()/this.Ic.Qb.dD:1}la(){return{sw:this.fD,sh:this.dD,sx:this.PK,sy:this.QK,psa:this.JC,
c:this.fB.map(b=>{let a="";b.Jo()&&(a+="x");b.Ko()&&(a+="y");b.Io()&&(a+="w");b.Ho()&&(a+="h");b.pz()&&(a+="a");b.qz()&&(a+="z");b.Wy()&&(a+="d");return{uid:b.Ea().xc,f:a}})}}qa(b){this.fD=b.sw;this.dD=b.sh;this.PK=b.sx;this.QK=b.sy;this.JC=b.psa}jv(b){const a=this.tc,e=a.I();for(const c of b.c){b=e.Gh(c.uid).B();const g=c.f,l={};l.Jt=g.includes("x");l.Kt=g.includes("y");l.Cq=g.includes("w");l.Bq=g.includes("h");l.It=g.includes("a");l.Lt=g.includes("z");l.Kx=g.includes("d");a.Cm(b,l)}}}}
{"use strict";const d=self.D,b=d.C(d.Rect),a=d.C(d.Cd),e=d.C(d.Event,"bboxchange",!1),c=d.C(d.eb,0,0,0,0),g=d.C(d.vo),l=d.C(d.eb,1,1,1,1),h=d.C(d.Rect,0,0,-1,-1),m=d.C(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;d.h7=class extends d.ka{constructor(r,v){super();this.L=r;this.N=r.J();this.j=r.I();this.Jk=v;this.Xk=-1;this.wa=196635;this.N.Bb().To()&&(this.wa|=128);this.Vs=this.Us=this.yI=this.EK=this.$a=this.$c=this.ih=this.yh=this.gd=this.ba=
this.ja=NaN;this.pI=d.C(d.Rect);this.qI=d.C(d.Cd);this.gB=m;this.Tw=h;this.ri=this.nt=this.aD=null;this.Dp=this.gb=l;this.sg=this.oq=null;this.L.J().wQ()&&(this.sg=d.C(d.u2,this.L,this));this.ki=this.Qb=null}pH(){this.wa|=256}A(){this.oq&&(this.j.lb().iP(this.oq),this.oq=null);this.aD=null;this.nt&&(this.nt.RW.A(),this.nt=null);this.ri&&(this.ri.clear(),this.ri=null);this.Qz();this.fk()&&this.Ha().jk(this);if(this.mf()){const r=[...this.ff()];for(const v of r)this.jk(v)}this.CA();this.Jk=this.j=this.N=
this.L=null}Mo(r){q=!1;this.Dd(r[0],r[1]);this.qf(r[2]);this.vd(r[3],r[4]);this.$c=0;this.To()?this.Cc(r[6]):this.$a=0;c.ym(r[7]);this.EA(c);this.Br(r[8]);this.Cr(r[9]);this.fg(r[10]);this.sg&&this.sg.D$(r[12]);r[14]&&u.set(this,{lfa:r[14][1],hha:r[14][2]});if(r[15]){var v=r[15];this.tE(v[0],v[1]);r=this.ck();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.Qq(z,y);J.ig(H[0]);J.jg(H[1]);J.qf(H[2]);J.sG(H[3]);J.tG(H[4])}}}q=!0;this.Wr()}d2(){this.EK=
this.$a=this.$c=this.ih=this.yh=this.gd=this.ba=this.ja=0;this.yI=1;this.Vs=this.Us=0;this.Wr()}I(){return this.j}J(){return this.N}Ea(){return this.L}Yu(){return this.pz()?this.Ha().Da()-this.Qb.JC:0}ig(r){r=+r;if(this.Jo()){const v=this.Qb;r-=this.ga();const y=-this.Yu();0===y?this.ja+=r/v.Zj():(this.ja+=Math.cos(y)*r/v.Zj(),this.Ko()&&(this.ba+=Math.sin(y)*r/v.$j()))}else this.ja=r}NO(r){r=+r;this.Jo()?this.ig(this.ga()+r):this.ja+=r}ga(){if(this.Jo()){let r=this.ja;const v=this.Qb,y=this.Ha(),
A=this.Yu();0===A?r*=v.Zj():(r=r*v.Zj()*Math.cos(A),this.Ko()&&(r-=this.ba*v.$j()*Math.sin(A)));return y.ga()+r}return this.ja}jg(r){r=+r;if(this.Ko()){const v=this.Qb;r-=this.ia();const y=-this.Yu();0===y?this.ba+=r/v.$j():(this.Jo()&&(this.ja-=Math.sin(y)*r/v.Zj()),this.ba+=Math.cos(y)*r/v.$j())}else this.ba=r}OO(r){r=+r;this.Ko()?this.jg(this.ia()+r):this.ba+=r}ia(){if(this.Ko()){let r=this.ba;const v=this.Qb,y=this.Ha(),A=this.Yu();0===A?r*=v.$j():(r=r*v.$j()*Math.cos(A),this.Jo()&&(r+=this.ja*
v.Zj()*Math.sin(A)));return y.ia()+r}return this.ba}Dd(r,v){r=+r;v=+v;if(this.WN()){const A=this.Jo(),G=this.Ko(),z=this.Qb,F=r-this.ga(),H=v-this.ia();var y=-this.Yu();if(0===y)this.ja=A?this.ja+F/z.Zj():r,this.ba=G?this.ba+H/z.$j():v;else{const J=Math.sin(y);y=Math.cos(y);this.ja=A?G?this.ja+(y*F-J*H)/z.Zj():this.ja+y*F/z.Zj():r;this.ba=G?A?this.ba+(J*F+y*H)/z.$j():this.ba+y*H/z.$j():v}}else this.ja=r,this.ba=v}Om(r,v){r=+r;v=+v;this.WN()?this.Dd(this.ga()+r,this.ia()+v):(this.ja+=r,this.ba+=v)}s_(r,
v){return this.ga()===r&&this.ia()===v}qf(r){r=+r;this.qz()&&(r-=this.Ha().fb());this.gd!==r&&(this.gd=r,this.sT(),r=this.da(),0!==this.gd&&r.NS(),r.Vg())}sT(){this.Wr();if(this.mf()){const r=this.ff();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.qz()&&A.sT()}}}D3(r){this.qf(this.fb()+r)}fb(){return this.qz()?this.Ha().fb()+this.gd:this.gd}Lh(){return this.da().fb()+this.fb()}bj(r){r=+r;if(this.Io()){const v=this.ea();this.yh=0===v?1E-6:r/v*this.yh}else this.yh=r}MO(r){r=+r;this.Io()?this.bj(this.ea()+
r):this.yh+=r}ea(){return this.Io()?this.Ha().ea()*this.yh:this.yh}Vi(r){r=+r;if(this.Ho()){const v=this.$();this.ih=0===v?1E-6:r/v*this.ih}else this.ih=r}LO(r){r=+r;this.Ho()?this.Vi(this.$()+r):this.ih+=r}$(){return this.Ho()?this.Ha().$()*this.ih:this.ih}vd(r,v){r=+r;v=+v;if(this.Io()){const y=this.ea();this.yh=0===y?1E-6:r/y*this.yh}else this.yh=r;this.Ho()?(r=this.$(),this.ih=0===r?1E-6:v/r*this.ih):this.ih=v}U0(){if(this.fk()){const r=this.Qb;return Math.min(r.Zj(),r.$j())}return 1}To(){return 0!==
(this.wa&128)}Cc(r){r=+r;this.To()&&(this.pz()&&(r-=this.Ha().Da()),r=d.qd(r),this.$a!==r&&(this.$a=r,this.qH()))}z3(r){r=+r;0!==r&&this.To()&&(this.$a=d.qd(this.$a+r),this.qH())}qH(){this.wa|=262144;if(this.mf()){const r=this.ff();for(let v=0,y=r.length;v<y;v++)r[v].qH()}}Da(){return this.pz()?d.qd(this.Ha().Da()+this.$a):this.$a}hS(){const r=this.wa;if(0!==(r&262144)){var v=this.Da();this.EK=Math.sin(v);this.yI=Math.cos(v);this.wa=r&-262145}}ZE(){this.hS();return this.EK}KE(){this.hS();return this.yI}Br(r){this.Us=
+r}B3(r){this.Us+=+r}jl(){return this.Us}Cr(r){this.Vs=+r}C3(r){this.Vs+=+r}kl(){return this.Vs}EA(r){this.gb.rd(r)||(this.gb===l?(this.gb=d.C(d.eb,r),this.Dp=d.C(d.eb,r),this.Dp.cM()):r.ED(1,1,1,1)?this.Dp=this.gb=l:(this.gb.set(r),this.Dp.set(r),this.Dp.cM()),this.Wr())}Wi(r){r=d.T(+r,0,1);this.gb.zq!==r&&(c.Hj(this.gb),c.zq=r,this.EA(c))}A3(r){this.Wi(this.Vd()+r)}Vd(){return this.gb.zq}hQ(r){this.gb.vm(r)||(c.Hj(r),c.zq=this.gb.zq,this.EA(c))}k6(r,v,y){c.Ht(r,v,y);this.hQ(c)}XE(){return this.Dp}Wy(){return 0!==
(this.wa&512)}v5(r){this.Re(512,r)}Jo(){return 0!==(this.wa&1024)}f6(r){this.Re(1024,r)}Ko(){return 0!==(this.wa&2048)}WN(){return 0!==(this.wa&3072)}g6(r){this.Re(2048,r)}Io(){return 0!==(this.wa&4096)}e6(r){this.Re(4096,r)}Ho(){return 0!==(this.wa&8192)}d6(r){this.Re(8192,r)}pz(){return 0!==(this.wa&16384)}c6(r){this.Re(16384,r)}qz(){return 0!==(this.wa&32768)}h6(r){this.Re(32768,r)}QQ(){this.wa&=-65025}Cm(r,v){if(r!==this&&!r.fk()&&!this.LR(r)&&!this.KR(r)){var y=r.ga(),A=r.ia(),G=r.ea(),z=r.$(),
F=r.Da(),H=r.fb();r.XS(this);r.f6(v.Jt);r.g6(v.Kt);r.e6(v.Cq);r.d6(v.Bq);r.c6(v.It);r.h6(v.Lt);r.v5(v.Kx);v.Jt&&(r.ja=y-this.ga(),v.Cq&&(r.ja/=this.ea()/this.Qb.fD));v.Kt&&(r.ba=A-this.ia(),v.Bq&&(r.ba/=this.$()/this.Qb.dD));v.Cq&&(r.yh=G/this.ea(),r.Qb.X5(r.yh));v.Bq&&(r.ih=z/this.$(),r.Qb.Y5(r.ih));v.It&&(r.$a=F-this.Da());v.Lt&&(r.gd=H-this.fb());this.p7(r);this.ma()}}jk(r){if(r.Ha()===this){var v=r.ga(),y=r.ia(),A=r.ea(),G=r.$(),z=r.Da(),F=r.fb();r.XS(null);r.QQ();r.Dd(v,y);r.vd(A,G);r.Cc(z);
r.qf(F);this.dba(r);this.ma()}}lba(){for(var r of this.children())this.jk(r);(r=this.Ha())&&r.jk(this);this.QQ()}fk(){return null!==this.Ha()}Ha(){const r=this.Qb;return null!==r?r.Ha():null}oz(){let r=this;for(;r.fk();)r=r.Ha();return r}*Xx(){let r=this.Ha();for(;r;)yield r,r=r.Ha()}o1(r){return this.ff().includes(r)}mf(){const r=this.Qb;return null!==r?r.mf():!1}ff(){const r=this.Qb;return null!==r?r.ff():p}children(){return this.ff()}*Yk(){for(const r of this.children())yield r,yield*r.Yk()}Ry(){return this.ff().length}JE(r){const v=
this.ff();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}QG(r){this.Qb||(this.Qb=d.C(d.f5,this));r&&this.Qb.bQ(r)}CA(){this.Qb&&(this.Qb.A(),this.Qb=null)}XS(r){r?(r.QG(null),this.QG(r)):(this.Qb&&this.Qb.bQ(null),this.mf()||this.CA())}KR(r){if(!this.fk())return!1;const v=this.Ha();return v===r?!0:v.KR(r)}LR(r){if(this.o1(r))return!0;for(const v of this.ff())if(v.LR(r))return!0;return!1}p7(r){this.Qb.ff().push(r)}dba(r){const v=this.Qb.ff(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.fk()||
this.CA();r.mf()||r.CA()}MN(){const r=u.get(this);return r?r.lfa:null}V0(){const r=u.get(this);return r?r.hha:NaN}Sq(){const r=w.get(this);return d.ag(r)?r:NaN}nG(r){w.set(this,r)}Wr(){if(q){var r=this.j.lb();this.oq&&r.iP(this.oq);this.oq=r.CX(0!==(this.wa&524288)?r.bD||"<point>":r.cD||"<default>",this.Qj(),this.Dp,this.fb())}}Wq(){return this.gb===l}fg(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.Qj()!==r&&(this.wa=this.wa&-2080374785|r<<26,this.Wr())}Qj(){return(this.wa&
2080374784)>>26}pv(r){this.Jk=r;0!==this.fb()&&this.Jk.NS()}da(){return this.Jk}fc(){return this.da().fc()}KA(r){this.Xk=r|0}ek(){this.Jk.tv();return this.Xk}Re(r,v){this.wa=v?this.wa|r:this.wa&~r}Mc(){return 0!==(this.wa&1)}hg(r){this.Re(1,r)}Pg(){return 0!==(this.wa&8)}Cu(r){r=!!r;this.Pg()!==r&&(this.Re(8,r),r?this.ma():this.wS())}pG(r,v){this.Re(32,r);this.ri&&this.ri.clear();if(v.trim()){this.ri||(this.ri=new Set);for(const y of v.split(" "))y&&this.ri.add(y.toLowerCase())}else this.ri=null}EF(r){const v=
0!==(this.wa&32),y=this.ri;if(!r||!y)return!v;for(const A of y)if(r.has(A))return v;return!v}ma(){this.wa|=65554;this.N.MS();this.j.fa();this.Jk.mp()&&(this.ry(this.pI,this.qI,!0),this.wa&=-3,this.kda());0!==(this.wa&4)&&this.L.Xb().dispatchEvent(e);if(null!==this.Qb){const r=this.Qb.ff();for(let v=0,y=r.length;v<y;++v)r[v].ma()}}ry(r,v,y){const A=this.ga(),G=this.ia(),z=this.ea(),F=this.$(),H=this.Da();r.zh(A-this.Us*z,G-this.Vs*F,z,F);y&&this.Zf()&&this.g9(r);0===H?v.Mj(r):(r.offset(-A,-G),v.bX(r,
this.ZE(),this.KE()),v.offset(A,G),v.HL(r));r.normalize()}nT(){const r=this.wa;0!==(r&2)&&(this.ry(this.pI,this.qI,!0),this.wa=r&-3)}Lc(){this.nT();return this.pI}Rj(){this.nT();return this.qI}aP(r){var v=this.ga(),y=this.ia();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;a.pa(r);a.offset(v,y);return a}p5(r){this.Re(4,r)}iO(){return 0!==(this.wa&4)}qO(r,v,y){return v&&0!==this.$c?this.br(this.da().Nr()):0===this.fb()||y?r.LD(this.Lc()):this.t$()}t$(){const r=this.da(),v=this.Lh();if(v>=
r.Wt())return!1;r.YN(v,b);return b.LD(this.Lc())}br(r){var v=this.Lc();const y=v.R,A=v.aa,G=v.O;v=v.W;const z=this.Lh();return r.NY(y,G,z,A,v,z+this.$c)}FA(r){this.Re(1048576,r)}HA(r){this.Re(2097152,r)}qG(r){this.aD=r;this.YG();this.Zf()&&(this.ki.SL=null)}sz(){return null!==this.aD||this.Zf()}ll(){return this.C9(this.ea(),this.$(),this.Da(),this.ZE(),this.KE())}C9(r,v,y,A,G){let z=this.nt;null===z&&(this.nt=z={RW:d.C(d.vo),width:NaN,height:NaN,angle:NaN});const F=z.RW;if(z.width===r&&z.height===
v&&z.angle===y)return F;const H=this.aD;if(this.Zf()){const J=this.jl(),L=this.kl(),P=this.ck();let R=this.ki.SL;R||(H?(g.pa(H),g.offset(J,L)):g.Kga(),R=P.t2(g),this.ki.SL=R);P.M6(R,F);F.offset(-J,-L);F.qM(r,v,A,G)}else H?(F.pa(H),F.qM(r,v,A,G)):F.kM(this.Rj(),-this.ga(),-this.ia());z.width=r;z.height=v;z.angle=y;return F}YG(){this.R5();const r=this.nt;null!==r&&(r.width=NaN)}tE(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.Ea().Bb().Sea)throw Error("object does not support mesh");this.Qz();this.ki=
{mM:d.C(d.K.HO,r,v),mX:d.C(d.K.HO,r,v),SL:null}}Zf(){return null!==this.ki}ck(){if(!this.Zf())throw Error("no mesh");return this.ki.mM}XN(){if(!this.Zf())throw Error("no mesh");return this.ki.mX}kG(r){this.Re(65536,r)}tO(){return 0!==(this.wa&65536)}R5(){this.Re(131072,!0)}g9(r){const v=this.ki.mM,y=Math.min(v.J0(),0),A=Math.min(v.K0(),0),G=Math.max(v.G0(),1),z=Math.max(v.H0(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.xga((G-1)*F);r.wga((z-1)*H);this.$c=v.I0()}Qz(){this.ki&&
(this.ki.mM.A(),this.ki.mX.A(),this.ki=null,this.YG())}YP(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.gy;let H="number"===typeof y.rX?y.rX:A?0:-1;y="number"===typeof y.uX?y.uX:A?0:-1;if(!this.Zf())return!1;const J=this.ck(),L=J.Qq(r,v);if(null===L)return!1;let P=!1;"number"===typeof F&&L.fb()!==F&&(L.qf(F),P=!0);A&&(G+=r/(J.Ek-1),z+=v/(J.Tk-1));-1!==H||A?(A&&(H+=r/(J.Ek-1)),H=d.T(H,0,1)):H=L.vh;
-1!==y||A?(A&&(y+=v/(J.Tk-1)),y=d.T(y,0,1)):y=L.xh;if(L.ga()===G&&L.ia()===z&&L.vh===H&&L.xh===y)return P;L.ig(G);L.jg(z);L.sG(H);L.tG(y);this.YG();return!0}ml(){return this.L.ml()}NM(r,v){return this.Lc().Mf(r,v)&&this.Rj().Mf(r,v)?this.ml()?void 0:this.sz()?this.ll().Mf(r-this.ga(),v-this.ia()):!0:!1}r$(){return 0!==(this.wa&16)}oT(){if(this.r$()&&this.Pg()&&0===(this.wa&256)){var r=this.Lc(),v=this.N.hB,y=this.gB;b.set(v.cj(r.R),v.dj(r.O),v.cj(r.aa),v.dj(r.W));y.rd(b)||(r=this.L,y===m?(v.kp(r,
null,b),this.gB=d.C(d.Rect,b)):(v.kp(r,y,b),y.pa(b)),this.wa&=-17)}}wS(){const r=this.gB;r!==m&&(this.N.hB.kp(this.L,r,null),this.gB=m)}kda(){const r=this.da();if(r.mp()&&0===(this.wa&256)){var v=r.$s,y=this.Lc(),A=this.Tw;b.set(v.cj(y.R),v.dj(y.O),v.cj(y.aa),v.dj(y.W));A.rd(b)||(y=this.L,A===h?(v.kp(y,null,b),this.Tw=d.C(d.Rect,b)):(v.kp(y,A,b),A.pa(b)),r.U5())}}xS(){const r=this.Tw;r!==h&&(this.da().$s.kp(this.L,r,null),this.Tw=h)}m7(){const r=this.L,v=this.Jk,y=v.H;y.length&&y.le(-1)===r||(v.rp(r,
!1),v.Xg(r,!1),this.j.fa())}k7(){const r=this.L,v=this.Jk,y=v.H;y.length&&y[0]===r||(v.rp(r,!1),v.Maa(r),this.j.fa())}l7(r){const v=this.L,y=this.Jk;if(y.fc()!==r.fc())throw Error("layer from different layout");r!==y&&(y.rp(v,!0),this.pv(r),r.Xg(v,!0),this.j.fa())}j7(r,v){const y=this.L;let A=!1;const G=this.Jk;if(r.xc!==y.xc){var z=r.B();if(!z)throw Error("expected world instance");z=z.da();G.Ka()!==z.Ka()&&(G.rp(y,!0),this.pv(z),z.Xg(y,!0),A=!0);r=z.u3(y,r,!!v);(A||r)&&this.j.fa()}}rca(r){this.Re(64,
r)}mu(){return 0!==(this.wa&64)}la(r){const v={x:this.ga(),y:this.ia(),w:this.ea(),h:this.$(),l:this.da().mb,zi:this.ek()};0!==this.fb()&&(v.ze=this.fb());0!==this.Da()&&(v.a=this.Da());this.Wq()||(v.c=this.gb.toJSON());.5!==this.jl()&&(v.oX=this.jl());.5!==this.kl()&&(v.oY=this.kl());0!==this.Qj()&&(v.bm=this.Qj());this.Mc()||(v.v=this.Mc());this.Pg()||(v.ce=this.Pg());this.iO()&&(v.be=this.iO());this.sg&&(v.fx=this.sg.la());const y=0!==(this.wa&32);y&&(v.sfi=y);this.ri&&(v.sft=[...this.ri].join(" "));
this.Qb&&"visual-state"!==r&&(v.sgi=this.Qb.la());this.Zf()&&(v.mesh=this.ck().Bc());return v}zA(r){"visual-state"!==r&&this.lba()}qa(r,v){q=!1;this.ig(r.x);this.jg(r.y);this.bj(r.w);this.Vi(r.h);this.KA(r.zi);this.qf(r.hasOwnProperty("ze")?r.ze:0);this.Cc(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.ym(r.c):r.hasOwnProperty("o")?(c.Hj(this.gb),c.zq=r.o):c.mo(1,1,1,1);this.EA(c);this.Br(r.hasOwnProperty("oX")?r.oX:.5);this.Cr(r.hasOwnProperty("oY")?r.oY:.5);this.fg(r.hasOwnProperty("bm")?
r.bm:0);this.hg(r.hasOwnProperty("v")?r.v:!0);this.Cu(r.hasOwnProperty("ce")?r.ce:!0);this.p5(r.hasOwnProperty("be")?r.be:!1);this.pG(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.sg&&r.hasOwnProperty("fx")&&this.sg.qa(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.QG(null);const y=this.Qb,A=r.sgi;y.qa(A);const G=this.I().Xb(),z=()=>{G.removeEventListener("afterload",z);0===(this.wa&256)&&y.jv(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=
r.mesh,this.tE(r.cols,r.rows),this.ck().lc(r)):this.Qz();this.ma();q=!0;this.Wr()}}}{"use strict";const d=self.D;d.xM=class extends d.ka{constructor(b,a){super();const e=b.I(),c=e.Gn,g=e.Ih(a[1]);c.n1(g)||c.SY(a);this.j=e;this.N=b;this.ij=c.Q_(g);this.Uc=null;this.SB=g.Instance;this.mb=a[2];this.Ja=a[0];this.xw=this.j.Ki(a[3]);this.Uc=d.C(g.Qh,this);this.Nc()}static Ra(b,a){return d.C(d.xM,b,a)}A(){this.ij=this.j=null;this.Uc.A();this.SB=this.Uc=null}Nc(){this.Uc.Nc()}I(){return this.j}J(){return this.N}Em(){return this.ij}Ba(){return this.Ja}Ki(){return this.xw}}}
{"use strict";const d=self.D,b=self.kF;d.ky=class extends d.ka{constructor(a){super();this.j=a.Pf;this.Yc=a.sL;this.ij=this.Yc.Em();this.L=a.instance;this.Qa=a.index;this.se=this.oa=null;this.ij.Xg(this.L)}A(){this.se&&(this.se.nv(),this.se=null);this.ij.rp(this.L);this.oa.A();this.L=this.ij=this.Yc=this.j=this.se=this.oa=null}nA(a){if(this.oa)throw Error("already got sdk instance");this.oa=d.C(this.Yc.SB,this,a);this.i$()}I(){return this.j}Ig(){return this.Yc}Em(){return this.ij}Qe(){return this.Qa}Bc(){return this.oa.Bc()}lc(a){return this.oa.lc(a)}static xG(a,
e){var c=a.L,g=e.L;const l=c.J().Ka(),h=g.J().Ka();if(l!==h)return l-h;c=c.nV;g=g.nV;return c!==g?c-g:a.ZA.Qe()-e.ZA.Qe()}i$(){const a=this.oa.Kh(),e=a||b;b.Yg(this);this.se=new e;b.Yg(null);if(a&&!(this.se instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Uq(){return this.se}}}
{"use strict";const d=self.D;d.bl=class extends d.ka{constructor(b,a){super();this.tc=b;this.Zg=[];this.mg=[];this.sB=new Map;this.Yh=[];this.Ws=!0;for(const e of a)b=d.C(d.gN,this,e,this.Zg.length),this.Zg.push(b),this.sB.set(b.Ba().toLowerCase(),b),3<=e.length&&this.Yh.push(this.mH(e[2]));this.I().r7(this)}A(){d.G(this.Zg);d.G(this.mg);this.sB.clear();d.G(this.Yh);this.tc=null}o4(b){if(b.length){this.Zg=b.concat(this.Zg);for(const a of b)this.sB.set(a.Ba().toLowerCase(),a);for(let a=0,e=this.Zg.length;a<
e;++a)this.Zg[a].GH(a)}}mH(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const g=d.C(d.eb);g.ym(c);b[a]=g}}return b}I(){return this.tc.I()}Rh(){d.G(this.mg);let b=!0;for(const a of this.Zg)a.Nb&&(this.mg.push(a),a.Yf().Ws||(b=!1));this.Ws=b}Hg(){return this.Zg}i1(){return 0<this.Zg.length}gl(b){return this.sB.get(b.toLowerCase())||null}wN(b){b=Math.floor(+b);if(0>b||b>=this.Zg.length)throw new RangeError("invalid effect type index");return this.Zg[b]}ou(b){return this.wN(b).Nb}LP(b,
a){this.wN(b).Xz(a)}mu(){return 0<this.mg.length}fl(b){return this.Yh[b]}static d5(b){return b&&b instanceof d.eb?{t:"color",v:b.toJSON()}:b}static i3(b){if("object"===typeof b){if("color"===b.t){const a=d.C(d.eb);a.ym(b.v);return a}throw Error("invalid effect parameter type");}return b}static AP(b){return b.map(d.bl.d5)}static EO(b){return b.map(d.bl.i3)}Bc(){return this.Zg.map(b=>({name:b.Ba(),active:b.Nb,params:d.bl.AP(this.Yh[b.Ka()])}))}lc(b){for(const a of b)if(b=this.gl(a.name))b.Xz(a.active),
this.Yh[b.Ka()]=d.bl.EO(a.params);this.Rh()}}}
{"use strict";const d=self.D;d.gN=class extends d.ka{constructor(b,a,e){super();this.Pa=b;this.Vb=a[0];this.Ja=a[1];this.Qa=e;this.ed=null;this.Nb=!0}A(){this.ed=this.Pa=null}DY(b){b=d.C(d.gN,b,[this.Vb,this.Ja],-1);b.ed=this.ed;b.Nb=this.Nb;return b}NR(b){b=b.RN(this.Vb);if(!b)throw Error("failed to find shader program '"+this.Vb+"'");this.ed=b}Ba(){return this.Ja}GH(b){this.Qa=b}Ka(){return this.Qa}I(){return this.Pa.I()}Xz(b){this.Nb=!!b}Yf(){return this.ed}Y_(){const b=[];for(let a=0,e=this.ed.xq.length;a<
e;++a){const c=this.ed.gz(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(d.C(d.eb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const d=self.D;d.u2=class extends d.ka{constructor(b,a){super();this.L=b;this.bW=a;this.Pa=b.J().Pa;this.Gx=this.gK=!0;this.aW=this.$V=this.YV=!1;this.Xh=d.C(d.K.Fe,b.I().U.GI,{DD:(e,c)=>{c=c.jn;const g=c.B();e.Qm(g.XE());e.Du(g.Lh());c.Sf(e);e.Du(0)},AW:e=>{const c=e.Uy(),[g,l]=e.Ty();return{iX:c,jX:g,hX:l}},ID:e=>this.fl(e)});this.wp=[];this.mg=[];this.Ws=!0;this.Yh=[];for(const e of this.Pa.Hg())this.wp.push(!0);this.Rh()}A(){this.Xh.A();this.Xh=null;d.G(this.wp);d.G(this.mg);d.G(this.Yh);
this.Pa=this.L=null}D$(b){for(const a of b)this.Yh.push(this.mH(a))}mH(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const g=d.C(d.eb);g.ym(c);b[a]=g}}return b}f3(){for(const b of this.Pa.Hg())this.Yh.push(b.Y_())}Hi(){this.gv();return this.Xh}I(){return this.L.I()}Rh(){d.G(this.mg);const b=this.bW,a=this.Pa.Hg(),e=this.mg,c=this.wp;let g=!0;for(let l=0,h=a.length;l<h;++l)if(c[l]){const m=a[l];e.push(m);m.Yf().Ws||(g=!1)}this.Ws=g;b.rca(!!e.length);this.gK=!0}gv(){const b=
this.L;var a=this.bW;const e=a.Wq(),c=0<a.$c;a=0!==a.Da()||0>a.ea()||0>a.$();const g=b.Az();if(this.gK||e!==this.Gx||c!==this.YV||a!==this.$V||g!==this.aW)this.Xh.lE(this.mg.map(l=>l.Yf()),{xt:this.mg.map(l=>l.Ka()),GD:!e||b.fr(),ML:c,QL:g,GW:a}),this.gK=!1,this.Gx=e,this.YV=c,this.$V=a,this.aW=g}fl(b){return this.Yh[b]}ou(b){return this.wp[b]}LP(b,a){this.wp[b]=!!a}Hg(){return this.Pa.Hg()}la(){return this.Pa.Hg().map(b=>({name:b.Ba(),active:this.wp[b.Ka()],params:d.bl.AP(this.Yh[b.Ka()])}))}qa(b){for(const a of b)if(b=
this.Pa.gl(a.name))this.wp[b.Ka()]=a.active,this.Yh[b.Ka()]=d.bl.EO(a.params);this.Rh()}}}
{"use strict";const d=self.D,b=[],a=[],e=d.C(d.vo),c=d.C(d.vo),g=d.C(d.Cd);d.C(d.Rect);d.C(d.Rect);let l=null,h=null,m=null;d.EY=class extends d.ka{constructor(n){super();this.j=n;this.Sw=[]}A(){this.j=null}zu(n,p){const q=n.B(),u=p.B();q&&u&&q.Pg()&&u.Pg()&&this.Sw.push([n,p])}wM(n,p,q){for(const [u,w]of this.Sw){let r;if(n===u)r=w;else if(n===w)r=u;else continue;r.Fq(p)&&(q.includes(r)||q.push(r))}}IM(n,p){if(!this.Sw.length)return!1;for(const [q,u]of this.Sw)if(n===q&&p===u||n===u&&p===q)return!0;
return!1}JM(){d.G(this.Sw)}qk(n,p){if(!n||!p||n===p)return!1;n=n.B();p=p.B();if(!n.Pg()||!p.Pg())return!1;const q=n.da(),u=p.da();return q.T2(u)?this.$ca(n,p):this.Zca(n,p)}$ca(n,p){if(!n.Lc().LD(p.Lc())||!n.Rj().KL(p.Rj())||n.ml()&&p.ml())return!1;if(n.ml())return this.CG(n,p);if(p.ml())return this.CG(p,n);if(!n.sz()&&!p.sz())return!0;const q=n.ll(),u=p.ll();return q.Px(u,p.ga()-n.ga(),p.ia()-n.ia())}Zca(n,p){var q=n.ml(),u=p.ml();if(q&&!u)return this.nQ(n,p);if(u&&!q)return this.nQ(p,n);if(u||q)return!1;
u=n.da();q=p.da();e.pa(n.ll());c.pa(p.ll());var w=e.Sd;for(let r=0,v=w.length;r<v;r+=2){const y=r+1,A=w[y],[G,z]=u.Wo(w[r]+n.ga(),A+n.ia());w[r]=G;w[y]=z}n=c.Sd;for(let r=0,v=n.length;r<v;r+=2){u=r+1;w=n[u];const [y,A]=q.Wo(n[r]+p.ga(),w+p.ia());n[r]=y;n[u]=A}e.jM();c.jM();return e.Px(c,0,0)}nQ(n,p){var q=n.da(),u=p.da();l||(l=d.C(d.vo));h||(h=d.C(d.Rect));m||(m=d.C(d.Cd));var w=p.ga(),r=p.ia();const [v,y]=u.Wo(w,r),[A,G]=q.so(v,y);q=A-w;r=G-r;h.pa(p.Lc());h.offset(q,r);if(!n.Lc().LD(h))return!1;
m.pa(p.Rj());m.offset(q,r);if(!n.Rj().KL(m))return!1;l.pa(p.ll());u=l.Sd;for(let z=0,F=u.length;z<F;z+=2)w=z+1,u[z]+=q,u[w]+=r;l.jM();return this.CG(n,p,A,G,l,h,m)}CG(n,p,q,u,w,r,v){r=void 0!==r?r:p.Lc();const y=n.ga(),A=n.ia();var G=n.Ea().oa;q=void 0!==q?q:p.ga();u=void 0!==u?u:p.ia();n=p.sz();v=void 0!==v?v:p.Rj();G.Xia(r,a);for(let H=0,J=a.length;H<J;++H){var z=a[H];G=z.bja();if(r.$fa(G,y,A)&&(g.Mj(G),g.offset(y,A),g.KL(v)))if(n){var F=void 0!==w?w:p.ll();if(z=z.P0()){if(z.Px(F,q-(y+G.R),u-(A+
G.O)))return d.G(a),!0}else if(e.kM(g,0,0),e.Px(F,q,u))return d.G(a),!0}else if(F=z.P0()){if(e.kM(v,0,0),F.Px(e,-(y+G.R),-(A+G.O)))return d.G(a),!0}else return d.G(a),!0}d.G(a);return!1}Sy(n,p,q,u){n=n?1!==n.Df||1!==n.Ef:!1;if(p.bb)for(const w of p.Jp)n||w.dI?d.qm(u,w.ta()):(w.lT(),w.hB.Oz(q,u));else n||p.dI?d.qm(u,p.ta()):(p.lT(),p.hB.Oz(q,u))}L0(n,p,q,u){for(const w of p)this.Sy(n,w,q,u)}W0(n,p,q){const u=this.j.$E();u&&this.L0(n,u.WE(),p,q)}EF(n,p){return n.VR()&&(!p||p.B().EF(n.Jh().get("solidTags")))}Ph(n){const p=
n.B();this.W0(p.da(),p.Lc(),b);for(const q of b)if(this.EF(q,n)&&this.qk(n,q))return d.G(b),q;d.G(b);return null}v4(n,p,q,u,w){u=u||50;const r=n.B(),v=r.ga(),y=r.ia();for(let A=0;A<u;++A)if(r.Dd(v+p*A,y+q*A),r.ma(),!this.qk(n,w))return;r.Dd(v,y);r.ma()}Mz(n,p,q,u){u=u||50;const w=n.B(),r=w.ga(),v=w.ia();let y=null,A=null;for(let G=0;G<u;++G)if(w.Dd(r+p*G,v+q*G),w.ma(),!this.qk(n,y))if(y=this.Ph(n))A=y;else if(!y)return A&&this.u4(n,p,q,A),!0;w.Dd(r,v);w.ma();return!1}u4(n,p,q,u){let w=2,r=!1;var v=
!1;const y=n.B();let A=y.ga(),G=y.ia();for(;16>=w;)v=1/w,w*=2,y.Om(p*v*(r?1:-1),q*v*(r?1:-1)),y.ma(),this.qk(n,u)||this.Ph(n)?v=r=!0:(v=r=!1,A=y.ga(),G=y.ia());v&&(y.Dd(A,G),y.ma())}QF(n,p=100){let q=0;const u=n.B(),w=u.ga(),r=u.ia();let v=0,y=this.Ph(n);if(!y)return!0;for(;q<=p;){let A=0,G=0;switch(v){case 0:A=0;G=-1;q++;break;case 1:A=1;G=-1;break;case 2:A=1;G=0;break;case 3:G=A=1;break;case 4:A=0;G=1;break;case 5:A=-1;G=1;break;case 6:A=-1;G=0;break;case 7:G=A=-1}v=(v+1)%8;u.Dd(Math.floor(w+A*
q),Math.floor(r+G*q));u.ma();if(!this.qk(n,y)&&(y=this.Ph(n),!y))return!0}u.Dd(w,r);u.ma();return!1}CM(n,p,q,u){const w=n.B(),r=w.ga(),v=w.ia(),y=Math.max(10,d.tm(p,q,r,v));var A=d.pm(p,q,r,v),G=u||this.Ph(n);if(!G)return d.qd(A+Math.PI);let z=G;var F=0,H=0;const J=d.Ua(5);let L;for(L=1;36>L;++L){const P=A-L*J;w.Dd(p+Math.cos(P)*y,q+Math.sin(P)*y);w.ma();if(!this.qk(n,z)&&(z=u?null:this.Ph(n),!z)){F=P;break}}36===L&&(F=d.qd(A+Math.PI));z=G;for(L=1;36>L;++L)if(G=A+L*J,w.Dd(p+Math.cos(G)*y,q+Math.sin(G)*
y),w.ma(),!this.qk(n,z)&&(z=u?null:this.Ph(n),!z)){H=G;break}36===L&&(H=d.qd(A+Math.PI));w.Dd(r,v);w.ma();if(H===F)return H;n=d.Aq(H,F)/2;n=d.cf(H,F)?d.qd(F+n+Math.PI):d.qd(H+n);F=Math.cos(A);A=Math.sin(A);H=Math.cos(n);n=Math.sin(n);p=F*H+A*n;return d.pm(0,0,F-2*p*H,A-2*p*n)}}}
{"use strict";const d=self.D;d.w6=class extends d.ka{constructor(b,a){super();this.tI=b;this.sI=a;this.mj=d.C(d.uu)}A(){this.mj.A();this.mj=null}Fm(b,a,e){let c=this.mj.ca(b,a);return c?c:e?(c=d.C(d.e1,this,b,a),this.mj.Set(b,a,c),c):null}cj(b){b=Math.floor(b/this.tI);return isFinite(b)?b:0}dj(b){b=Math.floor(b/this.sI);return isFinite(b)?b:0}kp(b,a,e){if(a)for(let c=a.R,g=a.aa;c<=g;++c)for(let l=a.O,h=a.W;l<=h;++l){if(e&&e.Mf(c,l))continue;const m=this.Fm(c,l,!1);m&&(m.Mh(b),m.Ro()&&this.mj.wo(c,
l))}if(e)for(let c=e.R,g=e.aa;c<=g;++c)for(let l=e.O,h=e.W;l<=h;++l)a&&a.Mf(c,l)||this.Fm(c,l,!0).pF(b)}Oz(b,a){let e=this.cj(b.R);const c=this.dj(b.O),g=this.cj(b.aa);b=this.dj(b.W);if(isFinite(g)&&isFinite(b))for(;e<=g;++e)for(let l=c;l<=b;++l){const h=this.Fm(e,l,!1);h&&h.xE(a)}}}}
{"use strict";const d=self.D;d.e1=class extends d.ka{constructor(b,a,e){super();this.ja=a;this.ba=e;this.H=d.C(d.hE)}A(){this.H.A();this.H=null}Ro(){return this.H.Ro()}pF(b){this.H.Kc(b)}Mh(b){this.H.wo(b)}xE(b){d.qm(b,this.H.EE())}}}{"use strict";const d=self.D;d.Pla=class{constructor(){this.Efa=this.Dfa=0;this.rect=new d.Rect;this.Lx=0}Set(b,a,e,c){this.Dfa=e-b;this.Efa=c-a;this.rect.set(b,a,e,c);this.rect.normalize();this.Lx=0;return this}}}
{"use strict";const d=self.D,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),e=self.Kj.wm,c=e.create(),g=d.C(d.Cd),l=d.C(d.Rect);d.GM=class extends d.ka{constructor(h){super();this.j=h;this.lj=null;this.BU=!1;this.Gj=this.ib=null;this.ZI="high-performance";this.hn=this.gn=this.ah=this.bh=this.Zc=this.od=this.ao=this.bo=0;this.wt="normalized";this.UT=0;this.us=!0;this.Qc=this.ad=this.LV=0;this.Wda=this.WT="letterbox-scale";
this.Vda=this.Uda=0;this.oB=e.create();this.ai=this.lL="high";this.Es=!1;this.Av=[];this.oD=new Set;this.UC=self.C3_Shaders;this.GI=d.C(d.K.o_,{yW:()=>[this.Uj(),this.Tj()],zW:()=>this.Z_(),WW:m=>this.C4(m),getTime:()=>this.I().Vj(),VW:()=>this.I().fa()});this.qg=this.rn=0;this.Bs=NaN;this.IB=null;this.PJ=new Map;this.Zv=NaN;this.xD=new Map;this.YC="";this.FK=1;this.zV=d.C(d.Rect);this.GK="";this.AV=this.ix=null;this.Fw=0;this.we=-1;this.Bn=0;this.VJ=m=>this.Bn=m.progress;this.Ff=null;this.Hf={Vx:null,
Yx:null,fy:null};this.KK=this.FV=this.LK=0;this.Ej="fade-in";this.JK=null;this.EV=new Promise(m=>this.JK=m)}oca(h){this.ZI=h}Mca(h){this.BU=!!h}Oca(h){this.wt=h}ica(h){this.UT=h}async Ch(h){this.lj=h.canvas;this.j.Di("runtime","window-resize",p=>this.Haa(p));this.j.Di("runtime","fullscreenchange",p=>this.oaa(p));this.j.Di("runtime","fullscreenerror",p=>this.paa(p));this.lj.addEventListener("webglcontextlost",p=>this.lv(p));this.lj.addEventListener("webglcontextrestored",()=>this.wH());this.Es=!!h.isFullscreen;
var m=navigator.gpu&&this.BU;let n=!1;if(m)try{await this.RR(!0)}catch(p){this.Gj=null}if(!this.lb())try{await this.QR(!0)}catch(p){this.ib=null}this.lb()||(n=!0);if(!this.lb()&&m)try{await this.RR(!1)}catch(p){this.Gj=null}if(!this.lb())try{await this.QR(!1)}catch(p){this.ib=null}m=this.lb();if(!m)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");m.G5(n);"normalized"===this.wt?m.o6():(m.p6(),m.iG(this.UT));this.vd(h.windowInnerWidth,h.windowInnerHeight,!0);this.Gj?
await this.l$():this.ib&&await this.k$();m.lG(this.us);m.pk()&&(this.Bs=0);for(const p of this.j.XH){for(const q of p.Hg())q.NR(m);p.Rh()}}async RR(h){h={powerPreference:this.ZI,depth:this.j.nm,failIfMajorPerformanceCaveat:h,Spa:this.j.pD,wL:this.j.iL};this.Gj=d.C(d.K.spa);await this.Gj.Ra(this.lj,h)}async QR(h){h={powerPreference:this.ZI,vW:!0,depth:this.j.nm,wL:this.j.iL,failIfMajorPerformanceCaveat:h};"Android"===d.kd.gr&&"Chromium"===d.kd.qy&&75>d.kd.kE&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),
h.LW=1);"standard"===this.j.hs?h.alpha=!0:(h.alpha=!1,h.RL=!0);this.ib=d.C(d.K.f7,this.lj,h);await this.ib.yz()}async l$(){if(this.UC){const h=[];for(const [m,n]of Object.entries(this.UC))n.src=n.eha,h.push(this.Gj.uE(n,d.K.tpa.Vy(),m));await Promise.all(h)}}async k$(){if(this.UC){const h=[];for(const [m,n]of Object.entries(this.UC))n.src=n.Tfa,h.push(this.ib.uE(n,d.K.Su.Vy(),m));await Promise.all(h);this.ib.T4();this.ib.nk()}this.ib.pk()&&(this.IB=d.C(d.K.AQ,this.ib))}A(){this.lj=this.ib=this.j=
null}Haa(h){const m=this.j;if(!m.Jm()){var n=h.devicePixelRatio;m.Ol&&(self.devicePixelRatio=n);m.dca(n);this.Es=!!h.isFullscreen;this.vd(h.innerWidth,h.innerHeight);m.fa();m.Jb&&(m.nu()||self.Bh.Cja())&&m.ep()}}oaa(h){this.Es=!!h.isFullscreen;this.vd(h.innerWidth,h.innerHeight,!0);this.j.fa()}paa(h){this.Es=!!h.isFullscreen;this.vd(h.innerWidth,h.innerHeight,!0);this.j.fa()}vd(h,m,n=!1){h=Math.floor(h);m=Math.floor(m);if(0>=h||0>=m)throw Error("invalid size");if(this.bo!==h||this.ao!==m||n){this.bo=
h;this.ao=m;n=this.Yt();"letterbox-scale"===n?this.H7(h,m):"letterbox-integer-scale"===n?this.G7(h,m):"off"===n?this.E7(h,m):this.F7(h,m);this.jda(n);this.lj.width=this.bh;this.lj.height=this.ah;this.j.ir("canvas","update-size",{marginLeft:this.gn,marginTop:this.hn,styleWidth:this.od,styleHeight:this.Zc});h=this.lb();h.vd(this.bh,this.ah,!0);for(var p of this.Av)h.iZ(p);d.G(this.Av);h.ro(this.oB,this.Uj()/this.Tj());p=this.j.hb;p.rr();p.qr()}}H7(h,m){const n=this.j.el(),p=this.j.oh,q=this.j.nh,u=
p/q;h/m>u?(this.od=Math.round(m*u),this.Zc=m,this.gn=Math.floor((h-this.od)/2),this.hn=0):(this.od=h,this.Zc=Math.round(h/u),this.gn=0,this.hn=Math.floor((m-this.Zc)/2));this.bh=Math.round(this.od*n);this.ah=Math.round(this.Zc*n);this.j.Ou(p,q)}G7(h,m){const n=this.j.el();1!==n&&(h+=1,m+=1);const p=this.j.oh,q=this.j.nh;var u=p/q;u=h/m>u?m*u*n/p:h/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.bh=Math.round(p*u);this.ah=Math.round(q*u);this.od=this.bh/n;this.Zc=this.ah/n;this.gn=Math.max(Math.floor((h-
this.od)/2),0);this.hn=Math.max(Math.floor((m-this.Zc)/2),0);this.j.Ou(p,q)}F7(h,m){const n=this.j.el();this.od=h;this.Zc=m;this.bh=Math.round(this.od*n);this.ah=Math.round(this.Zc*n);this.hn=this.gn=0;h=this.Sj();this.j.Ou(this.od/h,this.Zc/h)}E7(h,m){const n=this.j.el();this.od=this.j.Kf;this.Zc=this.j.Be;this.bh=Math.round(this.od*n);this.ah=Math.round(this.Zc*n);this.Es?(this.gn=Math.floor((h-this.od)/2),this.hn=Math.floor((m-this.Zc)/2)):this.hn=this.gn=0;this.j.Ou(this.j.Kf,this.j.Be)}jda(h){if("high"===
this.lL)this.ad=this.bh,this.Qc=this.ah,this.ai="high";else{let n;if("off"===this.Yt()){var m=this.j.Kf;n=this.j.Be}else m=this.j.oh,n=this.j.nh;this.bh<m||this.ah<n?(this.ad=this.bh,this.Qc=this.ah,this.ai="high"):(this.ad=m,this.Qc=n,this.ai="low","scale-inner"===h?(h=m/n,m=this.bo/this.ao,m<h?this.ad=this.Qc*m:m>h&&(this.Qc=this.ad/m)):"scale-outer"===h&&(h=m/n,m=this.bo/this.ao,m>h?this.ad=this.Qc*m:m<h&&(this.Qc=this.ad/m)))}}I(){return this.j}NP(h){if(!b.has(h))throw Error("invalid fullscreen mode");
this.WT=h;h=this.j.hb;h.rr();h.qr()}$y(){return this.WT}Yt(){return this.Es?this.Wda:this.$y()}OP(h){if(!a.has(h))throw Error("invalid fullscreen scaling quality");this.lL=h;this.j.hb.rr()}static w9(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Uj(){return this.ad}Tj(){return this.Qc}lG(h){this.us=!!h}Hca(h){this.LV=h}M2(){return this.lb().Po()}lv(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.Av=[];this.oD.clear();this.ib.pl();this.j.lv()}async wH(){await this.ib.LF();await this.Epa();for(const h of this.j.XH)for(const m of h.Hg())m.NR(this.ib);await this.j.wH();console.log("[Construct 3] WebGL context restored")}Lo(){return this.ib}lu(){return this.Gj}lb(){return this.Gj||this.ib}Rq(){return"low"===this.ai?1/this.j.el():this.Sj()}Sj(){const h=this.Yt();if("off"===h||"crop"===h)return 1;const m=this.j.oh,n=this.j.nh,p=m/n,q=this.bh/this.ah;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.Zc/n:this.od/m}au(){return"low"===this.ai?1:this.Sj()}$t(){return"low"===this.ai?1:this.j.el()}w5(h,m,n){m=m||this.ad;n=n||this.Qc;const p=m/2+this.Uda,q=n/2+this.Vda;{let u=this.oB;if(m!==this.ad||n!==this.Qc)h.ro(c,m/n),u=c;h.gp(u)}m=h.Mt(p,q,h.Uf(n),p,q,n);h.Ar(m)}t5(h){var m=this.Zc;const n=this.od/2,p=m/2;h.gp(this.oB);m=h.Mt(n,p,h.Uf(m),n,p,m);h.Ar(m)}HE(){return this.gn}IE(){return this.hn}Tt(h){h.depth=this.j.nm;const m=this.Av,n=m.findIndex(q=>q.C2(h));
let p;-1!==n?(p=m[n],m.splice(n,1)):p=this.lb().XY(h);this.oD.add(p);return p}$o(h){if(!this.oD.has(h))throw Error("render target not in use");this.oD.delete(h);this.Av.push(h)}Z_(){const h={Lj:this.j.xd};"low"===this.ai&&(h.width=this.Uj(),h.height=this.Tj());return this.Tt(h)}C4(h){this.$o(h)}*yD(){for(const h of this.j.hb.by())for(const m of h.ic){const n=this.PJ.get(m);n&&(yield n)}}GN(h){if(!this.lb().pk())return null;let m=this.PJ.get(h);m||(m={name:h.Ba(),nM:d.C(d.K.AQ,this.ib),AD:0,JW:0},
this.PJ.set(h,m));return m.nM}gda(){const h=this.lb();if(h.pk()&&0===this.qg){this.qg=h.$h;this.Zv=NaN;for(const m of this.yD())m.AD=NaN}}mda(){this.ib&&this.ib.pk()&&this.nda();this.Gj&&this.Gj.pk()&&this.oda()}nda(){if(isNaN(this.Zv)&&(this.Zv=this.IB.CN(this.rn,this.qg),!isNaN(this.Zv))){if(this.j.Jb)for(const h of this.yD())if(h.AD=h.nM.CN(this.rn,this.qg),isNaN(h.AD))return;this.IB.bN(this.qg);this.Bs=Math.min(this.Zv,1);if(this.j.Jb){for(const h of this.yD())h.nM.bN(this.qg),h.JW=Math.min(h.AD,
1);self.Bh.U6(this.Bs,[...this.yD()])}this.rn=this.qg;this.qg=0}}oda(){if(0!==this.qg){for(var h=this.rn;h<this.qg;++h){var m=this.xD.get(h);if(m&&!m.uz())return}m=this.j.Yb();h=d.n3(m.ic.length+1);for(var n=this.rn;n<this.qg;++n){var p=this.xD.get(n);if(p){p=p.lz();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];h[q]=0===Number(w)||0===Number(r)?NaN:h[q]+Number(r-w)/1E9}}}this.Bs=d.T(h[0],0,1);if(this.j.Jb){n=[];m=m.ic;for(let q=0,u=Math.min(m.length,h.length-1);q<
u;++q)n.push({name:m[q].Ba(),JW:d.T(h[q+1],0,1)});self.Bh.U6(this.Bs,n)}for(h=this.rn;h<this.qg;++h)this.xD.delete(h);this.rn=this.qg;this.qg=0}}A7(h){this.xD.set(this.Gj.$h,h)}bz(){return this.Bs}kQ(h,m,n,p,q,u){this.YC=h;this.FK=m;this.zV.zh(n,p,q,u);return this.ix?this.ix:this.ix=new Promise(w=>{this.AV=w})}Z$(){if(this.YC){var h=this.lj,m=this.zV,n=d.T(Math.floor(m.R),0,h.width),p=d.T(Math.floor(m.O),0,h.height),q=m.width();q=0===q?h.width-n:d.T(Math.floor(q),0,h.width-n);m=m.height();m=0===m?
h.height-p:d.T(Math.floor(m),0,h.height-p);(0!==n||0!==p||q!==h.width||m!==h.height)&&0<q&&0<m&&(h=d.Ch(q,m),h.getContext("2d").drawImage(this.lj,n,p,q,m,0,0,q,m));d.ty(h,this.YC,this.FK).then(u=>{this.GK=URL.createObjectURL(u);this.ix=null;this.AV(this.GK)});this.YC="";this.FK=1}}c2(h){this.ib&&(2===h?(this.Ff=d.C(d.K.TF,this.lb()),this.Ff.TP(),this.Ff.gG("Arial"),this.Ff.hG(16),this.Ff.QP("center"),this.Ff.jQ("center"),this.Ff.vd(300,200)):0===h?(h=this.j.Os)&&h.qu(this.ib).catch(m=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
m)):4===h&&(this.P$().then(m=>{"done"===this.Ej?this.ib.Oj(m):this.Hf.Vx=m}).catch(m=>console.warn("Failed to load splash image: ",m)),this.YR("splash-images/splash-poweredby-512.png").then(m=>{"done"===this.Ej?this.ib.Oj(m):this.Hf.Yx=m}).catch(m=>console.warn("Failed to load splash image: ",m)),this.YR("splash-images/splash-website-512.png").then(m=>{"done"===this.Ej?this.ib.Oj(m):this.Hf.fy=m}).catch(m=>console.warn("Failed to load splash image: ",m))))}async P$(){var h=(new URL("splash-images/splash-logo.svg",
this.j.GE())).toString();h=await d.dl(h);h=await this.j.z4(h);return await this.ib.vE(h,{Wx:"high"})}async YR(h){h=(new URL(h,this.j.GE())).toString();h=await d.dl(h);return await this.ib.vE(h,{Wx:"high"})}iF(){this.j.ir("runtime","hide-cordova-splash")}A6(){this.Fw=Date.now();this.j.Xb().addEventListener("loadingprogress",this.VJ);this.we=requestAnimationFrame(()=>this.gR());3!==this.j.Ns&&this.iF()}async r_(){if(this.ib){this.Bn=1;var h=this.j.Ns;4===h&&await this.EV;this.EV=this.JK=null;-1!==this.we&&
(cancelAnimationFrame(this.we),this.we=-1);this.j.Xb().removeEventListener("loadingprogress",this.VJ);this.VJ=null;this.Ff&&(this.Ff.A(),this.Ff=null);this.j.D4();this.ib.Pu();this.Hf.Vx&&(this.ib.Oj(this.Hf.Vx),this.Hf.Vx=null);this.Hf.Yx&&(this.ib.Oj(this.Hf.Yx),this.Hf.Yx=null);this.Hf.fy&&(this.ib.Oj(this.Hf.fy),this.Hf.fy=null);this.ib.uo();this.ib.Kq();this.Ej="done";this.rn=this.ib.$h;3===h&&this.iF()}}gR(){if(-1!==this.we){var h=this.ib;if(h){h.Pu();this.we=-1;var m=this.j.Db.bJ,n=this.j.Ns;
3!==n&&(this.t5(h),h.uo(),h.Au(),h.nk(),h.gg(null));if(0===n)this.Y8(m);else if(1===n)this.qA(m,120,0);else if(2===n)this.X8(m);else if(3!==n)if(4===n)this.Z8(m);else throw Error("invalid loader style");h.Kq();this.we=requestAnimationFrame(()=>this.gR())}}}X8(h){h?this.Ff.HP(1,0,0):this.Ff.HP(.6,.6,.6);this.Ff.Nu(Math.round(100*this.Bn)+"%");h=this.od/2;const m=this.Zc/2;g.dX(h-150,m-100,h+150,m+100);this.ib.gg(this.Ff.Yd());this.ib.kr(g,this.Ff.Mi())}qA(h,m,n){const p=this.ib;p.GP();h?p.pf(1,0,0,
1):p.pf(.118,.565,1,1);h=this.od/2;const q=this.Zc/2,u=m/2;l.zh(h-u,q-4+n,Math.floor(m*this.Bn),8);p.Rect(l);l.zh(h-u,q-4+n,m,8);l.offset(-.5,-.5);l.KD(.5,.5);p.pf(0,0,0,1);p.zO(l);l.KD(1,1);p.pf(1,1,1,1);p.zO(l)}Y8(h){var m=this.j.Os;if(m)if(m=m.Yd()){var n=m.ea(),p=m.$(),q=this.od/2,u=this.Zc/2,w=n/2;p/=2;g.dX(q-w,u-p,q+w,u+p);this.ib.gg(m);this.ib.Cd(g);this.qA(h,n,p+16)}else this.qA(h,120,0);else this.qA(h,120,0)}Z8(h){const m=this.ib,n=this.Hf.Vx,p=this.Hf.Yx,q=this.Hf.fy,u=Date.now();0===this.LK&&
(this.Fw=u);const w=this.j.dr()||this.j.kea&&!this.j.D2(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.Ej?y=Math.min((u-this.Fw)/300,1):"fade-out"===this.Ej&&(y=Math.max(1-(u-this.KK)/300,0));m.GP();m.pf(.231*y,.251*y,.271*y,y);l.set(0,0,this.od,this.Zc);m.Rect(l);const A=Math.ceil(this.od),G=Math.ceil(this.Zc);let z;256<this.Zc?(m.pf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),l.zh(0,.8*G-z/2,A,z),m.Rect(l),h?m.pf(y,0,0,y):m.pf(.161*y,.953*y,.816*y,y),h=A*this.Bn,l.zh(.5*A-h/2,.8*G-z/2,h,z),m.Rect(l),
m.pf(y,y,y,y),m.nk(),p&&(h=1.5*d.T(.22*G,105,.6*A),z=h/8,l.zh(.5*A-h/2,.2*G-z/2,h,z),m.gg(p),m.Rect(l)),n&&(z=h=Math.min(.395*G,.95*A),l.zh(.5*A-h/2,.485*G-z/2,h,z),m.gg(n),m.Rect(l)),q&&(h=1.5*d.T(.22*G,105,.6*A),z=h/8,l.zh(.5*A-h/2,.868*G-z/2,h,z),m.gg(q),m.Rect(l))):(m.pf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),l.zh(0,.85*G-z/2,A,z),m.Rect(l),h?m.pf(y,0,0,y):m.pf(.161*y,.953*y,.816*y,y),h=A*this.Bn,l.zh(.5*A-h/2,.85*G-z/2,h,z),m.Rect(l),m.pf(y,y,y,y),m.nk(),n&&(z=h=.55*G,l.zh(.5*A-h/2,.45*
G-z/2,h,z),m.gg(n),m.Rect(l)));this.LK++;"fade-in"===this.Ej&&300<=u-this.Fw&&2<=this.LK&&(this.Ej="wait",this.FV=u);"wait"===this.Ej&&u-this.FV>=v&&1<=this.Bn&&(this.Ej="fade-out",this.KK=u);("fade-out"===this.Ej&&u-this.KK>=300+r||w&&1<=this.Bn&&500>u-this.Fw)&&this.JK()}}}
{"use strict";const d=self.D,b=self.Bh,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.xP=class extends d.ka{constructor(c){c=Object.assign({},a,c);super();this.Jw=c.messagePort;this.Bda=c.baseUrl;this.Ol=!!c.isInWorker;e=c.ife;this.qn=c.exportType;this.HJ=!!c.isiOSCordova;this.kea=!!c.isFBInstantAvailable;this.Fea=c.opusWasmScriptUrl;this.eV=c.opusWasmBinaryUrl;this.te=this.Ida=this.Jb=!("preview"!==this.qn||!c.isDebug);this.BI=
0;this.QA=[];this.vda=[];this.sK=this.mV=this.PC="";this.nh=this.oh=0;this.kn=self.devicePixelRatio;this.Ns=this.Be=this.Kf=this.IC=this.HC=0;this.sD=!1;this.Gk=!0;this.iL=this.pD=!1;this.Os=null;this.Db=d.C(d.dY,this,c);this.hb=d.C(d.Z2,this);this.za=d.C(d.w_,this);this.Gn=d.C(d.f4,this);this.Ak=d.C(d.EY,this);this.Lb=d.C(d.K6,this);this.VK=d.C(d.N6,this);this.Xc=[];this.hK=new Map;this.iK=new Map;this.RT=0;this.xda=[];this.XH=[];this.Nv=[];this.Nl=[];this.UB=new Map;this.KB=!1;this.Mw=this.jK=0;
this.Qp=new Map;this.Rp=new Set;this.VB=new Set;this.GC=[];this.DU=[];this.U=null;this.nm=!1;this.GB="vsync";this.hs="standard";this.xd="trilinear";this.Ql=!1;this.eK=!0;this.CJ=this.iV=!1;this.pn=null;this.Tea={OW:g=>{this.gm=this.we=-1;this.Nd(g)},Uga:g=>{this.gm=-1;this.Nd(g,!1,"skip-render")},Fga:()=>{this.we=-1;this.ep()}};this.gm=this.we=-1;this.ws=this.Nn=this.Pk=0;this.kU=this.dC=this.LB=!1;this.yJ=!0;this.ft=0;this.Kea=()=>Math.random();this.Tv=this.ts=this.uC=this.eD=0;this.Jd=1;this.$U=
30;this.XI=d.C(d.Ez);this.YI=d.C(d.Ez);this.kL=d.C(d.Ez);this.EB=-1;this.BC=this.Ul=this.DB=this.Lp=0;this.ci=!1;this.Ew=this.Ww="";this.Ms=null;this.$p="";this.BK=this.rK=null;this.cc=d.C(d.Event.Xb);this.FI=new Map;this.lK=new Map;this.Bea=0;this.AU=!1;this.jL=[];this.Ip={pretick:d.C(d.Event,"pretick",!1),tick:d.C(d.Event,"tick",!1),tick2:d.C(d.Event,"tick2",!1),instancedestroy:d.C(d.Event,"instancedestroy",!1),beforelayoutchange:d.C(d.Event,"beforelayoutchange",!1),layoutchange:d.C(d.Event,"layoutchange",
!1)};this.Ip.instancedestroy.instance=null;this.ke=d.C(d.Event.Xb);this.UV=null;this.dn=d.C(d.Zo,d.ky.xG);this.cn=d.C(d.Zo,d.ky.xG);this.Ap=d.C(d.Zo,d.ky.xG);this.vw=d.C(d.V2,this,c.jobScheduler);c.canvas&&(this.U=d.C(d.GM,this));this.Jw.onmessage=g=>this._OnMessageFromDOM(g.data);this.Di("runtime","visibilitychange",g=>this.Eaa(g));this.Di("runtime","opus-decode",g=>this.rda(g.arrayBuffer));this.Di("runtime","get-remote-preview-status-info",()=>this.P9());this.Di("runtime","js-invoke-function",g=>
this.yA(g));this.Di("runtime","go-to-last-error-script",self.goToLastErrorScript);this.cc.addEventListener("window-blur",g=>this.Faa(g));this.cc.addEventListener("window-focus",()=>this.Gaa());this.Lb.RX();this.vj=null;this.gea=new WeakMap;this.jB={keyboard:null,MW:null,kX:null}}static Ra(c){return d.C(d.xP,c)}A(){d.G(this.Xc);this.hK.clear();this.iK.clear();this.hb.A();this.hb=null;this.za.A();this.za=null;this.Gn.A();this.Gn=null;this.Db.A();this.Db=null;this.Ak.A();this.Ak=null;this.Lb.A();this.Lb=
null;this.VK.A();this.VK=null;this.U&&(this.U.A(),this.U=null);this.cc.A();this.cc=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.kS(c);else if("result"===g)this.vaa(c);else throw Error(`unknown message '${g}'`);}kS(c){if(this.AU){var g=c.component,l=c.handler,h=c.data,m=c.dispatchOpts,n=!(!m||!m.dispatchRuntimeEvent);m=!(!m||!m.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new d.Event(l),c.data=h,this.cc.Afa(c)),m)){c=new d.Event(l,!0);for(const [q,u]of Object.entries(h))c[q]=
u;this.Dh(c)}if(c=this.FI.get(g))if(c=c.get(l)){n=null;try{n=c(h)}catch(q){console.error(`Exception in '${g}' handler '${l}':`,q);null!==p&&this.BA(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.BA(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${l}':`,q);this.BA(p,!1,""+q)}):this.BA(p,!0,n))}else n||m||console.warn(`[Runtime] No DOM handler '${l}' for component '${g}'`);else n||m||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.jL.push(c)}BA(c,
g,l){this.Jw.postMessage({type:"result",responseId:c,isOk:g,result:l})}vaa(c){const g=c.responseId,l=c.isOk;c=c.result;const h=this.lK.get(g);l?h.resolve(c):h.reject(c);this.lK.delete(g)}Di(c,g,l){let h=this.FI.get(c);h||(h=new Map,this.FI.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,l)}ir(c,g,l){this.Jw.postMessage({type:"event",component:c,handler:g,data:l,responseId:null})}jr(c,g,l){const h=this.Bea++,m=new Promise((n,p)=>{this.lK.set(h,{resolve:n,
reject:p})});this.Jw.postMessage({type:"event",component:c,handler:g,data:l,responseId:h});return m}async Mo(c){this.Jb?await b.Mo(this):self.Bh&&self.Bh.rja(this);var [g]=await Promise.all([this.Db.kN("data.json"),this.Y$(),this.vw.Mo()]);this.B$(g);await this.m$(c);this.dr()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Lo()?(g=this.Lo(),console.info(`[C3 runtime] Hosted in ${this.Ol?"worker":"DOM"}, rendering with WebGL ${g.fd} [${g.Bx}] (${g.F2()?
"desynchronized":"standard"} compositing)`)):this.lu()&&console.info(`[C3 runtime] Hosted in ${this.Ol?"worker":"DOM"}, rendering with experimental WebGPU`);this.lb().cJ&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.AU=!0;for(const l of this.jL)this.kS(l);d.G(this.jL);this.U&&this.U.A6();for(const l of c.runOnStartupFunctions)this.QA.push(this.uba(l));await Promise.all([this.Db.yQ(),
...this.QA]);d.G(this.QA);if(this.Db.bJ)this.U&&this.U.iF();else return this.U&&await this.U.r_(),await this.cc.CL(new d.Event("beforeruntimestart")),await this.Pu(),this.Jw.postMessage({type:"runtime-ready"}),this}async uba(c){try{await c(this.vj)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}B$(c){c=c.project;this.PC=c[0];this.mV=c[16];this.sK=c[31];const g=c[39]||"loading-logo.png";this.Ql=!!c[9];this.oh=this.Kf=c[10];this.nh=this.Be=c[11];this.HC=this.oh/2;this.IC=
this.nh/2;this.hs=c[36];this.GB=c[37];"low-latency"===this.hs&&this.x2()&&77>=d.kd.kE&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.hs="standard");this.nm=!!c[40];this.xd=c[14];this.pD=c[15];this.iL=c[17];this.sD=!!c[18];this.Ns=c[19];this.Mw=c[21];this.iV=c[22];const l=this.Db;l.Xba(c[7],c[25]);l.zca(c[8]);l.nca(c[32]);l.tca(c[28]);l.Lca(c[29]);
if(0===this.Ns){let u="";this.dr()?l.xA(g)&&(u=l.UE(g)):u=l.lU+g;u&&(this.Os=l.Iz({url:u}))}this.U&&(this.U.NP(d.GM.w9(c[12])),this.U.OP(c[23]?"high":"low"),this.U.lG(0!==c[24]),this.U.oca(c[34]),this.U.Hca(c[41]),this.U.Mca(c[13]),this.U.Oca(c[30]),this.U.ica(c[26]));this.Gn.YY();this.GC=self.BM();for(var h of c[2])this.Gn.WY(h);this.GC=self.BM();this.I$();for(var m of c[3])h=d.IF.Ra(this,this.Xc.length,m),this.Xc.push(h),this.hK.set(h.Ba().toLowerCase(),h),this.iK.set(h.mb,h);for(const u of c[4])this.Xc[u[0]].E$(u);
for(var n of c[27])m=n.map(u=>this.Xc[u]),this.xda.push(d.C(d.MY,this,m));for(const u of this.Xc)u.iaa();for(const u of c[5])this.hb.Ra(u);(n=c[1])&&(n=this.hb.Pq(n))&&this.hb.B5(n);for(var p of c[33])this.Lb.Ra(p);for(var q of c[35])this.VK.Ra(q);this.j$();for(const u of c[6])this.za.Ra(u);this.za.Ub();this.f$();d.G(this.GC);this.Ld();p="any";q=c[20];1===q?p="portrait":2===q&&(p="landscape");this.ir("runtime","set-target-orientation",{targetOrientation:p});if(c=c[42])this.pn=new self.$ha(this,c),
this.GB="unlimited-frame",this.U.NP("off"),this.kn=1,self.devicePixelRatio=1,this.ir("runtime","set-exporting-to-video",{message:this.pn.Zia(0)})}Jm(){return null!==this.pn}d0(){return this.pn.aja()}e$(){return this.pn.Mo({width:this.U.bh,height:this.U.ah})}h9(){return this.pn.sha(this.U.lj,this.Vj())}i9(){this.pn.Kq()}NX(c){this.QA.push(c)}K9(){return this.RT++}r7(c){this.XH.push(c)}async m$(c){this.U&&(await this.U.Ch(c),this.U.c2(this.Ns))}async Y$(){if(!this.Db.hO("audio/webm; codecs=opus")){var c=
null;try{c=this.HJ&&this.Db.mw?await this.Db.SM(this.eV):await this.Db.Pt(this.eV)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.KX(c):this.JX();await this.LX([this.Fea])}}async rda(c){return await this.dE("OpusDecode",{arrayBuffer:c},[c])}async Pu(){this.LB=!0;this.eD=Date.now();if(this.sD){for(var c of this.Xc)c.bb||c.BJ||!c.zf||c.Nc();this.Db.yQ().then(()=>{this.Gk=!1;this.nS()})}else this.Gk=!1;this.Db.H5();this.Jb&&b.Qma(e);for(const g of this.hb.hj)g.X7();
this.Jm()&&await this.e$();c=this.hb.l0();await c.lH(null,this.lb());await c.eT(!0);this.Lp=performance.now();this.sD||this.nS();(await this.jr("runtime","before-start-ticking")).isSuspended&&!this.Jm()?this.ft++:this.Nd()}nS(){this.Oa(d.F.kb.P.U3,null,null);this.ir("runtime","register-sw")}Ih(c){c=Math.floor(c);const g=this.GC;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}I$(){for(const c of self.mY){const g=d.first(Object.keys(c));this.DU.push(g)}}Ki(c){c=Math.floor(c);
const g=this.DU;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}GE(){return this.Bda}na(){return this.za}jd(){return this.za.jd()}gf(){return this.za.gf()}Sb(){return this.za.Sb()}Tf(){return this.za.Tf()}E2(){return 0===this.gf().El}Xt(){return this.za.Xt()}hu(){return this.Gn.hu()}kf(c){c=Math.floor(c);if(0>c||c>=this.Xc.length)throw new RangeError("invalid index");return this.Xc[c]}ez(c){return this.hK.get(c.toLowerCase())||null}fz(c){return this.iK.get(c)||null}*Zea(){for(const c of this.Xc)c.bb||
(yield*c.DW())}Xb(){return this.cc}Dh(c){c.Pf=this.vj;const g=this.Jb&&!this.za.pu();g&&b.zG();this.ke.dispatchEvent(c);g&&b.fE()}yo(c){c.Pf=this.vj;return this.ke.CL(c)}P5(c,g){if(this.oh!==c||this.nh!==g)this.oh=c,this.nh=g,c=this.hb,c.rr(),c.qr()}Ou(c,g){if(this.Kf!==c||this.Be!==g)this.Kf=c,this.Be=g,c=this.hb,c.rr(),c.qr()}dca(c){this.Jm()||(this.kn=c)}el(){return this.kn}Uj(){return this.U?this.U.Uj():this.Kf}Tj(){return this.U?this.U.Tj():this.Be}Rq(){return this.U?this.U.Rq():1}Sj(){return this.U?
this.U.Sj():1}au(){return this.U?this.U.au():1}$t(){return this.U?this.U.$t():1}HE(){return this.U?this.U.HE():0}IE(){return this.U?this.U.IE():0}$y(){return this.U?this.U.$y():"off"}Tt(c){return this.U?this.U.Tt(c):null}$o(c){this.U&&this.U.$o(c)}bz(){return this.U?this.U.bz():NaN}zF(){return"nearest"!==this.xd}D4(){this.Os&&(this.Os.A(),this.Os=null)}Yb(){return this.hb.Yb()}Iz(c){return this.Db.Iz(c)}sE(c,g,l,h,m){return this.Gi(c,g,!1,l,h,!1,m,void 0,m)}Gi(c,g,l,h,m,n,p,q,u){var w=null;let r=
null;c instanceof d.IF?(r=c,r.bb&&(w=r.Jp,r=w[Math.floor(this.lr()*w.length)]),w=r.os):(w=c,r=this.kf(w[1]));c=r.Bb().zf;if(this.Gk&&c&&!r.BJ)return null;const v=g;c||(g=null);var y=l&&!n&&w&&!this.Qp.has(w[2])?w[2]:this.Mw++;const A=w?w[0]:null,G=d.C(d.Instance,{Pf:this,WL:r,KW:g,vX:A,BW:w?w[3]:null,uid:y});this.Qp.set(y,G);y=null;c&&(y=G.B(),"undefined"!==typeof h&&"undefined"!==typeof m&&(y.ig(h),y.jg(m)),r.MS());g&&(u||g.Xg(G,!0),1===g.Df&&1===g.Ef||r.DH(!0),g.fc().GO(r));this.jK++;let z=!0;q&&
(q=q.J(),q.hc()&&r.hc()&&r.dh===q.dh&&(z=!1));if(r.hc()&&!l&&!n&&z){for(var F of r.dh.$l)F!==r&&(q=this.Gi(F,v,!1,y?y.ga():h,y?y.ia():m,!0,!1,void 0,u),G.Jr(q));for(var H of G.Hd){H.Jr(G);for(const J of G.Hd)H!==J&&H.Jr(J)}}c&&!l&&p&&this.OG(G,A,y,g,h,m,u);if(r.hc()&&!l&&!n&&p)for(const J of G.Hd)if(l=J.B())F=J.Bb(),H=J.J().os[0],F.zf?this.OG(J,H,l,g,l.ga(),l.ia(),u):this.OG(J,H,l,g,void 0,void 0,u);!n&&p&&("undefined"===typeof h&&(h=A[0]),"undefined"===typeof m&&(m=A[1]),g=y.oz(),h=h-y.ga()+g.ga(),
m=m-y.ia()+g.ia(),g.Dd(h,m));r.ov();m=w?d.yL(w[5]):null;w=w?w[4].map(J=>d.yL(J)):null;c&&A&&A[13]&&G.sca();G.nA(m,w);this.Nl.push(G);this.KB=!0;this.Jb&&b.sja(G);return G}OG(c,g,l,h,m,n,p){var q=l.V0(),u=l.MN();c.B().nG(q);if(u){"undefined"===typeof m&&(m=g[0]);"undefined"===typeof n&&(n=g[1]);q=new Set;l=g[0];g=g[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.hb.TE(A[0]).da(w).s0(r);w=this.kf(r[1]);var y=c.t1(w);const z=q.has(w);y&&!z&&v?(v=c.SN(w),y=m+r[0][0]-l,r=
n+r[0][1]-g,v.B().Dd(y,r),v.B().nG(G),c.Cm(v,{Jt:!!(u>>0&1),Kt:!!(u>>1&1),Cq:!!(u>>2&1),Bq:!!(u>>3&1),It:!!(u>>4&1),Kx:!!(u>>5&1),Lt:!!(u>>6&1)}),q.add(w)):(w=this.Gi(r,h,!1,m+r[0][0]-l,n+r[0][1]-g,!1,!0,c,p),w.B().nG(G),c.Cm(w,{Jt:!!(u>>0&1),Kt:!!(u>>1&1),Cq:!!(u>>2&1),Bq:!!(u>>3&1),It:!!(u>>4&1),Kx:!!(u>>5&1),Lt:!!(u>>6&1)}))}}}xo(c){if(!this.Rp.has(c)){var g=c.J(),l=this.UB.get(g);if(l){if(l.has(c))return;l.add(c)}else l=new Set,l.add(c),this.UB.set(g,l);this.Jb&&b.tja(c);c.pH();this.KB=!0;if(c.hc())for(const h of c.Hd)this.xo(h);
for(const h of c.children())h.Wy()&&this.xo(h);this.hb.nO()||this.ci||(g=this.na(),g.Ce(!0),c.cda(),g.Ce(!1));c.o9(this.hb.nO())}}Ld(){this.KB&&(this.q9(),this.r9(),this.KB=!1,this.fa())}q9(){for(const c of this.Nl){const g=c.J();g.Xg(c);for(const l of g.Zh)l.Xg(c),l.ov()}d.G(this.Nl)}r9(){this.cc.xr(!0);for(const [c,g]of this.UB.entries())this.s9(c,g),g.clear();this.UB.clear();this.cc.xr(!1)}s9(c,g){for(const h of g){var l=this.Ip.instancedestroy;l.instance=h;this.cc.dispatchEvent(l);this.Qp.delete(h.xc);
if(l=h.B())l.wS(),l.xS(),l.pH();this.Rp.add(h);this.jK--}d.Cg(c.ta(),g);c.ov();this.VB.add(c);0===c.ta().length&&c.DH(!1);for(const h of c.Zh)d.Cg(h.ta(),g),h.ov(),this.VB.add(h);if(c.Bb().zf){c=new Set([...g].map(h=>h.B().da()));for(const h of c)h.$aa(g)}}*JL(c){for(const g of this.Nl)c.bb?g.J().jE(c)&&(yield g):g.J()===c&&(yield g)}J9(){return this.Mw++}V$(c,g){this.Qp.set(c,g)}lv(){this.cc.dispatchEvent(d.C(d.Event,"webglcontextlost"));this.Mu(!0);for(var c of this.Xc)!c.bb&&c.r1()&&c.bp();(c=
this.Yb())&&c.lv();d.xz.hr();d.eO.hr()}async wH(){await this.Yb().lH(null,this.Lo());this.cc.dispatchEvent(d.C(d.Event,"webglcontextrestored"));this.Mu(!1);this.fa()}Eaa(c){this.Mu(c.hidden)}Faa(c){this.dr()&&this.iV&&!d.kd.CF&&!c.data.parentHasFocus&&(this.Mu(!0),this.CJ=!0)}Gaa(){this.CJ&&(this.Mu(!1),this.CJ=!1)}yS(){const c=this.Tea;"vsync"===this.GB?-1===this.we&&(this.we=self.requestAnimationFrame(c.OW)):"unlimited-tick"===this.GB?(-1===this.gm&&(this.gm=d.VF(c.Uga)),-1===this.we&&(this.we=
self.requestAnimationFrame(c.Fga))):-1===this.gm&&(this.gm=d.VF(c.OW))}L7(){-1!==this.we&&(self.cancelAnimationFrame(this.we),this.we=-1);-1!==this.gm&&(d.uY(this.gm),this.gm=-1)}Uo(){return 0<this.ft}Mu(c){if(!this.Jm()){var g=this.Uo();this.ft+=c?1:-1;0>this.ft&&(this.ft=0);c=this.Uo();!g&&c?(console.log("[Construct 3] Suspending"),this.L7(),this.cc.dispatchEvent(d.C(d.Event,"suspend")),this.Oa(d.F.kb.P.Y3,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),this.Lp=this.uC=g=performance.now(),
this.Ul=this.BC=this.DB=this.EB=0,this.cc.dispatchEvent(d.C(d.Event,"resume")),this.Oa(d.F.kb.P.V3,null,null),this.nu()||this.Nd(g))}}o7(c){this.dn.Kc(c)}n7(c){this.cn.Kc(c)}bba(c){this.dn.Mh(c)}aba(c){this.cn.Mh(c)}cba(c){this.Ap.Mh(c)}C7(){this.dn.Nh(!0);for(const c of this.dn)c.Nd();this.dn.Nh(!1)}B7(){this.cn.Nh(!0);for(const c of this.cn)c.OF();this.cn.Nh(!1)}D7(){this.Ap.Nh(!0);for(const c of this.Ap);this.Ap.Nh(!1)}*h8(){this.dn.Nh(!0);for(const c of this.dn){const g=c.Nd();d.Mm(g)&&(yield*g)}this.dn.Nh(!1)}*g8(){this.cn.Nh(!0);
for(const c of this.cn){const g=c.OF();d.Mm(g)&&(yield*g)}this.cn.Nh(!1)}*i8(){this.Ap.Nh(!0);for(const c of this.Ap)d.Mm(void 0)&&(yield*void 0);this.Ap.Nh(!1)}async Nd(c,g,l){this.kU=!0;const h="background-wake"===l;l="background-wake"!==l&&"skip-render"!==l;if(this.LB&&(!this.Uo()||g||h)){g=performance.now();this.dC=!0;this.aaa(c||0);c=this.C6();this.te&&await c;c=this.cc.Bfa(this.Ip.pretick);c instanceof Promise&&await c;c=this.B6();this.te&&await c;this.gaa()&&await this.X9();this.hb.cr()&&await this.X$();
c=this.D6();this.te&&await c;l&&this.ep();if(this.Jm()&&(await this.h9(),this.Vj()>=this.pn.qB)){this.i9();return}this.Uo()||h||this.yS();this.Pk++;this.Nn++;this.ws++;this.dC=!1;this.Ul+=performance.now()-g}}async C6(){const c=this.za,g=this.Jb;this.Ld();c.Ce(!0);this.wu(this.Yb());g&&b.Ir();this.te?await c.dZ():c.c5();g&&b.IX();this.vu();c.Ce(!1);this.Ld();c.Ce(!0)}async B6(){const c=this.Jb,g=this.te,l=this.cc,h=this.Ip,m=this.UV;c&&b.Ir();g?await this.Fy(this.h8()):this.C7();g?await this.Fy(this.g8()):
this.B7();c&&b.DX();c&&b.Ir();g?await this.$M(h.tick):l.dispatchEvent(h.tick);c&&b.OX();this.za.Ce(!1);this.Dh(m.tick)}async D6(){const c=this.za,g=this.cc,l=this.Ip,h=this.Jb,m=this.te;h&&b.Ir();m?await c.bZ(this.hb):c.a5(this.hb);h&&b.IX();this.Ak.JM();this.uS();this.yJ=!1;c.Ce(!0);h&&b.Ir();m?await this.Fy(this.i8()):this.D7();h&&b.DX();h&&b.Ir();m?await this.$M(l.tick2):g.dispatchEvent(l.tick2);h&&b.OX();c.Ce(!1);m&&await c.wP()}uS(){if(0!==this.Rp.size){var c=this.cc;c.xr(!0);for(const g of this.VB)g.Ln.cp(this.Rp);
this.VB.clear();this.za.G4(this.Rp);for(const g of this.Rp)g.A();this.Rp.clear();c.xr(!1)}}async X$(){const c=this.hb;let g=0;for(;c.cr()&&10>g++;)await this.aR(c.Pw)}aaa(c){let g=0;this.Jm()?this.ts=g=1/this.d0():0!==this.uC&&(g=Math.max(c-this.uC,0)/1E3,.5<g&&(g=0),this.ts=Math.min(g,1/this.$U));this.uC=c;this.Tv=this.ts*this.Jd;this.XI.Kc(this.Tv);this.YI.Kc(g*this.Jd);this.kL.Kc(this.ts);this.U&&this.U.mda();1E3<=c-this.Lp&&(this.Lp+=1E3,1E3<=c-this.Lp&&(this.Lp=c),this.DB=this.EB,this.EB=0,this.BC=
Math.min(this.Ul/1E3,1),this.Ul=0,this.U&&this.U.gda(),this.Jb&&b.hpa());this.EB++}async aR(c){const g=this.cc,l=this.hb.Yb();await l.Yca();l.fda(c,this.lb());l===c&&this.za.vy();this.Ak.JM();this.uS();g.dispatchEvent(this.Ip.beforelayoutchange);d.po.PP(!0);await c.lH(l,this.lb());d.po.PP(!1);await c.eT(!1);g.dispatchEvent(this.Ip.layoutchange);this.fa();this.yJ=!0;this.Ld()}fa(){this.eK=!0}Lo(){return this.U?this.U.Lo():null}lu(){return this.U?this.U.lu():null}lb(){return this.U?this.U.lb():null}ep(){const c=
this.U;if(c&&!c.M2()){var g=this.lb(),l=g.pk(),h=l&&g.Qi();l=l&&!1;h&&g.wY();if(this.eK||this.Jm()){var m=this.hb.Yb();g.Pu();var n=this.Jb;n&&b.Ir();this.eK=!1;var p=null;h&&(p=c.IB.gE(),g.AG(p));h=null;l&&(h=g.zoa(2*(1+m.ic.length)),g.i7(0));this.nm&&"low"===c.ai?g.C5(c.Uj(),c.Tj()):g.m5();this.iba(this.lb(),m);p&&g.zE(p);l&&(g.i7(1),this.U.A7(h));g.Kq();n&&(b.pha(),b.ipa());c&&c.Z$()}else g.Q1()}}iba(c,g){c.nk();c.EP();c.pf(1,1,1,1);c.Ug(null);c.gg(null);c.Tg(this.nm);g.Sf(c)}Oa(c,g,l){if(!this.LB)return!1;
var h=!this.dC&&!this.za.yF();let m=0;h&&(m=performance.now());const n=this.Jb;n&&this.$z(!1);c=this.za.sv(this.hb,c,g,l);h&&(h=performance.now()-m,this.Ul+=h,n&&b.Bha(h));n&&this.$z(!0);return c}async Zd(c,g,l){if(!this.te)return this.Oa(c,g,l);if(!this.LB)return!1;if(this.nu())return this.za.y4(c,g,l);if(!this.Yb())return this.za.RF(c,g,l);const h=performance.now();c=this.za.Vu(this.hb,c,g,l);for(g=c.next();!g.done;)await this.Hq(g.value),g=c.next();this.Uo()||this.za.yF()||(await this.za.wP(),
this.kU&&!this.dC&&this.yS());this.Ul+=performance.now()-h;return g.value}wu(c){this.Nv.push(c)}vu(){if(!this.Nv.length)throw Error("layout stack empty");this.Nv.pop()}Za(){return this.Nv.length?this.Nv.le(-1):this.Yb()}Ao(c){return c&&-1!==c.Jd?this.ts*c.Jd:this.Tv}rG(c){if(isNaN(c)||0>c)c=0;this.Jd=c}ZP(c){this.$U=d.T(c,1,120)}Vj(){return this.XI.ca()}QE(){return this.YI.ca()}dF(){return this.kL.ca()}nl(){++this.ws}Gh(c){if(this.ci)throw Error("cannot call while loading state - wait until afterload event");
return this.Qp.get(c)||null}sS(){this.Qp.clear();for(const c of this.Xc)if(!c.bb)for(const g of c.ta())this.Qp.set(g.xc,g)}dr(){return"preview"===this.qn}D2(){return"cordova"===this.qn}x2(){return"Android"===d.kd.gr&&("cordova"===this.qn||"playable-ad"===this.qn||"instant-games"===this.qn)}$E(){return this.Gn.$E()}Uf(){return this.lb().Uf(this.Be)}S5(c){c=!!c;this.Ql!==c&&(this.Ql=c,this.hb.qr(),this.fa())}e5(c){this.Ww=c}h3(c){this.Ew=c}HF(c){this.Ms=c}gaa(){return!(!this.Ww&&!this.Ew&&null===this.Ms)}async X9(){this.Ww&&
(this.Ld(),await this.K8(this.Ww),this.MG());this.Ew&&(await this.J8(this.Ew),this.MG(),this.Jb&&b.Boa());if(null!==this.Ms){this.Ld();try{await this.bR(this.Ms),this.$p=this.Ms,await this.Zd(d.F.kb.P.UO,null),this.$p=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Zd(d.F.kb.P.VO,null)}this.MG()}}MG(){this.Ew=this.Ww="";this.Ms=null}O9(){this.rK||(this.rK=localforage.zL({name:"c3-localstorage-"+this.sK,description:this.PC}));return this.rK}CR(){this.BK||
(this.BK=localforage.zL({name:"c3-savegames-"+this.sK,description:this.PC}));return this.BK}async K8(c){const g=await this.Oba();try{await this.CR().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.$p=g,await this.Zd(d.F.kb.P.W3,null),this.$p=""}catch(l){console.error("[Construct 3] Failed to save state to storage: ",l),await this.Zd(d.F.kb.P.X3,null)}}async J8(c){try{const g=await this.CR().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
g.length+" chars)");await this.bR(g);this.$p=g;await this.Zd(d.F.kb.P.UO,null);this.$p=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.Zd(d.F.kb.P.VO,null)}}async Oba(){const c={c3save:!0,version:1,rt:{time:this.Vj(),timeRaw:this.QE(),walltime:this.dF(),timescale:this.Jd,tickcount:this.Pk,execcount:this.ws,next_uid:this.Mw,running_layout:this.Yb().mb,start_time_offset:Date.now()-this.eD},types:{},layouts:{},events:this.za.la(),timelines:this.Lb.la(),user_script_data:null};
for(var g of this.Xc)g.bb||g.aO()||(c.types[g.mb.toString()]=g.la());for(const l of this.hb.hj)c.layouts[l.mb.toString()]=l.la();g=this.SG("save");g.saveData=null;await this.yo(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async bR(c){var g=this.hb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.cc.dispatchEvent(d.C(d.Event,"beforeload"));
for(var l of this.Zea())l.zA();this.ci=!0;l=c.rt;this.XI.Set(l.time);l.hasOwnProperty("timeRaw")&&this.YI.Set(l.timeRaw);this.kL.Set(l.walltime);this.Jd=l.timescale;this.Pk=l.tickcount;this.ws=l.execcount;this.eD=Date.now()-l.start_time_offset;var h=l.running_layout;if(h!==this.Yb().mb)if(h=g.TE(h))await this.aR(h);else return;for(const [m,n]of Object.entries(c.types))h=this.fz(parseInt(m,10)),!h||h.bb||h.aO()||h.qa(n);this.Ld();this.sS();this.ci=!1;this.Mw=l.next_uid;for(const [m,n]of Object.entries(c.layouts))(l=
g.TE(parseInt(m,10)))&&l.qa(n);this.za.qa(c.events);for(const m of this.Xc)if(!m.bb&&m.hc())for(const n of m.ta()){l=n.Co();for(const p of m.dh.$l)if(p!==m){h=p.ta();if(0>l||l>=h.length)throw Error("missing sibling instance");n.Jr(h[l])}}this.Lb.qa(c.timelines);g.rr();g.qr();this.cc.dispatchEvent(d.C(d.Event,"afterload"));g=this.SG("load");g.saveData=c.user_script_data;await this.yo(g);this.fa()}async LX(c){c=(await Promise.all(c.map(g=>this.Db.dl(g)))).map(g=>URL.createObjectURL(g));this.vw.P1(c)}JX(){this.vw.g5()}KX(c){this.vw.h5(c)}dE(c,
g,l){return this.vw.dE(c,g,l)}async z4(c){var g=g||2048;var l=l||2048;return this.Ol?(await this.jr("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:l,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,l)}lr(){return this.Kea()}P9(){const c=this.Lo();return{fps:this.DB,cpu:this.BC,gpu:this.bz(),layout:this.Yb()?this.Yb().Ba():"",renderer:c?c.Bx:"<unavailable>"}}nu(){return this.Jb?b.nu():!1}Hq(c){return this.te?b.Hq(c):
Promise.resolve()}yc(){return this.te?b.Yha():!1}$z(c){c?this.BI--:this.BI++;this.ida()}ida(){this.te=this.Jb&&this.Ida&&0===this.BI}rF(){return this.Jb&&b.rF()}vF(){return this.Jb&&this.lb().pk()&&b.vF()}async Fy(c){if(c)for(const g of c)await this.Hq(g)}$M(c){return this.Fy(this.cc.Cfa(c))}yA(c){return this.za.yA(c.name,c.params)}SG(c){c=d.C(d.Event,c,!1);c.Pf=this.vj;return c}j$(){var c={};for(const g of this.Xc)c[g.Ki()]={value:g.fw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,
c);this.vj=new self.J1(this,c);this.UV={tick:this.SG("tick")}}f$(){const c={};for(const g of this.na().YH)c[g.Ki()]=g.DR();this.vj.g$(c)}ZR(c,g){this.gea.set(c,g)}};self.C3_CreateRuntime=d.xP.Ra;self.C3_InitRuntime=(c,g)=>c.Mo(g)}
{"use strict";const d=self.D;d.V2=class extends d.ka{constructor(b,a){super();this.j=b;this.Wp=new Map;this.Dea=0;this.iw=a.inputPort;a.outputPort.onmessage=e=>this.mS(e);this.SU=a.maxNumWorkers;this.ww=1;this.dU=this.lw=!1}async Mo(){}P1(b){this.iw.postMessage({type:"_import_scripts",scripts:b})}g5(){this.iw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}h5(b){this.iw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}dE(b,a,e){e||(e=[]);const c=this.Dea++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:e};a=new Promise((g,l)=>{this.Wp.set(c,{resolve:g,progress:void 0,reject:l,xL:!1})});this.iw.postMessage(b,e);this.aS();return a}mS(b){b=b.data;const a=b.type,e=b.jobId;switch(a){case "result":this.taa(e,b.result);break;case "progress":this.saa(e,b.progress);break;case "error":this.raa(e,b.error);break;case "ready":this.uaa();break;default:throw Error(`unknown message from worker '${a}'`);}}taa(b,a){const e=this.Wp.get(b);if(!e)throw Error("invalid job ID");
e.xL||e.resolve(a);this.Wp.delete(b)}saa(b,a){b=this.Wp.get(b);if(!b)throw Error("invalid job ID");!b.xL&&b.progress&&b.progress(a)}raa(b,a){const e=this.Wp.get(b);if(!e)throw Error("invalid job ID");e.xL||e.reject(a);this.Wp.delete(b)}uaa(){this.lw&&(this.lw=!1,this.ww++,this.ww<this.SU?this.aS():this.iw.postMessage({type:"_no_more_workers"}))}async aS(){if(!(this.ww>=this.SU||this.lw||this.dU||this.Wp.size<=this.ww))try{this.lw=!0,(await this.j.jr("runtime","create-job-worker")).outputPort.onmessage=
b=>this.mS(b)}catch(b){this.dU=!0,this.lw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.ww} so far)`,b)}}}}self.C3_Shaders={};
self.C3_Shaders.blacknwhitemask={Tfa:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform lowp float threshold;\nvoid main(void)\n{\nlowp float fronta = texture2D(samplerFront, vTex).a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nlowp float gray = back.r * 0.299 + back.g * 0.587 + back.b * 0.114;\nif (gray < threshold)\ngl_FragColor = mix(back, vec4(0.0, 0.0, 0.0, back.a), fronta);\nelse\ngl_FragColor = mix(back, vec4(back.a, back.a, back.a, back.a), fronta);\n}",eha:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\nstruct ShaderParams {\nthreshold : f32;\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@stage(fragment)\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar fronta : f32 = textureSample(textureFront, samplerFront, input.fragUV).a;\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragUV));\nvar gray : f32 = c3_grayscale(back.rgb);\nvar output : FragmentOutput;\noutput.color = select(vec4<f32>(back.a, back.a, back.a, back.a), vec4<f32>(0.0, 0.0, 0.0, back.a), gray < shaderParams.threshold);\noutput.color = mix(back, output.color, fronta);\nreturn output;\n}",
jfa:!0,cha:!1,Hfa:0,Ifa:0,sfa:!1,sga:!1,Aga:!0,efa:!1,parameters:[["threshold",0,"percent"]]};
{"use strict";const d=self.D;let b=null,a="",e="",c=[],g="",l="",h="";const m=d.C(d.aY);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.F.kb=class extends d.nr{constructor(p){super(p);this.Bf=this.j.na().Bf;this.Qd=this.j.na().jd();this.gw=this.Op=0;this.YT=new Map}A(){super.A()}fa(){this.j.fa()}Oa(p){this.j.Oa(p,null,null)}kz(p,q){b&&p===a&&q===e||(b=new RegExp(p,q),a=p,e=q);b.lastIndex=0;return b}LN(p,q,u){if(p===g&&q===
l&&u===h)return c;const w=this.kz(q,u);c=p.match(w);g=p;l=q;h=u;return c}async nH(p,q){if(q.length){this.Op+=q.length;var u=[];for(const w of q)u.push(p.GO(w));await d.q4(u,()=>{this.gw++});this.gw++;this.gw===this.Op&&(this.j.Oa(d.F.kb.P.P3,null,null),this.Op=this.gw=0)}}jT(p,q){for(const u of q)0===u.H.length&&p.s3(u)}vR(){return m}kba(p){var q=this.j.na();const u=q.jd(),w=u.hf(),r=w.Sb(),v=r.zd();var y=w.gk();const A=u.Sa(r),G=q.Bf,z=G.Sa();if(y)for(y=0;y<p&&!z.Ec;++y)q.Me(v),z.Oc(y),r.Rg(w,A),
q.Tb(v);else for(q=0;q<p&&!z.Ec;++q)z.Oc(q),r.Rg(w,A);u.Na();G.Na();return!1}*o8(p){var q=this.j.na();const u=q.jd(),w=u.hf(),r=w.Sb(),v=r.zd();var y=w.gk();const A=u.Sa(r),G=q.Bf,z=G.Sa();if(y)for(y=0;y<p&&!z.Ec;++y)q.Me(v),z.Oc(y),yield*r.Gg(w,A),q.Tb(v);else for(q=0;q<p&&!z.Ec;++q)z.Oc(q),yield*r.Gg(w,A);u.Na();G.Na();return!1}sda(){var p=this.j.na();const q=p.jd(),u=q.hf(),w=u.Sb(),r=w.zd();var v=u.gk();const y=q.Sa(w),A=p.Bf,G=A.Sa();if(v)for(v=0;!G.Ec;++v)p.Me(r),G.Oc(v),w.Rg(u,y)||G.qe(),p.Tb(r);
else for(p=0;!G.Ec;++p)G.Oc(p),w.Rg(u,y)||G.qe();q.Na();A.Na();return!1}*H8(){var p=this.j.na();const q=p.jd(),u=q.hf(),w=u.Sb(),r=w.zd();var v=u.gk();const y=q.Sa(w),A=p.Bf,G=A.Sa();if(v)for(v=0;!G.Ec;++v)p.Me(r),G.Oc(v),(yield*w.Gg(u,y))||G.qe(),p.Tb(r);else for(p=0;!G.Ec;++p)G.Oc(p),(yield*w.Gg(u,y))||G.qe();q.Na();A.Na();return!1}t9(p,q,u){var w=this.j.na();const r=w.jd(),v=r.hf(),y=v.Sb(),A=y.zd(),G=v.gk(),z=r.Sa(y),F=w.Bf,H=F.Sa();H.dA(p);if(u<q)if(G)for(p=q;p>=u&&!H.Ec;--p)w.Me(A),H.Oc(p),
y.Rg(v,z),w.Tb(A);else for(w=q;w>=u&&!H.Ec;--w)H.Oc(w),y.Rg(v,z);else if(G)for(p=q;p<=u&&!H.Ec;++p)w.Me(A),H.Oc(p),y.Rg(v,z),w.Tb(A);else for(w=q;w<=u&&!H.Ec;++w)H.Oc(w),y.Rg(v,z);r.Na();F.Na();return!1}*l8(p,q,u){var w=this.j.na();const r=w.jd(),v=r.hf(),y=v.Sb(),A=y.zd(),G=v.gk(),z=r.Sa(y),F=w.Bf,H=F.Sa();H.dA(p);if(u<q)if(G)for(p=q;p>=u&&!H.Ec;--p)w.Me(A),H.Oc(p),yield*y.Gg(v,z),w.Tb(A);else for(w=q;w>=u&&!H.Ec;--w)H.Oc(w),yield*y.Gg(v,z);else if(G)for(p=q;p<=u&&!H.Ec;++p)w.Me(A),H.Oc(p),yield*y.Gg(v,
z),w.Tb(A);else for(w=q;w<=u&&!H.Ec;++w)H.Oc(w),yield*y.Gg(v,z);r.Na();F.Na();return!1}u9(p){var q=this.j.na();const u=q.jd(),w=u.hf(),r=w.Sb(),v=r.zd();var y=w.gk();const A=u.Sa(r),G=q.Bf,z=G.Sa(),F=p.hc(),H=p.Y(),J=m.Sa();d.Vc(J,H.ta());if(y)for(let L=0,P=J.length;L<P&&!z.Ec;++L)q.Me(v),y=J[L],p.Y().mk(y),F&&y.aj(),z.Oc(L),r.Rg(w,A),q.Tb(v);else{H.Se(!1);p=H.H;d.G(p);p.push(null);for(let L=0,P=J.length;L<P&&!z.Ec;++L)q=J[L],p[0]=q,F&&q.aj(),z.Oc(L),r.Rg(w,A)}u.Na();G.Na();d.G(J);m.Na();return!1}*m8(p){var q=
this.j.na();const u=q.jd(),w=u.hf(),r=w.Sb(),v=r.zd();var y=w.gk();const A=u.Sa(r),G=q.Bf,z=G.Sa(),F=p.hc(),H=p.Y(),J=m.Sa();d.Vc(J,H.ta());if(y)for(let L=0,P=J.length;L<P&&!z.Ec;++L)q.Me(v),y=J[L],p.Y().mk(y),F&&y.aj(),z.Oc(L),yield*r.Gg(w,A),q.Tb(v);else{H.Se(!1);p=H.H;d.G(p);p.push(null);for(let L=0,P=J.length;L<P&&!z.Ec;++L)q=J[L],p[0]=q,F&&q.aj(),z.Oc(L),yield*r.Gg(w,A)}u.Na();G.Na();d.G(J);m.Na();return!1}v9(p,q){var u=this.j.na();const w=u.jd(),r=u.Tf(),v=w.hf(),y=v.Sb(),A=y.zd(),G=v.gk(),
z=w.Sa(y),F=u.Bf,H=F.Sa(),J=p.hc(),L=p.Y(),P=m.Sa();d.G(P);const R=L.ta();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.yu(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.Ec;++T)u.Me(A),q=P[T][0],p.Y().mk(q),J&&q.aj(),H.Oc(T),y.Rg(v,z),u.Tb(A);else{L.Se(!1);p=L.H;d.G(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.Ec;++T)u=P[T][0],p[0]=u,J&&u.aj(),H.Oc(T),y.Rg(v,z)}w.Na();F.Na();d.G(P);m.Na();return!1}*n8(p,q){var u=this.j.na();const w=u.jd(),r=u.Tf(),v=w.hf(),y=v.Sb(),A=y.zd(),
G=v.gk(),z=w.Sa(y),F=u.Bf,H=F.Sa(),J=p.hc(),L=p.Y(),P=m.Sa();d.G(P);const R=L.ta();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.yu(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.Ec;++T)u.Me(A),q=P[T][0],p.Y().mk(q),J&&q.aj(),H.Oc(T),yield*y.Gg(v,z),u.Tb(A);else{L.Se(!1);p=L.H;d.G(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.Ec;++T)u=P[T][0],p[0]=u,J&&u.aj(),H.Oc(T),yield*y.Gg(v,z)}w.Na();F.Na();d.G(P);m.Na();return!1}tA(p,q){let u=this.YT.get(p);if(u)return u;if(!q)return null;
u={fo:null,WD:new Map};this.YT.set(p,u);return u}I8(p,q,u,w,r){q.Ie().Z4(u);w&&p.Tb(r)}*j8(p,q,u,w,r){yield*q.Ie().aZ(u);w&&p.Tb(r)}}}{"use strict";const d=self.D;d.F.kb.Qh=class extends d.ka{constructor(b){super();this.N=b;this.j=b.I();this.li=b.Bb()}Nc(){}A(){this.li=this.j=this.N=null}}}{"use strict";const d=self.D;d.F.kb.Instance=class extends d.ka{constructor(b){super();this.L=b;this.N=this.L.J();this.Uc=this.N.Uc;this.j=this.L.I()}A(){this.j=this.Uc=this.N=this.L=null}}}
{"use strict";const d=self.D,b=[];d.F.kb.P={z_(){return!0},TO(){return!0},R3(){return!0},Y3(){return!0},V3(){return!0},Uo(){return this.j.Uo()},q_(){const a=this.j.gf();return a.II?!1:!a.Xp},Xoa(){const a=this.j.Tf().Jh();let e=a.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,a.set("TriggerOnce_lastTick",-1));const c=this.j.Pk;a.set("TriggerOnce_lastTick",c);return this.j.yJ||e!==c-1},y_(a){const e=this.j.Tf().Jh(),c=e.get("Every_lastTime")||0,g=this.j.Vj();e.has("Every_seconds")||e.set("Every_seconds",
a);const l=e.get("Every_seconds");if(g>=c+l)return e.set("Every_lastTime",c+l),g>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",g),e.set("Every_seconds",a),!0;g<c-.1&&e.set("Every_lastTime",g);return!1},$q(a){return(a=this.j.na().xN(a))&&a.$q()},dr(){return this.j.dr()},CF(){return d.kd.CF},U3(){return!0},H3(){return!0},Gia(){return!0},W3(){return!0},X3(){return!0},UO(){return!0},VO(){return!0},Rka(a){return!!this.j.Gh(a)},Tja(a){switch(a){case 0:return"browser"===d.kd.qE;case 1:return"iOS"===
d.kd.gr;case 2:return"Android"===d.kd.gr;case 8:return"cordova"===d.kd.qE;case 9:return"scirra-arcade"===this.j.qn;case 10:return"nwjs"===d.kd.qE;case 13:return"windows-uwp"===this.j.qn;default:return!1}},Qla(a,e,c){return this.kz(e,c).test(a)},fia(a,e,c){return d.compare(a,e,c)},hia(a,e,c){return a>=e&&a<=c},JY(a,e,c){return d.compare(a.Bd(),e,c)},GY(a){return!!a.Bd()},oia(a,e){const c=this.j.Vj();return 0===a?(a=this.j.Tf().Jh(),!a.get("CompareTime_executed")&&c>=e?(a.set("CompareTime_executed",
!0),!0):!1):d.compare(c,a,e)},Qja(a){return isNaN(a)},VX(a,e,c){return d.Aq(d.Ua(a),d.Ua(c))<=d.Ua(e)},B2(a,e){return d.cf(d.Ua(a),d.Ua(e))},A2(a,e,c){a=d.Ua(a);e=d.Ua(e);c=d.Ua(c);return d.cf(c,e)?d.cf(a,e)&&!d.cf(a,c):!(!d.cf(a,e)&&d.cf(a,c))},cka(a,e){return"number"===typeof a?0===e:1===e},Kia(a){return!!a},kla(a,e,c,g){if(!a)return!1;const l=this.vR(),h=l.Sa(),m=a.Y();d.Vc(h,m.ta());m.kc&&d.G(m.Dc);const n=this.j.Tf();let p=0;for(let q=0,u=h.length;q<u;++q){const w=h[q];h[p]=w;e=n.yu(1,q);g=n.yu(3,
q);d.compare(e,c,g)?++p:m.qp(w)}d.df(h,p);m.Yz(h);e=!!h.length;d.G(h);l.Na();a.Fc();return e},lla(a,e){if(!a)return!1;const c=this.vR(),g=c.Sa(),l=a.Y();d.Vc(g,l.ta());l.kc&&d.G(l.Dc);const h=this.j.Tf();let m=0;for(let n=0,p=g.length;n<p;++n){const q=g[n];g[m]=q;(e=h.yu(1,n))?++m:l.qp(q)}d.df(g,m);l.Yz(g);e=!!g.length;d.G(g);c.Na();a.Fc();return e},rla(a,e){if(!a)return!1;const c=a.Y(),g=c.ta();e=Math.floor(e);if(e>=g.length)return!1;c.Pm(g[e]);a.Fc();return!0},vla(a){if(!a)return!1;const e=a.Y(),
c=e.ta(),g=Math.floor(this.j.lr()*c.length);if(g>=c.length)return!1;e.Pm(c[g]);a.Fc();return!0},jla(a){if(!a||!a.H.length)return!1;a.Y().Se(!0);a.Fc();return!0},tla(a,e,c){if(!a)return!1;const g=a.Y();var l=g.ta();const h=this.j.Sb().ee,m=this.j.Tf().yj;g.kc?(d.Vc(b,l),g.wy(),g.Se(!1)):h?(d.Vc(b,g.Dc),d.G(g.Dc)):(d.Vc(b,g.H),d.G(g.H));for(let n=0,p=b.length;n<p;++n)l=b[n],d.xor(l.B().NM(e,c),m)?g.mv(l):g.qp(l);a.Fc();return d.xor(!!g.H.length,m)},qla(a){if(!a)return!1;var e=a.bb;let c=null;const g=
this.j.Nl;for(let l=g.length-1;0<=l;--l){const h=g[l];if(e){if(h.J().jE(a)){c=h;break}}else if(h.J()===a){c=h;break}}c||(e=a.ta(),e.length&&(c=e.le(-1)));if(!c)return!1;a.Y().Pm(c);a.Fc();return!0},Ula(a){return this.j.te?this.o8(a):this.kba(a)},upa(){return this.j.te?this.H8():this.sda()},Ria(a,e,c){return this.j.te?this.l8(a,e,c):this.t9(a,e,c)},nN(a){return this.j.te?this.m8(a):this.u9(a)},Sia(a,e,c){return this.j.te?this.n8(a,c):this.v9(a,c)},kka(a){return a?a.Mc():!1},hka(a){return a?a.O2():
!1},gka(a){return a?!a.H.length:!1},fka(a,e,c){return a?d.compare(100*a.Vd(),e,c):!1},P3(){return!0},Nja(){return 0<this.Op}}}
{"use strict";const d=self.D;function b(h,m){const n=h[0]-m[0];return 0!==n?n:h[1]-m[1]}function a(h,m){return h[1]-m[1]}const e=[],c=[],g=d.C(d.Rect),l=d.C(d.eb);d.F.kb.jb={m6(h,m){h.Oe(m)},SX(h,m){h.Nm()&&"number"!==typeof m&&(m=parseFloat(m));h.Oe(h.Bd()+m)},G6(h,m){h.Nm()&&h.Oe(h.Bd()-m)},q5(h,m){h.Oe(!!m)},Toa(h){h.Oe(!h.Bd())},Gma(){this.j.na().P4()},WM(h,m,n,p,q){h&&m&&(n=this.j.sE(h,m,n,p,q))&&(q&&m.wG(n),m=this.j.na(),m.Ce(!0),n.MA(),m.Ce(!1),h.Y().mk(n),n.hc()&&n.aj())},xia(h,m,n,p,q){h&&
m&&(h=this.j.ez(h))&&d.F.kb.jb.WM.call(this,h,m,n,p,q)},xu(h,m,n,p,q,u,w,r,v,y){if(h){var A=this.j.Za();if(u&&(A=this.j.hb.Pq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.da(w),!u)return;g.set(m,n,p,q);m=A.xu(h,g,u,r,v,y);h.Y().Yz(m);h.Fc()}},Coa(){const h=this.Bf;h.pO()&&h.Mq().qe()},zr(h,m){(h=this.j.na().xN(h))&&(0===m?h.zr(!1):1===m?h.zr(!0):h.zr(!h.$q()))},loa(h){this.j.rG(h)},foa(h,m){0>m&&(m=0);if(h){h=h.Y().ta();for(const n of h)n.rG(m)}},Kma(h){if(h){h=h.Y().ta();for(const m of h)m.W4()}},
GG(h){if(!(0>h))return this.j.na().eE().s2(h),!0},npa(h){this.j.na().eE().q2(h);return!0},mpa(){const h=this.j.na();h.eE().e2(h.S0());return!0},soa(h){h=h.toLowerCase();for(const m of this.j.na().yg)m.Q2()&&m.ax===h&&m.oG()},async kQ(h,m,n,p,q,u){const w=this.j.U;w&&(this.fa(),await w.kQ(0===h?"image/png":"image/jpeg",m/100,n,p,q,u),await this.j.Zd(d.F.kb.P.H3,null))},fna(h,m){if(!(0>=h||0>=m)){this.j.Ou(h,m);var n=this.j.Za();n.ny();for(const p of n.ic)p.FG();if(n=this.j.U)"off"!==n.Yt()&&this.j.P5(h,
m),n.vd(n.bo,n.ao,!0),this.j.fa()}},vna(h){const m=this.j.U;m&&"off"!==m.Yt()&&(m.OP(0!==h?"high":"low"),m.vd(m.bo,m.ao,!0))},fp(h){this.j.e5(h)},qka(h){this.j.h3(h)},rka(h){this.j.HF(h)},yna(){},Hma(){for(const h of this.j.hb.hj)h.U4()},hoa(h){this.j.S5(0!==h)},ZP(h){this.j.ZP(h)},xoa(h,m){if(h){var n=h.Y().ta(),p=this.j.Za(),q=h.bb;h=h.tj;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.B();if(!v)continue;let y;y=q?u.Je(m+u.J().zN(h)):u.Je(m);e.push([v.da().Ka(),v.ek()]);c.push([u,y])}if(e.length){e.sort(b);
c.sort(a);m=!1;for(let w=0,r=e.length;w<r;++w)n=c[w][0],q=p.SE(e[w][0]),h=e[w][1],u=q.H,u[h]!==n&&(u[h]=n,n.B().pv(q),q.Vg(),m=!0);m&&this.j.fa();d.G(e);d.G(c)}}},d1(h){if(!this.j.Gk){var m=this.j.hb;m.cr()||m.uy(h)}},cja(h){if(!this.j.Gk){var m=this.j.hb;m.cr()||(h=m.Pq(h))&&m.uy(h)}},Lka(h){if(!this.j.Gk){var m=this.j.hb;if(!m.cr()){var n=m.hj,p=n.indexOf(m.Yb());h&&0===p||(h||p!==n.length-1)&&m.uy(n[p+(h?-1:1)])}}},Ima(){if(!this.j.Gk){var h=this.j.hb;h.cr()||(h.uy(h.Yb()),this.j.na().Q4())}},
Pna(h,m){h&&h.hg(m)},Ina(h,m){h&&h.K5(m)},Jna(h,m){h&&h.Wi(m/100)},Lna(h,m){h&&h.aQ(m)},Mna(h,m){h&&h.V5(m)},Cna(h,m){h&&h.Cc(d.Ua(+m))},Nna(h,m,n){h&&(h.Iu(!0),h.Zi(m),h.$i(n))},Jma(h){h&&h.Iu(!1)},Kna(h,m,n){h&&h.Q5(m/100,n/100)},Qna(h,m){h&&h.qf(+m)},Dna(h,m){h&&(l.Gt(m),l.T(),h=h.Cl,h.vm(l)||(h.Hj(l),this.fa()))},Ona(h,m){h&&h.i6(m)},Ena(h,m){h&&h.fg(m)},Fna(h,m,n){h&&(n=h.Pa.gl(n))&&(m=1===m,n.Nb!==m&&(n.Xz(m),h.Rh(),this.j.fa()))},Gna(h,m,n,p){if(h&&(h=h.Pa,m=h.gl(m))&&(h=h.fl(m.Ka()),n=Math.floor(n),
!(0>n||n>=h.length))){var q=m.Yf().gz(n);if("color"===q){l.Gt(p);n=h[n];if(l.vm(n))return;n.Hj(l)}else{"percent"===q&&(p/=100);if(h[n]===p)return;h[n]=p}m.Nb&&this.j.fa()}},Hna(h,m){h&&h.E5(m)},Vna(h){this.j.Za().mG(+h)},Rna(h){this.j.Za().Cc(d.Ua(+h))},Sna(h,m){const n=this.j.Za();if(m=n.Pa.gl(m))h=1===h,m.Nb!==h&&(m.Xz(h),n.Rh(),this.j.fa())},Tna(h,m,n){var p=this.j.Za().Pa;if(h=p.gl(h))if(p=p.fl(h.Ka()),m=Math.floor(m),!(0>m||m>=p.length)){var q=h.Yf().gz(m);if("color"===q){l.Gt(n);m=p[m];if(l.vm(m))return;
m.Hj(l)}else{"percent"===q&&(n/=100);if(p[m]===n)return;p[m]=n}h.Nb&&this.j.fa()}},Wna(h,m){this.j.Za().l6(h/100,m/100)},Una(h){const m=this.j.Za();0===h?m.cQ():m.$P()},Xma(h){this.j.Za().Zi(h)},Yma(h){this.j.Za().$i(h)},Vma(h,m){const n=this.j.Za();n.Zi(h);n.$i(m)},Wma(h){if(h&&(h=h.Oq())&&(h=h.B())){var m=this.j.Za();m.Zi(h.ga());m.$i(h.ia())}},async j3(h){const m=this.j.Yb();m&&h&&!this.j.Gk&&await this.nH(m,h.bb?h.Jp:[h])},async pka(h){await d.F.kb.jb.j3.call(this,this.j.ez(h))},P6(h){const m=
this.j.Yb();m&&h&&this.jT(m,h.bb?h.Jp:[h])},fpa(h){d.F.kb.jb.P6.call(this,this.j.ez(h))},gpa(){const h=this.j.Yb();if(h){var m=h.W9();this.jT(h,m)}},async nka(h){const m=this.j.Yb();h&&m&&!this.j.Gk&&await this.nH(m,h.wR())},async oka(h){const m=this.j.Yb();(h=this.j.hb.Pq(h))&&m&&!this.j.Gk&&await this.nH(m,h.wR())},bA(h){const m=this.Qd.W_();if(m)switch(m.ZT){case 1:"number"===typeof h&&m.bA(h);break;case 2:"string"===typeof h&&m.bA(h);break;case 3:m.bA(h)}},uka(h,m,n){var p=this.tA(h.toLowerCase(),
!0);const q=p.WD,u=m.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${m}' already in map; overwriting entry`);(p=d.first(q.values())||p.fo)&&0!==p.fm!==(0!==n.fm)?console.error(`[Construct 3] Function map '${h}' string '${m}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},vka(h,m){const n=this.tA(h.toLowerCase(),!0);n.fo&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=
d.first(n.WD.values())||n.fo;p&&0!==p.fm!==(0!==m.fm)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.fo=m},aia(h,m,n){n=Math.floor(n);var p=this.tA(h.toLowerCase(),!1);if(p){var q=p.WD.get(m.toLowerCase());if(!q)if(p.fo)q=p.fo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${m}'; call ignored (consider setting a default)`);return}if(q.$f())if(0!==
q.fm)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${m}' has a return type so cannot be called`);else{h=this.j;m=h.na();var u=m.Sb();p=u.Ad();var w=0<p.length;w&&m.Qg(p);var r=[];if(u=m.BE(u)){u=u.hh;for(let v=n,y=u.length;v<y;++v)r.push(u[v].Bd())}n=q.hh;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].Pp);return h.te?this.j8(m,q,r,w,p):this.I8(m,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.D;d.F.kb.Ge={Vqa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},nqa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Am(b){return b.toString()},Tx(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.j.lr()*b:this.j.lr()*(a-b)+b},mfa(...b){return b[Math.floor(this.j.lr()*b.length)]},Sra(){return Math.PI},Tqa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},vsa(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.Ua(b))},cos(b){return Math.cos(d.Ua(b))},tan(b){return Math.tan(d.Ua(b))},asin(b){return d.Fg(Math.asin(b))},acos(b){return d.Fg(Math.acos(b))},atan(b){return d.Fg(Math.atan(b))},exp(b){return Math.exp(b)},mga(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let g=b[e];"number"===typeof g&&a<g&&(a=g)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let g=b[e];"number"===typeof g&&a>g&&(a=g)}return a},T(b,a,e){return d.T(b,a,e)},Lx(b,a,e,c){return d.tm(b,a,e,c)},angle(b,a,e,c){return d.Fg(d.pm(b,a,e,c))},me(b,a,e){return d.me(b,a,e)},XD(b,a,e){return d.XD(b,a,e)},RD(b,a,e,c){return d.RD(b,a,e,c)},oW(b,a,e,c,g){return d.oW(b,
a,e,c,g)},nW(b,a,e){return d.nW(b,a,e)},Hpa(b,a){return d.Fg(d.Aq(d.Ua(b),d.Ua(a)))},Ipa(b,a,e){return d.Fg(d.qL(d.Ua(b),d.Ua(a),e))},Jpa(b,a,e){return d.Fg(d.rL(d.Ua(b),d.Ua(a),d.Ua(e)))},Isa(b,a,e){a|=0;return(b|0)&~(1<<a)|(0!==e?1:0)<<a},Qsa(b,a){return(b|0)^1<<(a|0)},Nqa(b,a){return(b|0)&1<<(a|0)?1:0},Dra(){return"\n"},Xsa(b){return"string"===typeof b?b.toUpperCase():""},wra(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,e){return"string"!==
typeof b?"":0>e?b.substr(a):b.substr(a,e)},right(b,a){return"string"===typeof b?b.substr(Math.max(b.length-a,0)):""},trim(b){return"string"===typeof b?b.trim():""},Rsa(b,a,e){if("string"!==typeof b||"string"!==typeof e)return"";b=b.split(e);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},Ssa(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(d.Ot(a),"i")):-1},mqa(b,a){return"string"===typeof b&&
"string"===typeof a?b.search(new RegExp(d.Ot(a),"")):-1},replace(b,a,e){return"string"===typeof b&&"string"===typeof a&&"string"===typeof e?b.replace(new RegExp(d.Ot(a),"gi"),e):"string"===typeof b?b:""},esa(b,a,e){a=this.kz(a,e);return b?b.search(a):-1},dsa(b,a,e,c){a=this.kz(a,e);return b?b.replace(a,c):""},csa(b,a,e){return(b=this.LN(b.toString(),a,e))?b.length:0},bsa(b,a,e,c){c=Math.floor(c);b=this.LN(b.toString(),a,e);return!b||0>c||c>=b.length?"":b[c]},kta(b,a){let e=0>b?"-":"";0>b&&(b=-b);
e+="0".repeat(Math.max(a-b.toString().length,0));return e+b.toString()},Zsa(b){return encodeURIComponent(b)},Ysa(b){return decodeURIComponent(b)},tW(){return this.j.Tv},Osa(){return this.j.Jd},hta(){return(Date.now()-this.j.eD)/1E3},Vsa(){return Date.now()},time(){return this.j.Vj()},Nsa(){return this.j.Pk},Ira(){return this.j.jK},pqa(){return this.j.DB},$pa(){return this.j.BC},Oqa(){return this.j.bz()},jta(){return this.j.U.bh},ita(){return this.j.U.ah},Mra(){return this.j.oh},Lra(){return this.j.nh},
Kra(){return this.j.oh},Jra(){return this.j.nh},zsa(){return this.j.Za().Wf()},Asa(){return this.j.Za().Xf()},pra(){return this.j.Za().Ba()},qra(){return this.j.Za().he},nra(){return d.Fg(this.j.Za().Da())},rra(){return this.j.Za().ea()},ora(){return this.j.Za().$()},dta(b){return(b=this.j.Za().da(b))?b.$n.R:0},fta(b){return(b=this.j.Za().da(b))?b.$n.O:0},eta(b){return(b=this.j.Za().da(b))?b.$n.aa:0},bta(b){return(b=this.j.Za().da(b))?b.$n.W:0},gta(b){return(b=this.j.Za().da(b))?b.$n.width():0},cta(b){return(b=
this.j.Za().da(b))?b.$n.height():0},Upa(b,a,e){return(b=this.j.Za().da(b))?b.so(a,e)[0]:0},Vpa(b,a,e){return(b=this.j.Za().da(b))?b.so(a,e)[1]:0},kra(b,a,e){return(b=this.j.Za().da(b))?b.Wo(a,e)[0]:0},lra(b,a,e){return(b=this.j.Za().da(b))?b.Wo(a,e)[1]:0},gra(b){return(b=this.j.Za().da(b))?b.he:0},ara(b){return(b=this.j.Za().da(b))?d.Fg(b.ng):0},cra(b){return(b=this.j.Za().da(b))?100*b.Vd():0},hra(b){return(b=this.j.Za().da(b))?b.Jn:0},ira(b){return(b=this.j.Za().da(b))?b.Wf():0},jra(b){return(b=
this.j.Za().da(b))?b.Xf():0},dra(b){return(b=this.j.Za().da(b))?100*b.Df:0},fra(b){return(b=this.j.Za().da(b))?100*b.Ef:0},mra(b){return(b=this.j.Za().da(b))?b.fb():0},bra(b){return(b=this.j.Za().da(b))?b.Ka():-1},Tpa(){const b=this.j.U;return b?b.GK:""},vra(b){const a=this.Bf;return a.pO()?b?(b=a.F_(b))?b.Ka():0:a.Mq().Ka():0},wsa(){return this.j.$p},Rpa(b,a,...e){var c=this.tA(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),
0;var g=c.WD.get(a.toLowerCase());if(!g)if(c.fo)g=c.fo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=g.fm;const l=g.Zt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.$f())return l;b=this.j.na();a=b.Sb().Ad();const h=0<a.length;h&&b.Qg(a);const m=g.hh;for(let n=
e.length,p=m.length;n<p;++n)e.push(m[n].Pp);g=g.Ie();e=g.ZF(g.Ad(),c,l,...e);h&&b.Tb(a);return e},ura(){return this.j.Db.rC},Rqa(){return 0===this.Op?1:this.gw/this.Op},lo(){return this.j.lu()?"webgpu":"webgl"},hsa(){return this.j.lu()?"<unavailable>":this.j.Lo().Bx},Sqa(){let b=this.j.lb().$_();return Math.round(100*b/1048576)/100},jsa(b,a,e){return d.a4(b,a,e)},msa(b,a,e){return d.$O(b/100,a/100,e/100)},ksa(b,a,e,c){return d.Lz(b/100,a/100,e/100,c/100)},nsa(b,a,e){return d.$O(b/255,a/255,e/255)},
lsa(b,a,e,c){return d.Lz(b/255,a/255,e/255,c/255)},Wra(){return this.j.PC},Xra(){return this.j.mV},bqa(){return this.j.Sb().bd.Ba()},aqa(){return this.j.Sb().qs}}}{"use strict";const d=self.D;d.F.md=class extends d.nr{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;d.F.md.Qh=class extends d.pr{constructor(b){super(b);this.Od=b.Od}A(){d.G(this.Od);super.A()}Nc(){for(const b of this.Od)b.d3(this.j)}er(b){const a={Lj:this.j.xd};return Promise.all(this.Od.map(e=>e.e3(b,a)))}bp(){for(const b of this.Od)b.B4()}Kz(){this.mT()}mT(){for(const b of this.N.Zfa())b.oa.QH()}Rt(b){d.F.md.G_(this,b)}}}
{"use strict";const d=self.D,b=self.Rf,a=d.C(d.Rect),e=d.C(d.Cd),c=d.C(d.Ru);d.F.md.Instance=class extends d.aG{constructor(l,h){super(l);let m=!0,n="",p=0,q=!0;h&&(m=!!h[0],n=h[1],p=h[2],q=h[3]);this.Mb=this.N.qN(n)||this.N.Od[0];this.yb=d.T(p,0,this.Mb.Gd.length-1);this.Ue=this.Mb.Hm(this.yb);h=this.Ue.jf();this.ns=h.Yd();this.AI=h.Mi();this.Ov=h.mz();this.g1();l.Fu(2,!0);l.Fu(1,0<=this.Mb.Ok);this.Bk=Math.abs(this.Mb.Ok);this.ls=this.Mb.sV;this.SA=d.C(d.Ez);this.xk=this.uj=0;this.aI="";this.Kv=
-1;this.ds="";this.DT=0;l=this.B();this.Hda=l.Rj();l.hg(m);l.Cu(q);l.Br(this.Ue.jl());l.Cr(this.Ue.kl());l.qG(this.Ue.Bp);l.ma();1===this.N.Od.length&&1===this.N.Od[0].Gd.length||0===this.Bk||this.kg()}A(){this.SA=this.ns=this.Ue=this.Mb=null;super.A()}Fh(){return this.Ue.jf()}So(){return!0}hr(){this.ns=null}ZO(){this.QH()}Sf(l){var h=this.ns;null!==h&&(l.gg(h),h=this.B(),h.Zf()?this.bH(h,l):this.cH(h,l))}cH(l,h){let m=this.Hda;this.j.Ql&&(m=l.aP(m));h.x4(m,this.Ov)}bH(l,h){const m=l.XN();if(l.tO()){l.ry(a,
e,!1);let n=e;this.j.Ql&&(n=l.aP(n));m.EM(l.ck(),n,this.Ov);l.kG(!1)}m.Sf(h)}Ut(){return this.SA.ca()}zz(){return this.L.OE(2)}tr(l){this.L.Fu(2,l)}Cz(){return this.L.OE(1)}Ju(l){this.L.Fu(1,l)}xF(){return this.L.OE(4)}RP(l){this.L.Fu(4,l)}Nd(){this.ds&&this.$Q();0<=this.Kv&&this.ZG();const l=this.Bk;if(this.zz()&&0!==l){this.SA.Kc(this.j.Ao(this.L));var h=this.Ut(),m=this.Ue,n=m.qB/l;if(!(h<this.uj+n)){var p=this.Mb,q=this.ls,u=p.Gd.length,w=p.Mg(),r=p.ow,v=p.oea;this.Cz()?this.yb++:this.yb--;this.uj+=
n;this.yb>=u&&(v?(this.Ju(!1),this.yb=u-2):r?this.yb=q:(this.xk++,this.xk>=w?this.eH(!1):this.yb=q));0>this.yb&&(v?(this.yb=1,this.Ju(!0),r||(this.xk++,this.xk>=w&&this.eH(!0))):r?this.yb=q:(this.xk++,this.xk>=w?this.eH(!0):this.yb=q));this.yb=d.T(this.yb,0,u-1);n=p.Hm(this.yb);h>this.uj+n.qB/l&&(this.uj=h);this.AA(m,n)}}else this.vp()}eH(l){this.yb=l?0:this.Mb.Gd.length-1;this.tr(!1);this.aI=this.Mb.Ba();this.RP(!0);this.Hy("animationend",!1,{animationName:this.aI});this.Oa(d.F.md.P.F3);this.Oa(d.F.md.P.E3);
this.RP(!1);this.xk=0}AA(l,h){if(l!==h){var m=this.B(),n=l.jf();l=h.jf();var p=n.ea();n=n.$();var q=l.ea(),u=l.$();p!==q&&m.bj(m.ea()*(q/p));n!==u&&m.Vi(m.$()*(u/n));m.Br(h.jl());m.Cr(h.kl());m.qG(h.Bp);m.ma();this.Ue=h;this.ns=l.Yd();this.AI=l.Mi();this.Ov=l.mz();h=this.Ea().nd;for(let w=0,r=h.length;w<r;++w);this.Hy("framechange",!1,{animationName:this.Mb.Ba(),fW:this.yb});this.Oa(d.F.md.P.O3);this.j.fa()}}Wca(l){this.tr(!0);this.uj=this.Ut();1===l&&0!==this.yb&&(this.Kv=0,this.xF()||this.ZG());
this.kg()}Uba(l,h){this.ds=l;this.DT=h;this.kg();this.xF()||this.$Q()}tR(){return this.ds?this.ds:this.Mb.Ba()}LS(l){isFinite(l)&&(this.Kv=l,this.xF()||this.ZG())}Wba(l){this.Bk=Math.abs(l);this.Ju(0<=l);0<this.Bk&&this.kg()}pR(){return this.Cz()?this.Bk:-this.Bk}Vba(l){this.ls=l=d.T(Math.floor(l),0,this.Mb.Gd.length-1)}$Q(){const l=this.Ue;var h=this.N.qN(this.ds);this.ds="";!h||h===this.Mb&&this.zz()||(this.Mb=h,this.Ju(0<=h.Ok),this.Bk=Math.abs(h.Ok),this.ls=h.sV,this.yb=d.T(this.yb,0,this.Mb.Gd.length-
1),1===this.DT&&(this.yb=0),this.tr(!0),this.uj=this.Ut(),h=this.Mb.Hm(this.yb),this.AA(l,h))}ZG(){const l=this.Ue;var h=this.yb;this.yb=d.T(Math.floor(this.Kv),0,this.Mb.Gd.length-1);this.Kv=-1;h!==this.yb&&(h=this.Mb.Hm(this.yb),this.AA(l,h),this.uj=this.Ut())}QH(){const l=this.Ue.jf();this.ns=l.Yd();this.AI=l.Mi();this.Ov=l.mz();this.B().kG(!0)}Yd(){return this.ns}Mi(){return this.AI}mz(){return this.Ov}RE(){return this.Ue.RE()}Eo(l){const h=this.Ue,m=this.B();if("string"===typeof l)l=h.r0(l);
else if("number"===typeof l)l=h.q0(l-1);else throw new TypeError("expected string or number");if(!l)return[m.ga(),m.ia()];c.pa(l.oK);if(m.Zf()){const [n,p]=m.ck().pQ(c.ja,c.ba);c.set(n,p)}c.offset(-h.jl(),-h.kl());c.scale(m.ea(),m.$());c.rotate(m.Da());c.offset(m.ga(),m.ia());return[c.ja,c.ba]}U_(){return this.B().ll().QW()}sN(l){l=Math.floor(l);const h=this.B();var m=h.ll();const n=m.QW();l===n&&(l=0);if(0>l||l>=n)return[0,0];m=m.Sd;return[m[2*l]+h.ga(),m[2*l+1]+h.ia()]}Bc(){const l={a:this.Mb.mb};
0!==this.uj&&(l.fs=this.uj);var h=this.Ut();0!==h&&(l.at=h);0!==this.yb&&(l.f=this.yb);0!==this.Bk&&(l.cas=this.Bk);1!==this.xk&&(l.ar=this.xk);0!==this.ls&&(l.rt=this.ls);this.zz()||(l.ap=this.zz());this.Cz()||(l.af=this.Cz());h=this.B();h.Pg()&&(l.ce=h.Pg());return l}lc(l){var h=this.J().O_(l.a);h&&(this.Mb=h);this.uj=l.hasOwnProperty("fs")?l.fs:0;this.SA.Set(l.hasOwnProperty("at")?l.at:0);h=l.hasOwnProperty("f")?l.f:0;this.yb=d.T(h,0,this.Mb.Gd.length-1);this.Bk=l.hasOwnProperty("cas")?l.cas:0;
this.xk=l.hasOwnProperty("ar")?l.ar:1;h=l.hasOwnProperty("rt")?l.rt:0;this.ls=d.T(h,0,this.Mb.Gd.length-1);this.tr(l.hasOwnProperty("ap")?!!l.ap:!0);this.Ju(l.hasOwnProperty("af")?!!l.af:!0);this.Ue=h=this.Mb.Hm(this.yb);this.QH();const m=this.B();m.Br(h.jl());m.Cr(h.kl());m.qG(h.Bp);m.Cu(!!l.ce)}Zb(l){const h=this.B();switch(l){case 3:return h.Pg();case 2:return d.T(this.yb,0,this.Mb.Gd.length-1)}}pe(l,h){var m=this.B();switch(l){case 3:m.Cu(!!h);break;case 2:this.tr(!1);l=this.Mb.Gd.length-1;m=
h=d.T(h,0,l);h=this.Mb.Hm(this.yb);const n=this.Mb.Hm(m);this.AA(h,n);this.yb=d.T(m,0,l)}}Kh(){return self.K1}};const g=new WeakMap;self.K1=class extends self.vz{constructor(){super();g.set(this,self.Xq.Wm().oa)}get animation(){return g.get(this).Mb.cea}get animationName(){return g.get(this).tR()}set fW(l){b.dg(l);g.get(this).LS(l)}get fW(){return g.get(this).yb}get imageWidth(){return g.get(this).Fh().ea()}get imageHeight(){return g.get(this).Fh().$()}}}
{"use strict";const d=self.D;d.F.md.P={uja(b){return d.Dg(this.tR(),b)},jia(b,a){return d.compare(this.yb,b,a)},gia(b,a){return d.compare(this.pR(),b,a)},E3(b){return d.Dg(this.aI,b)},F3(){return!0},O3(){return!0},Oja(){return 0>this.B().ea()},Hja(){return 0>this.B().$()},YO(){return!0},Z3(){return!0},Pg(){return this.B().Pg()}}}
{"use strict";const d=self.D;d.F.md.jb={x6(b,a,e,c){if(b&&a){var [g,l]=this.Eo(e);if(e=this.j.sE(b,a,g,l,c)){c&&a.wG(e);b.Bb().To()&&(a=e.B(),a.Cc(this.B().Da()),a.ma());a=this.j.na();a.Ce(!0);e.MA();a.Ce(!1);c=this.j.Xt().Jh();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.ws)a=!0,c.set("Spawn_LastExec",this.j.ws);if(b!==this.J()&&(b=b.Y(),b.Se(!1),b=b.H,a&&d.G(b),b.push(e),e.hc()))for(const h of e.Hd)e=h.J().Y(),a?e.mk(h):(e.Se(!1),e.mv(h))}}},F6(){this.tr(!1)},z6(b){this.Wca(b)},
$ma(b,a){this.Uba(b,a)},l5(b){this.LS(b)},bna(b){this.Wba(b)},ana(b){this.Vba(b)},doa(b){const a=this.B(),e=a.ea();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.bj(b),a.ma())},rna(b){const a=this.B(),e=a.$();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.Vi(b),a.ma())},mG(b){const a=this.Ue.jf(),e=this.B();var c=0>e.ea()?-1:1;const g=0>e.$()?-1:1;c*=a.ea()*b;b=a.$()*b*g;if(e.ea()!==c||e.$()!==b)e.vd(c,b),e.ma()},async ska(b,a){const e=this.Ue.jf(),c=this.B(),g=this.j;if(e.Sk===b)0===a&&(c.vd(e.ea(),e.$()),c.ma()),this.Oa(d.F.md.P.YO);
else{var l=d.C(d.xz);try{await l.g3(g,b);if(!l.AF())throw Error("image failed to load");await l.qu(g.lb(),{Lj:this.j.xd})}catch(h){console.error("Load image from URL failed: ",h);this.Oa(d.F.md.P.Z3);return}e.O4(l);this.Uc.mT();this.kA()||0!==a||(c.vd(e.ea(),e.$()),c.ma());g.fa();this.kA()||await this.Zd(d.F.md.P.YO)}},hna(b){this.B().Cu(b)},pG(b,a){this.B().pG(0===b,a)},x5(b){this.B().fg(b);this.j.fa()}}}"use strict";
self.D.F.md.Ge={Iha(){return this.yb},Jha(){return this.Mb.Gd.length},Kha(){return this.Mb.Ba()},Lha(){return this.pR()},dla(){return this.Mb.Ok},nja(d){return this.Eo(d)[0]},oja(d){return this.Eo(d)[1]},mja(){return this.RE()},pja(){return this.Fh().ea()},lja(){return this.Fh().$()},Fla(d){return this.sN(d)[0]},Gla(d){return this.sN(d)[1]},Ela(){return this.U_()}};{"use strict";const d=self.D;d.F.Keyboard=class extends d.nr{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;d.F.Keyboard.Qh=class extends d.pr{constructor(b){super(b)}A(){super.A()}Nc(){}Kh(){return self.G1}};self.G1=class extends self.mF{constructor(b){super(b);b.I().jB.keyboard=this}}}
{"use strict";const d=self.D;d.F.Keyboard.Instance=class extends d.Vz{constructor(b){super(b);this.Hs=new Set;this.Is=new Set;this.Qk=0;this.zx=this.mD="";b=this.I().Xb();this.Fd=new d.Ay(d.Ee.Eh(b,"keydown",a=>this.uH(a.data)),d.Ee.Eh(b,"keyup",a=>this.vH(a.data)),d.Ee.Eh(b,"window-blur",()=>this.Tr()),d.Ee.Eh(b,"keyboard-blur",()=>this.Tr()))}A(){super.A()}uH(b){const a=b.which,e=b.code||a.toString();b=b.key;this.Hs.has(e)||(this.Hs.add(e),this.Is.add(a),this.mD=e,this.Qk=a,this.zx=b,this.Oa(d.F.Keyboard.P.G3),
this.Oa(d.F.Keyboard.P.QO),this.Oa(d.F.Keyboard.P.S3),this.Oa(d.F.Keyboard.P.Q3))}vH(b){const a=b.which,e=b.code||a.toString();b=b.key;this.Hs.delete(e);this.Is.delete(a);this.mD=e;this.Qk=a;this.zx=b;this.Oa(d.F.Keyboard.P.PO);this.Oa(d.F.Keyboard.P.SO);this.Oa(d.F.Keyboard.P.T3);this.Oa(d.F.Keyboard.P.RO)}Tr(){for(const b of this.Is)this.Is.delete(b),this.Qk=b,this.Oa(d.F.Keyboard.P.PO),this.Oa(d.F.Keyboard.P.SO),this.Oa(d.F.Keyboard.P.RO);this.Hs.clear()}sO(b){return this.Hs.has(b)}Bc(){return{tk:this.Qk,
tkk:this.zx}}lc(b){this.Qk=b.tk;b.hasOwnProperty("tkk")&&(this.zx=b.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.D.F.Keyboard.P={sO(b){return this.Is.has(b)},QO(b){return this.Qk===b},G3(){return!0},PO(){return!0},SO(b){return this.Qk===b},Kja(b){b=Math.floor(b);return this.Is.has(b)},Q3(b){return this.Qk===b},RO(b){return this.Qk===b},S3(b){return this.mD===d[b]},T3(b){return this.mD===d[b]},Lja(b){return this.Hs.has(d[b])}}}"use strict";
self.D.F.Keyboard.jb={};
{"use strict";function d(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.D.F.Keyboard.Ge={eka(){return this.Qk},Foa(b){return d(b)},Yoa(){return this.zx}}}{"use strict";const d=self.D;d.F.Audio=class extends d.nr{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.F.Audio.Qh=class extends d.pr{constructor(b){super(b)}A(){super.A()}Nc(){}Kh(){return self.B1}};self.B1=class extends self.mF{constructor(b){super(b)}}}
{"use strict";const d=self.D,b=["interactive","balanced","playback"];d.F.Audio.Instance=class extends d.Vz{constructor(a,e){super(a,"audio");this.mh=0;this.WK="";this.Vw=this.NV=0;this.mK=!1;this.MT=this.gV=1;this.yn=this.j.Kf/2;this.zn=this.j.Be/2;this.bq=-600;this.pV=600;this.RU=1E4;this.uV=1;this.gi=null;this.wC=-1;this.Qs=1;this.vg=!1;this.vV=0;this.rB=new Map;this.pK=this.qK=0;this.dm=new Map;a="interactive";e&&(this.NV=e[0],this.Vw=e[1],this.mK=e[2],a=b[e[3]],this.gV=e[4],this.MT=e[5],this.bq=
-e[6],this.pV=e[7],this.RU=e[8],this.uV=e[9]);this.jh=[];this.Js=[];this.oC=[];this.GX([["state",c=>this.Daa(c)],["fxstate",c=>this.Caa(c)],["trigger",c=>this.Baa(c)]]);e=this.I().Xb();this.Fd=new d.Ay(d.Ee.Eh(e,"instancedestroy",c=>this.qaa(c.instance)),d.Ee.Eh(e,"afterload",()=>this.jv()),d.Ee.Eh(e,"suspend",()=>this.xaa()),d.Ee.Eh(e,"resume",()=>this.waa()));this.j.NX(this.Ri("create-audio-context",{preloadList:this.j.Db.P_().map(c=>({originalUrl:c.yga,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.j.HJ,timeScaleMode:this.NV,latencyHint:a,panningModel:this.gV,distanceModel:this.MT,refDistance:this.pV,maxDistance:this.RU,rolloffFactor:this.uV,listenerPos:[this.yn,this.zn,this.bq]}).then(c=>{this.vV=c.sampleRate}));this.kg()}A(){this.gi=null;super.A()}qaa(a){this.gi===a&&(this.gi=null)}By(a){return Math.pow(10,a/20)}td(a){a=this.By(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}b3(a){return Math.log(a)/Math.log(10)*20}AO(a){return this.b3(Math.max(Math.min(a,1),0))}xaa(){this.mK||
this.Cb("set-suspended",{isSuspended:!0})}waa(){this.mK||this.Cb("set-suspended",{isSuspended:!1})}Daa(a){const e=a.tickCount,c=this.jh.filter(g=>g.hasOwnProperty("placeholder")&&(g.placeholder>e||-1===g.placeholder));this.jh=a.audioInstances;this.oC=a.analysers;0<c.length&&d.qm(this.jh,c)}Caa(a){this.Js=a.fxstate}sA(a){for(const e of this.jh)if(d.Dg(e.tag,a))return e;return null}WR(a){return this.jh.some(e=>d.Dg(a,e.tag)&&e.isPlaying)}Sr(a,e,c,g){if(this.WR(a))return null;a={tag:a,duration:0,volume:g,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:e,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.jh.push(a);return a}async Baa(a){const e=a.type;this.WK=a.tag;a=a.aiid;if("ended"===e){for(const c of this.jh)if(c.aiid===a){c.isPlaying=!1;break}await this.Zd(d.F.Audio.P.M3)}else"fade-ended"===e&&await this.Zd(d.F.Audio.P.N3)}Nd(){const a={timeScale:this.j.Jd,gameTime:this.j.QE(),instPans:this.t0(),tickCount:this.j.Nn};
if(this.gi){const e=this.gi.B();this.yn=e.ga();this.zn=e.ia();a.listenerPos=[this.yn,this.zn,this.bq]}this.Cb("tick",a)}eM(a,e,c,g,l){if(0===c)return[a,e];const h=Math.sin(c);c=Math.cos(c);a-=g;e-=l;const m=a*h;a=a*c-e*h;return[a+g,e*c+m+l]}t0(){return this.jh.filter(a=>-1!==a.uid).map(a=>this.j.Gh(a.uid)).filter(a=>a).map(a=>{const e=a.B(),c=e.da().Da(),[g,l]=this.eM(e.ga(),e.ia(),-c,this.yn,this.zn);return{uid:a.xc,x:g,y:l,angle:e.Da()-c}})}Oy(a,e){for(const c of this.oC)if(c.index===e&&d.Dg(c.tag,
a))return c;return null}Sh(a){this.rB.set(a,(this.rB.get(a)||0)+1)}Sca(a){return a.hasOwnProperty("placeholder")||3===this.Vw?!1:a.isMusic&&1===this.Vw?!1:a.isMusic||2!==this.Vw?!0:!1}Bc(){return{isSilent:this.vg,masterVolume:this.Qs,listenerZ:this.bq,listenerUid:this.gi?this.gi.xc:-1,remoteUrls:[...this.dm.entries()],playing:this.jh.filter(a=>this.Sca(a)),effects:this.Js,analysers:this.oC}}lc(a){this.vg=a.isSilent;this.Qs=a.masterVolume;this.bq=a.listenerZ;this.gi=null;this.wC=a.listenerUid;this.dm.clear();
if(a.remoteUrls)for(const [e,c]of a.remoteUrls)this.dm.set(e,c);this.jh=a.playing;this.Js=a.effects;this.oC=a.analysers}jv(){if(-1!==this.wC&&(this.gi=this.j.Gh(this.wC),this.wC=-1,this.gi)){var a=this.gi.B();this.yn=a.ga();this.zn=a.ia()}for(var e of this.jh)(a=this.j.Db.Jg(e.bufferOriginalUrl))?(e.bufferUrl=a.url,e.bufferType=a.type):e.bufferUrl=null;for(const c of Object.values(this.Js))for(const g of c)g.hasOwnProperty("bufferOriginalUrl")&&(e=this.j.Db.Jg(g.bufferOriginalUrl))&&(g.bufferUrl=
e.url,g.bufferType=e.type);this.Cb("load-state",{saveLoadMode:this.Vw,timeScale:this.j.Jd,gameTime:this.j.QE(),listenerPos:[this.yn,this.zn,this.bq],isSilent:this.vg,masterVolume:this.Qs,playing:this.jh.filter(c=>null!==c.bufferUrl),effects:this.Js})}}}{"use strict";const d=self.D;d.F.Audio.P={M3(b){return d.Dg(this.WK,b)},N3(b){return d.Dg(this.WK,b)},Ila(){return this.pK===this.qK},Cha(){return!0},Zja(){return this.vg},y2(){for(const b of this.jh)if(b.isPlaying)return!0;return!1},aka(b){return this.WR(b)}}}
{"use strict";const d=self.D,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.F.Audio.jb={async Play(a,e,c,g,l){if(!this.vg){var h=a[1],m=this.j.Db.Jg(a[0]);if(m){l=l?l:0;var n=this.mh;this.mh=0;var p=this.Sr(g.toLowerCase(),h,0!==e,this.td(c));try{await this.Ri("play",{originalUrl:a[0],url:m.url,type:m.type,isMusic:h,tag:g.toLowerCase(),isLooping:0!==e,vol:this.td(c),pos:l,off:n,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=this.j.Nn)}}}},
async Bla(a,e,c,g,l,h,m,n,p,q){if(!this.vg){var u=a[1],w=this.j.Db.Jg(a[0]);if(w){var r=this.mh;this.mh=0;var v=this.Sr(q.toLowerCase(),u,0!==e,this.td(c));try{await this.Ri("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:u,tag:q.toLowerCase(),isLooping:0!==e,vol:this.td(c),pos:0,off:r,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:g,y:l,angle:d.Ua(h),innerAngle:d.Ua(m),outerAngle:d.Ua(n),outerGain:this.td(p)}})}finally{v&&(v.placeholder=this.j.Nn)}}}},async zla(a,e,c,g,l,h,m,n){if(!this.vg&&
g&&(g=g.Oq())&&g.B()){var p=g.B(),q=p.da().Da(),[u,w]=this.eM(p.ga(),p.ia(),-q,this.yn,this.zn),r=a[1],v=this.j.Db.Jg(a[0]);if(v){var y=this.mh;this.mh=0;var A=this.Sr(n.toLowerCase(),r,0!==e,this.td(c));try{await this.Ri("play",{originalUrl:a[0],url:v.url,type:v.type,isMusic:r,tag:n.toLowerCase(),isLooping:0!==e,vol:this.td(c),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:w,angle:p.Da()-q,innerAngle:d.Ua(l),outerAngle:d.Ua(h),outerGain:this.td(m),uid:g.xc}})}finally{A&&
(A.placeholder=this.j.Nn)}}}},async Dla(a,e,c,g,l){if(!this.vg){a=1===a;var h=this.j.Db.Jg(e)||this.dm.get(e.toLowerCase());if(h){var m=this.mh;this.mh=0;var n=this.Sr(l.toLowerCase(),a,0!==c,this.td(g));try{await this.Ri("play",{originalUrl:e,url:h.url,type:h.type,isMusic:a,tag:l.toLowerCase(),isLooping:0!==c,vol:this.td(g),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Nn)}}}},async Cla(a,e,c,g,l,h,m,n,p,q,u){if(!this.vg){a=1===a;var w=this.j.Db.Jg(e)||
this.dm.get(e.toLowerCase());if(w){var r=this.mh;this.mh=0;var v=this.Sr(u.toLowerCase(),a,0!==c,this.td(g));try{await this.Ri("play",{originalUrl:e,url:w.url,type:w.type,isMusic:a,tag:u.toLowerCase(),isLooping:0!==c,vol:this.td(g),pos:0,off:r,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:l,y:h,angle:d.Ua(m),innerAngle:d.Ua(n),outerAngle:d.Ua(p),outerGain:this.td(q)}})}finally{v&&(v.placeholder=this.j.Nn)}}}},async Ala(a,e,c,g,l,h,m,n,p){if(!this.vg&&!this.vg&&l&&(l=l.Oq())&&l.B()){var q=
l.B(),u=q.da().Da(),[w,r]=this.eM(q.ga(),q.ia(),-u,this.yn,this.zn);a=1===a;var v=this.j.Db.Jg(e)||this.dm.get(e.toLowerCase());if(v){var y=this.mh;this.mh=0;var A=this.Sr(p.toLowerCase(),a,0!==c,this.td(g));try{await this.Ri("play",{originalUrl:e,url:v.url,type:v.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.td(g),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:w,y:r,angle:q.Da()-u,innerAngle:d.Ua(h),outerAngle:d.Ua(m),outerGain:this.td(n),uid:l.xc}})}finally{A&&
(A.placeholder=this.j.Nn)}}}},Zna(a,e){this.Cb("set-looping",{tag:a.toLowerCase(),isLooping:0===e})},eoa(a,e){this.Cb("set-muted",{tag:a.toLowerCase(),isMuted:0===e})},Um(a,e){this.Cb("set-volume",{tag:a.toLowerCase(),vol:this.td(e)})},B_(a,e,c,g){this.Cb("fade-volume",{tag:a.toLowerCase(),vol:this.td(e),duration:c,stopOnEnd:0===g})},async l4(a){const e=a[1],c=this.j.Db.Jg(a[0]);c&&(this.qK++,await this.Ri("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:e}),this.pK++)},async m4(a,e){a=1===
a;const c=this.j.Db.Jg(e)||this.dm.get(e.toLowerCase());c&&(this.qK++,await this.Ri("preload",{originalUrl:e,url:c.url,type:c.type,isMusic:a}),this.pK++)},Xi(a,e){this.Cb("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(e,0)})},qe(a){this.Cb("stop",{tag:a.toLowerCase()})},E6(){this.Cb("stop-all")},goa(a,e){this.Cb("set-paused",{tag:a.toLowerCase(),paused:0===e})},Zma(a,e){this.Cb("seek",{tag:a.toLowerCase(),pos:e})},koa(a){2===a&&(a=this.vg?1:0);a=0===a;this.vg!==a&&(this.vg=a,this.Cb("set-silent",
{isSilent:a}))},$na(a){a=this.td(a);this.Qs!==a&&(this.Qs=a,this.Cb("set-master-volume",{vol:a}))},qha(a,e,c,g,l,h,m){a=a.toLowerCase();e=b[e];this.Sh(a);this.Cb("add-effect",{type:"filter",tag:a,params:[e,c,g,l,h,d.T(m/100,0,1)]})},nha(a,e,c,g){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"delay",tag:a,params:[e,this.td(c),d.T(g/100,0,1)]})},rha(a,e,c,g,l,h){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"flanger",tag:a,params:[e/1E3,c/1E3,g,l/100,d.T(h/100,0,1)]})},xha(a,e,c,
g,l,h,m){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"phaser",tag:a,params:[e,c,g,l,h,d.T(m/100,0,1)]})},mha(a,e,c,g){a=a.toLowerCase();const l=this.j.Db.Jg(e[0]);l&&(this.Sh(a),this.Cb("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:e[0],bufferUrl:l.url,bufferType:l.type,params:[0===c,d.T(g/100,0,1)]}))},tha(a,e){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"gain",tag:a,params:[this.td(e)]})},wha(a){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"gain",tag:a,
params:[0]})},Aha(a,e,c){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"tremolo",tag:a,params:[e,d.T(c/100,0,1)]})},zha(a,e,c){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"ringmod",tag:a,params:[e,d.T(c/100,0,1)]})},oha(a,e,c,g,l,h){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"distortion",tag:a,params:[this.By(e),this.By(c),g,this.By(l),d.T(h/100,0,1)]})},lha(a,e,c,g,l,h){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"compressor",tag:a,params:[e,c,g,l/1E3,
h/1E3]})},kha(a,e,c){a=a.toLowerCase();this.Sh(a);this.Cb("add-effect",{type:"analyser",tag:a,params:[e,c]})},Rla(a){a=a.toLowerCase();this.rB.set(a,0);this.Cb("remove-effects",{tag:a});this.Js={}},ona(a,e,c,g,l,h){this.Cb("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(e),param:c,value:g,ramp:l,time:h})},Xna(a){a&&(a=a.Oq())&&a.B()&&(this.gi=a)},Yna(a){this.bq=a},Uma(a){this.mh=Math.max(a,0)},dpa(a){const e=a[1];(a=this.j.Db.Jg(a[0]))&&this.Cb("unload",{url:a.url,type:a.type,isMusic:e})},
epa(a,e){a=1===a;(e=this.j.Db.Jg(e)||this.dm.get(e.toLowerCase()))&&this.Cb("unload",{url:e.url,type:e.type,isMusic:a})},cpa(){this.Cb("unload-all")},yha(a,e,c){this.dm.set(c.toLowerCase(),{url:a,type:e})}}}"use strict";
self.D.F.Audio.Ge={Eia(d){return(d=this.sA(d))?d.duration:0},e4(d){return(d=this.sA(d))?d.playbackTime:0},d4(d){return(d=this.sA(d))?d.playbackRate:0},Z6(d){return(d=this.sA(d))?this.AO(d.volume):0},xka(){return this.AO(this.Qs)},Fia(d){return this.rB.get(d.toLowerCase())||0},Eha(d,b){return(d=this.Oy(d,Math.floor(b)))?d.binCount:0},Dha(d,b,a){d=this.Oy(d,Math.floor(b));if(!d)return 0;a=Math.floor(a);return 0>a||a>=d.binCount?0:d.freqBins[a]},Fha(d,b){return(d=this.Oy(d,Math.floor(b)))?d.peak:0},
Gha(d,b){return(d=this.Oy(d,Math.floor(b)))?d.rms:0},Tma(){return this.vV},yia(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.D;d.F.al=class extends d.zP{constructor(b){super(b,"button");this.iy("click",(a,e)=>a.tH(e))}A(){super.A()}}}{"use strict";const d=self.D;d.F.al.Qh=class extends d.pr{constructor(b){super(b)}A(){super.A()}Nc(){}}}
{"use strict";const d=self.D,b=self.Rf;d.F.al.Instance=class extends d.yP{constructor(e,c){super(e,"button");this.ub="OK";this.ug=this.XB=!1;this.Vb=this.Ud="";this.zv=this.rb=!0;c&&(this.XB=1===c[0],this.ub=c[1],this.Ud=c[2],this.B().hg(c[3]),this.rb=c[4],this.zv=c[5],this.ug=c[6],this.Vb=c[7]);this.VM({id:this.Vb})}A(){super.A()}Xy(){return{text:this.ub,isCheckbox:this.XB,isChecked:this.ug,title:this.Ud,isVisible:this.B().Mc(),isEnabled:this.rb}}async tH(e){this.ug=e.isChecked;this.Hy("click",!0);
await this.Zd(d.F.al.P.Jz)}up(e){this.ub!==e&&(this.ub=e,this.Ed())}Ica(e){this.Ud!==e&&(this.Ud=e,this.Ed())}Th(e){e=!!e;this.rb!==e&&(this.rb=e,this.Ed())}OS(e){this.XB&&(e=!!e,this.ug!==e&&(this.ug=e,this.Ed()))}Sf(){}Bc(){return{text:this.ub,checked:this.ug,title:this.Ud,enabled:this.rb}}lc(e){this.ub=e.text;this.ug=e.checked;this.Ud=e.title;this.rb=e.enabled;this.Ed()}Zb(e){switch(e){case 1:return this.ub;case 2:return this.Ud;case 4:return this.rb;case 5:return this.zv;case 6:return this.ug;
case 7:return this.Vb}}pe(e,c){switch(e){case 1:if(this.ub===c)break;this.ub=c;this.Ed();break;case 2:if(this.Ud===c)break;this.Ud=c;this.Ed();break;case 4:if(this.rb===!!c)break;this.rb=!!c;this.Ed();break;case 5:this.zv=!!c;break;case 6:if(this.ug===!!c)break;this.ug=!!c;this.Ed();break;case 7:this.Vb!==!!c&&(this.Vb=c,this.Ed())}}Kh(){return self.E1}};const a=new WeakMap;self.E1=class extends self.F1{constructor(){super();a.set(this,self.Xq.Wm().oa)}set text(e){b.Md(e);a.get(this).up(e)}get text(){return a.get(this).ub}set isEnabled(e){a.get(this).Th(e)}get isEnabled(){return a.get(this).rb}set cga(e){a.get(this).OS(e)}get cga(){return a.get(this).ug}}}
{"use strict";const d=self.D;d.F.al.P={Jz(){return!0},zja(){return this.ug},IY(b,a){return a?this.ub===b:d.Dg(this.ub,b)}}}"use strict";self.D.F.al.jb={Nu(d){this.up(d)},a6(d){this.Ica(d)},gna(d){this.OS(0!==d)},Uoa(){this.XB&&(this.ug=!this.ug,this.Ed())}};"use strict";self.D.F.al.Ge={Text(){return this.ub}};{"use strict";const d=self.D;d.F.Text=class extends d.nr{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.F.Text.Qh=class extends d.pr{constructor(b){super(b)}A(){super.A()}Nc(){}er(){}bp(){}}}
{"use strict";const d=self.D,b=self.Rf,a=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],g=new d.Rect,l=new d.Cd;new d.eb;d.F.Text.Instance=class extends d.aG{constructor(n,p){super(n);this.ub="";this.Il=!0;this.sj="Arial";this.Lk=12;this.fi=0;this.xf=this.wf=!1;this.gb=d.C(d.eb);this.bf=this.tf=0;this.Wk=!0;this.Rk=this.ot=-1;this.Ax=0;this.Jc=d.C(d.K.TF,this.j.lb(),{timeout:5});this.Jc.QD=()=>this.j.fa();this.Jc.TP();p&&(this.ub=p[0],this.Il=!!p[1],this.sj=p[2],this.Lk=p[3],this.fi=
p[4],this.wf=!!p[5],this.xf=!!p[6],this.tf=p[8],this.bf=p[9],this.Wk=0===p[10],n=p[7],this.gb.Ht(n[0],n[1],n[2]),this.B().hg(p[11]));this.re()}A(){this.Vm();this.Jc.A();this.Jc=null;super.A()}re(){const n=this.Jc;n.Nu(this.ub);n.n5(this.Il);n.gG(this.sj);n.XP(this.fi);n.FP(this.wf);n.VP(this.xf);n.Qm(this.gb);n.QP(e[this.tf]);n.jQ(c[this.bf]);n.n6(this.Wk?"word":"character")}SH(){const n=this.B();this.Jc.hG(this.Lk);this.Jc.D5(n.U0());var p=n.da();p=p.Rq()*p.oN(n.Lh());this.Jc.vd(n.ea(),n.$(),p)}Sf(n){var p=
this.B();this.SH();const q=this.Jc.Yd();if(q){var u=p.da();if(0===p.Da()&&0===u.Da()&&0===p.Lh()&&!p.Zf()&&u.kP()){p=p.Rj();const [w,r]=u.hk(p.Gb,p.Hb),[v,y]=u.hk(p.pc,p.qc);p=w-Math.round(w);const A=r-Math.round(r);g.set(w,r,v,y);g.offset(-p,-A);l.Mj(g);const [G,z]=n.eu(n.ak());this.j.U.w5(n,G,z);n.gg(q);n.kr(l,this.Jc.Mi());u.IA(n)}else n.gg(q),p.Zf()?this.bH(p,n):this.cH(p,n)}}cH(n,p){n=n.Rj();this.j.Ql&&(n=this.pS(n));p.kr(n,this.Jc.Mi())}bH(n,p){const q=n.XN();if(n.tO()){n.ry(g,l,!1);let u=l;
this.j.Ql&&(u=this.pS(u));q.EM(n.ck(),u,this.Jc.Mi());n.kG(!1)}q.Sf(p)}pS(n){const p=n.Gb-Math.round(n.Gb),q=n.Hb-Math.round(n.Hb);if(0===p&&0===q)return n;l.pa(n);l.offset(-p,-q);return l}Ty(){const n=this.Jc.Yd();return n?[n.ea(),n.$()]:[100,100]}Uy(){return this.Jc.Mi()}Az(){return!1}Bc(){const n={t:this.ub,c:this.gb.toJSON(),fn:this.sj,ps:this.Lk};this.Il&&(n.bbc=this.Il);0!==this.tf&&(n.ha=this.tf);0!==this.bf&&(n.va=this.bf);this.Wk||(n.wr=this.Wk);0!==this.fi&&(n.lho=this.fi);this.wf&&(n.b=
this.wf);this.xf&&(n.i=this.xf);-1!==this.Rk&&(n.tw={st:this.ot,en:this.Rk,l:this.Ax});return n}lc(n){this.Vm();this.ub=n.t;this.gb.ym(n.c);this.sj=n.fn;this.Lk=n.ps;this.Il=n.hasOwnProperty("bbc")?n.bbc:!1;this.tf=n.hasOwnProperty("ha")?n.ha:0;this.bf=n.hasOwnProperty("va")?n.va:0;this.Wk=n.hasOwnProperty("wr")?n.wr:!0;this.fi=n.hasOwnProperty("lho")?n.lho:0;this.wf=n.hasOwnProperty("b")?n.b:!1;this.xf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.ot=n.st,this.Rk=n.en,this.Ax=
n.l);this.re();-1!==this.Rk&&this.kg()}Zb(n){switch(n){case 0:return this.ub;case 1:return this.Il;case 2:return this.sj;case 3:return this.Lk;case 4:return this.fi;case 5:return this.wf;case 6:return this.xf;case 7:return a[0]=this.gb.Xa,a[1]=this.gb.Ia,a[2]=this.gb.ab,a;case 8:return this.tf;case 9:return this.bf;case 10:return this.Wk?1:0}}pe(n,p){switch(n){case 0:if(this.ub===p)break;this.ub=p;this.re();break;case 1:if(this.Il===!!p)break;this.Il=!!p;this.re();break;case 2:if(this.sj===p)break;
this.sj=p;this.re();break;case 3:if(this.Lk===p)break;this.Lk=p;this.re();break;case 4:if(this.fi===p)break;this.fi=p;this.re();break;case 5:if(this.wf===!!p)break;this.wf=!!p;this.re();break;case 6:if(this.xf===!!p)break;this.xf=!!p;this.re();break;case 7:n=this.gb;if(n.Xa===p[0]&&n.Ia===p[1]&&n.ab===p[2])break;this.gb.Ht(p[0],p[1],p[2]);this.re();break;case 8:if(this.tf===p)break;this.tf=p;this.re();break;case 9:if(this.bf===p)break;this.bf=p;this.re();break;case 10:this.Wk!==(0===p)&&(this.Wk=
0===p,this.re())}}up(n){this.ub!==n&&(this.ub=n,this.Jc.Nu(n),this.j.fa())}Xca(n,p){this.up(n);this.ot=this.j.dF();this.Rk=this.ot+p/this.Ea().M_();this.Ax=d.Dm.mQ(n).length;this.Jc.fG(0);this.kg()}Vm(){this.Rk=this.ot=-1;this.Ax=0;this.Jc.fG(-1);this.vp()}j9(){-1!==this.Rk&&(this.Vm(),this.Oa(d.F.Text.P.XO),this.j.fa())}lca(n){this.sj!==n&&(this.sj=n,this.Jc.gG(n),this.j.fa())}Yba(n){n=!!n;this.wf!==n&&(this.wf=n,this.Jc.FP(n),this.j.fa())}wca(n){n=!!n;this.xf!==n&&(this.xf=n,this.Jc.VP(n),this.j.fa())}mca(n){this.Lk!==
n&&(this.Lk=n,this.j.fa())}kca(n){this.gb.vm(n)||(this.gb.Hj(n),this.Jc.Qm(this.gb),this.j.fa())}US(n){this.fi!==n&&(this.fi=n,this.re(),this.j.fa())}qca(n){this.tf!==n&&(this.tf=n,this.re(),this.j.fa())}$S(n){this.bf!==n&&(this.bf=n,this.re(),this.j.fa())}Nca(n){n=!!n;this.Wk!==n&&(this.Wk=n,this.re(),this.j.fa())}V9(){this.SH();return this.Jc.Z0()}U9(){this.SH();return this.Jc.Y0()}Nd(){var n=this.j.dF();n>=this.Rk?(this.Vm(),this.Oa(d.F.Text.P.XO),this.j.fa()):(n=d.Ega(this.ot,this.Rk,n,this.Ax),
n=Math.floor(n),n!==this.Jc.Fp&&(this.Jc.fG(n),this.j.fa()))}Kh(){return self.M1}};const h=new WeakMap,m=new Map([["top",0],["center",1],["bottom",2]]);self.M1=class extends self.vz{constructor(){super();h.set(this,self.Xq.Wm().oa)}get text(){return h.get(this).ub}set text(n){b.Md(n);const p=h.get(this);p.Vm();p.up(n)}set lineHeight(n){b.dg(n);h.get(this).US(n)}get lineHeight(){return h.get(this).fi}set verticalAlign(n){b.Md(n);n=m.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).$S(n)}get verticalAlign(){return c[h.get(this).bf]}}}
{"use strict";const d=self.D;d.F.Text.P={IY(b,a){return a?this.ub===b:d.Dg(this.ub,b)},Yja(){return-1!==this.Rk},XO(){return!0}}}
{"use strict";const d=self.D,b=d.C(d.eb);d.F.Text.jb={Nu(a){this.Vm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.up(a.toString())},Mha(a){this.Vm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.up(this.ub+a)},$oa(a,e){this.Vm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.Xca(a.toString(),e)},una(a,e){let c=!1,g=!1;switch(e){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(a!==this.sj||c!==this.wf||g!==this.xf)this.lca(a),this.Yba(c),
this.wca(g)},hG(a){this.mca(a)},tna(a){b.Gt(a);b.T();this.kca(b)},qoa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},x5(a){this.B().fg(a);this.j.fa()},Zoa(){this.j9()},XP(a){this.US(a)},xna(a){this.qca(a)},noa(a){this.$S(a)},roa(a){this.Nca(0===a)}}}{"use strict";const d=self.D;d.F.Text.Ge={Text(){return this.ub},yla(){return this.Il?d.Dm.mQ(this.ub):this.ub},Lia(){return this.sj},Mia(){return this.Lk},Qoa(){return this.V9()},Poa(){return this.U9()},mka(){return this.fi}}}
{"use strict";const d=self.D;d.F.ko=class extends d.zP{constructor(b){super(b,"progress-bar");this.iy("click",(a,e)=>a.tH(e))}A(){super.A()}}}{"use strict";const d=self.D;d.F.ko.Qh=class extends d.pr{constructor(b){super(b)}A(){super.A()}Nc(){}}}
{"use strict";const d=self.D;d.F.ko.Instance=class extends d.yP{constructor(b,a){super(b,"progress-bar");this.pb=0;this.Cf=100;this.Vb=this.Ud="";a&&(this.pb=a[0],this.Cf=a[1],this.Ud=a[2],this.B().hg(a[3]),this.Vb=a[4]);this.VM({id:this.Vb})}A(){super.A()}Xy(){return{value:this.pb,max:this.Cf,title:this.Ud}}async tH(){await this.Zd(d.F.ko.P.Jz)}Sf(){}Bc(){return{v:this.pb,m:this.Cf,t:this.Ud,id:this.Vb}}lc(b){this.pb=b.v;this.Cf=b.m;this.Ud=b.t;this.Vb=b.id;this.Ed()}Zb(b){switch(b){case 0:return this.pb;
case 1:return this.Cf;case 2:return this.Ud;case 4:return this.Vb}}pe(b,a){switch(b){case 0:if(this.pb===a)break;this.pb=a;this.Ed();break;case 1:if(this.Cf===a)break;this.Cf=a;this.Ed();break;case 2:if(this.Ud===a)break;this.Ud=a;this.Ed();break;case 4:this.Vb!==a&&(this.Vb=a,this.Ed())}}}}{"use strict";const d=self.D;d.F.ko.P={Jz(){return!0},nia(b,a){return d.compare(this.pb,b,a)}}}"use strict";
self.D.F.ko.jb={a6(d){this.Ud!==d&&(this.Ud=d,this.Ed())},T5(d){this.pb!==d&&(this.pb=d,this.Ed())},boa(d){this.Cf!==d&&(this.Cf=d,this.Ed())},Ana(){this.pb=this.Cf=0;this.Ed()}};"use strict";self.D.F.ko.Ge={Kla(){return this.pb},zka(){return this.Cf}};{"use strict";const d=self.D;d.Ya.zm=class extends d.Sz{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.Ya.zm.Qh=class extends d.Uz{constructor(b){super(b)}A(){super.A()}Nc(){}}}
{"use strict";const d=self.D;d.Ya.zm.Instance=class extends d.Tz{constructor(b,a){super(b);this.Ui(!0);a&&(this.Ui(a[0]),this.Gr(a[1]))}A(){super.A()}Ui(b){this.L.Gca(!!b)}$f(){return this.L.VR()}Gr(b){const a=this.L.Jh();if(b.trim()){var e=a.get("solidTags");e||(e=new Set,a.set("solidTags",e));e.clear();for(const c of b.split(" "))c&&e.add(c.toLowerCase())}else a.delete("solidTags")}Bc(){return{e:this.$f()}}lc(b){this.Ui(b.e)}Zb(b){switch(b){case 0:return this.$f()}}pe(b,a){switch(b){case 0:this.Ui(a)}}}}"use strict";
self.D.Ya.zm.P={$f(){return this.$f()}};"use strict";self.D.Ya.zm.jb={Ui(d){this.Ui(d)},Gr(d){this.Gr(d)}};"use strict";self.D.Ya.zm.Ge={};{"use strict";const d=self.D;d.Ya.Jq=class extends d.Sz{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.Ya.Jq.Qh=class extends d.Uz{constructor(b){super(b)}A(){super.A()}Nc(){}}}
{"use strict";const d=self.D,b=self.Rf,a=self.kF;d.Ya.Jq.Instance=class extends d.Tz{constructor(c,g){super(c);this.gx=this.cx=this.bx=this.hx=this.NB=this.Uw=this.Cw=this.Sv=this.Cx=!1;this.xa=this.Ca=0;this.Aj=200;this.$b=600;this.pg=500;this.an=this.mn=3;this.rb=this.Hl=!0;g&&(this.Aj=g[0],this.$b=g[1],this.pg=g[2],this.mn=g[3],this.an=g[4],this.Hl=!!g[5],this.rb=!!g[6]);this.rb&&this.kg();this.Hl&&this.JG()}JG(){if(!this.Fd){var c=this.j.Xb();this.Fd=new d.Ay(d.Ee.Eh(c,"keydown",g=>this.uH(g.data)),
d.Ee.Eh(c,"keyup",g=>this.vH(g.data)),d.Ee.Eh(c,"window-blur",()=>this.Tr()),d.Ee.Eh(c,"keyboard-blur",()=>this.Tr()))}}iT(){this.Fd&&(this.Fd.A(),this.Fd=null)}A(){super.A()}Bc(){return{dx:this.Ca,dy:this.xa,e:this.rb,ms:this.Aj,acc:this.$b,dec:this.pg,d:this.mn,am:this.an,dc:this.Hl,ii:this.NB}}lc(c){this.Ca=c.dx;this.xa=c.dy;this.Th(c.e);this.Aj=c.ms;this.$b=c.acc;this.pg=c.dec;this.mn=c.d;this.an=c.am;this.Hl=c.dc;this.NB=c.ii;this.gx=this.cx=this.bx=this.hx=this.Uw=this.Cw=this.Sv=this.Cx=!1;
this.Hl?this.JG():this.iT()}uH(c){switch(c.key){case "ArrowLeft":this.Cw=!0;break;case "ArrowUp":this.Cx=!0;break;case "ArrowRight":this.Uw=!0;break;case "ArrowDown":this.Sv=!0}}vH(c){switch(c.key){case "ArrowLeft":this.Cw=!1;break;case "ArrowUp":this.Cx=!1;break;case "ArrowRight":this.Uw=!1;break;case "ArrowDown":this.Sv=!1}}Tr(){this.Uw=this.Cw=this.Sv=this.Cx=!1}Nd(){var c=this.j.Ao(this.L);const g=this.j.Ak;var l=this.Cw||this.cx,h=this.Uw||this.gx,m=this.Cx||this.hx,n=this.Sv||this.bx;this.bx=
this.hx=this.gx=this.cx=!1;if(this.rb){var p=g.Ph(this.L);if(p&&(g.zu(this.L,p),!g.QF(this.L)))return;this.NB&&(l=h=m=n=!1);0===this.mn?l=h=!1:1===this.mn&&(m=n=!1);2===this.mn&&(m||n)&&(l=h=!1);l===h&&(0>this.Ca?this.Ca=Math.min(this.Ca+this.pg*c,0):0<this.Ca&&(this.Ca=Math.max(this.Ca-this.pg*c,0)));m===n&&(0>this.xa?this.xa=Math.min(this.xa+this.pg*c,0):0<this.xa&&(this.xa=Math.max(this.xa-this.pg*c,0)));var q=p=0;l&&!h&&(p=0<this.Ca?-(this.$b+this.pg):-this.$b);h&&!l&&(p=0>this.Ca?this.$b+this.pg:
this.$b);m&&!n&&(q=0<this.xa?-(this.$b+this.pg):-this.$b);n&&!m&&(q=0>this.xa?this.$b+this.pg:this.$b);this.Ca+=p*c;this.xa+=q*c;if(0!==this.Ca||0!==this.xa){h=Math.atan2(this.xa,this.Ca);l=this.Aj*Math.cos(h);h=this.Aj*Math.sin(h);Math.sqrt(this.Ca*this.Ca+this.xa*this.xa)>this.Aj&&(this.Ca=l,this.xa=h);var u=Math.abs(l)*c;n=Math.abs(h)*c;l=this.L.B();const w=l.ga();m=l.ia();h=l.Da();u=d.T(this.Ca*c+.5*p*c*c,-u,u);l.NO(u);l.ma();if(p=g.Ph(this.L))g.Mz(this.L,0>this.Ca?1:-1,0,Math.max(Math.abs(Math.floor(u)),
1))||(l.ig(w),l.ma()),this.Ca=0,g.zu(this.L,p);c=d.T(this.xa*c+.5*q*c*c,-n,n);l.OO(c);l.ma();if(p=g.Ph(this.L))g.Mz(this.L,0,0>this.xa?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(l.jg(m),l.ma()),this.xa=0,g.zu(this.L,p);c=d.ay(this.Ca);q=d.ay(this.xa);0===c&&0===q||!this.L.Bb().To()||(1===this.an?l.Cc(d.Ua(90*Math.round(d.Fg(Math.atan2(q,c))/90))):2===this.an?l.Cc(d.Ua(45*Math.round(d.Fg(Math.atan2(q,c))/45))):3===this.an&&l.Cc(Math.atan2(q,c)));l.ma();l.Da()!=h&&(p=g.Ph(this.L))&&(l.Cc(h),l.ma(),
g.zu(this.L,p))}}}Zb(c){switch(c){case 0:return this.Aj;case 1:return this.$b;case 2:return this.pg;case 3:return this.mn;case 4:return this.an;case 5:return this.Hl;case 6:return this.rb}}pe(c,g){switch(c){case 0:this.WS(g);break;case 1:this.Ur(g);break;case 2:this.PS(g);break;case 3:this.mn=g;break;case 4:this.an=g;break;case 5:this.QS(!!g);break;case 6:this.Th(!!g)}}fT(){this.xa=this.Ca=0}CS(){this.Ca*=-1;this.xa*=-1}$R(){const c=Math.hypot(this.Ca,this.xa);c>this.Aj&&this.tp(c)}tp(c){c=d.T(c,
0,this.Aj);const g=Math.atan2(this.xa,this.Ca);this.Ca=c*Math.cos(g);this.xa=c*Math.sin(g)}Xm(){return Math.hypot(this.Ca,this.xa)}WS(c){this.Aj=Math.max(c,0)}Ur(c){this.$b=Math.max(c,0)}PS(c){this.pg=Math.max(c,0)}I9(){return Math.atan2(this.xa,this.Ca)}Jca(c){this.Ca=c;this.$R()}Kca(c){this.xa=c;this.$R()}Uca(c){if(this.rb)switch(c){case 0:this.cx=!0;break;case 1:this.gx=!0;break;case 2:this.hx=!0;break;case 3:this.bx=!0}}QS(c){c=!!c;this.Hl!==c&&((this.Hl=c)?this.JG():(this.iT(),this.Tr()))}uca(c){this.NB=
!!c}Th(c){(this.rb=!!c)?this.kg():(this.bx=this.hx=this.gx=this.cx=!1,this.vp())}Kh(){return self.x1}};const e=new WeakMap;self.x1=class extends a{constructor(){super();e.set(this,a.Wm().oa)}stop(){e.get(this).fT()}reverse(){e.get(this).CS()}get speed(){return e.get(this).Xm()}set speed(c){b.dg(c);e.get(this).tp(c)}get acceleration(){return e.get(this).$b}set acceleration(c){b.dg(c);e.get(this).Ur(c)}get isEnabled(){return e.get(this).rb}set isEnabled(c){e.get(this).Th(!!c)}}}
{"use strict";const d=self.D;d.Ya.Jq.P={Pja(){return 1E-10<this.Xm()},HY(b,a){return d.compare(this.Xm(),b,a)},$f(){return this.rb}}}"use strict";self.D.Ya.Jq.jb={qe(){this.fT()},Lma(){this.CS()},zna(d){this.uca(d)},eQ(d){this.tp(d)},aoa(d){this.WS(d)},DP(d){this.Ur(d)},ina(d){this.PS(d)},toa(d){this.Uca(d)},Ui(d){this.Th(d)},ooa(d){this.Jca(d)},poa(d){this.Kca(d)},kna(d){this.QS(!!d)}};
{"use strict";const d=self.D;d.Ya.Jq.Ge={y6(){return this.Xm()},yka(){return this.Aj},BX(){return this.$b},Aia(){return this.pg},Hka(){return d.Fg(this.I9())},kpa(){return this.Ca},lpa(){return this.xa}}}{"use strict";const d=self.D;d.Ya.wrap=class extends d.Sz{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.Ya.wrap.Qh=class extends d.Uz{constructor(b){super(b)}A(){super.A()}Nc(){}}}
{"use strict";const d=self.D,b=new d.Rect;d.Ya.wrap.Instance=class extends d.Tz{constructor(a,e){super(a);this.Rs=0;e&&(this.Rs=e[0]);this.kg()}A(){super.A()}Bc(){return{m:this.Rs}}lc(a){this.Rs=a.m}Nd(){const a=this.L.B(),e=a.da(),c=e.fc(),g=a.Lc();0===this.Rs?b.set(0,0,c.ea(),c.$()):b.pa(e.Jf);g.aa<b.R?(a.ig(b.aa-1+(a.ga()-g.R)),a.ma()):g.R>b.aa?(a.ig(b.R+1-(g.aa-a.ga())),a.ma()):g.W<b.O?(a.jg(b.W-1+(a.ia()-g.O)),a.ma()):g.O>b.W&&(a.jg(b.O+1-(g.W-a.ia())),a.ma())}Zb(a){switch(a){case 0:return this.Rs}}pe(a,
e){switch(a){case 0:this.Rs=e}}}}"use strict";self.D.Ya.wrap.P={};"use strict";self.D.Ya.wrap.jb={};"use strict";self.D.Ya.wrap.Ge={};{"use strict";const d=self.D;d.Ya.ef=class extends d.Sz{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.Ya.ef.Qh=class extends d.Uz{constructor(b){super(b)}A(){super.A()}Nc(){}}}
{"use strict";const d=self.D,b=self.Rf,a=self.kF;d.Ya.ef.Instance=class extends d.Tz{constructor(c,g){super(c);c=this.B();this.Ia=this.$b=this.Ok=0;this.vn=this.Nk=this.kj=!1;this.rb=!0;this.xa=this.Ca=0;this.zw=c.ga();this.Aw=c.ia();this.Yp=c.Da();this.uq=0;this.hD=Math.min(Math.abs(c.ea()),Math.abs(c.$())/2);this.RK=!1;g&&(this.Ok=g[0],this.$b=g[1],this.Ia=g[2],this.kj=!!g[3],this.Nk=!!g[4],this.vn=!!g[5],this.rb=!!g[6]);g=c.Da();this.Ca=Math.cos(g)*this.Ok;this.xa=Math.sin(g)*this.Ok;this.rb&&
(this.kg(),this.kj&&this.MH())}A(){super.A()}Bc(){const c={dx:this.Ca,dy:this.xa,lx:this.zw,ly:this.Aw,lka:this.Yp,t:this.uq};0!==this.$b&&(c.acc=this.$b);0!==this.Ia&&(c.g=this.Ia);this.vn&&(c.st=this.vn);this.rb||(c.e=this.rb);this.kj&&(c.bos=this.kj);this.Nk&&(c.sa=this.Nk);return c}lc(c){this.Ca=c.dx;this.xa=c.dy;this.zw=c.lx;this.Aw=c.ly;this.Yp=c.lka;this.uq=c.t;this.$b=c.hasOwnProperty("acc")?c.acc:0;this.Ia=c.hasOwnProperty("g")?c.g:0;this.vn=c.hasOwnProperty("st")?c.st:!1;this.kj=c.hasOwnProperty("bos")?
c.bos:!1;this.Nk=c.hasOwnProperty("sa")?c.sa:!1;this.Th(c.hasOwnProperty("e")?c.e:!0)}Nd(){if(this.rb){var c=this.j.Ao(this.L),g=this.L.B();if(g.Da()!==this.Yp){var l=g.Da();if(this.Nk){var h=d.tm(0,0,this.Ca,this.xa);this.Ca=Math.cos(l)*h;this.xa=Math.sin(l)*h}this.Yp=l}l=h=0;if(0!==this.$b){let m=d.tm(0,0,this.Ca,this.xa),n;n=0===this.Ca&&0===this.xa?g.Da():d.pm(0,0,this.Ca,this.xa);m+=this.$b*c;h=Math.cos(n)*this.$b;l=Math.sin(n)*this.$b;0>m&&(l=h=m=0);this.Ca=Math.cos(n)*m;this.xa=Math.sin(n)*
m}0!==this.Ia&&(this.xa+=this.Ia*c,l+=this.Ia);this.zw=g.ga();this.Aw=g.ia();if(0!==this.Ca||0!==this.xa)h=this.Ca*c+.5*h*c*c,c=this.xa*c+.5*l*c*c,l=d.tm(0,0,h,c),this.eaa(h,c,l),this.uq+=l,!this.Nk||0===h&&0===c||(g.Cc(d.pm(0,0,h,c)),this.Yp=g.Da()),g.ma()}}eaa(c,g,l){const h=this.B();if(!this.vn||l<=this.hD)h.Om(c,g),h.ma(),this.vn&&this.Oa(d.Ya.ef.P.NF);else{this.RK=!1;var m=h.ga(),n=h.ia(),p=m+c,q=n+g;g=d.pm(0,0,c,g);c=Math.cos(g)*this.hD;g=Math.sin(g)*this.hD;l=Math.floor(l/this.hD);for(let u=
1;u<=l;++u)if(h.Dd(m+c*u,n+g*u),h.ma(),this.Oa(d.Ya.ef.P.NF),this.L.Zq()||this.RK)return;h.Dd(p,q);h.ma();this.Oa(d.Ya.ef.P.NF)}}OF(){if(this.rb&&this.kj&&(0!==this.Ca||0!==this.xa)){var c=this.j.Ao(this.L),g=this.L.B(),l=this.j.Ak,h=l.Ph(this.L);if(h){l.zu(this.L,h);h=d.tm(0,0,this.Ca,this.xa);const m=l.CM(this.L,this.zw,this.Aw);this.Ca=Math.cos(m)*h;this.xa=Math.sin(m)*h;g.Om(this.Ca*c,this.xa*c);g.ma();this.Nk&&(g.Cc(m),this.Yp=g.Da(),g.ma());l.Mz(this.L,this.Ca/h,this.xa/h,Math.max(2.5*h*c,30))||
l.QF(this.L,100)}}}Zb(c){switch(c){case 0:return this.Xm();case 1:return this.$b;case 2:return this.Ia;case 4:return this.Nk;case 5:return this.vn;case 6:return this.rb}}pe(c,g){switch(c){case 0:this.tp(g);break;case 1:this.$b=g;break;case 2:this.Ia=g;break;case 4:this.Nk=!!g;break;case 5:this.vn=!!g;break;case 6:this.Th(!!g)}}tp(c){const g=d.pm(0,0,this.Ca,this.xa);this.Ca=Math.cos(g)*c;this.xa=Math.sin(g)*c}Xm(){return d.ay(d.tm(0,0,this.Ca,this.xa))}Ur(c){this.$b=c}pca(c){this.Ia=c}Tba(c){const g=
d.tm(0,0,this.Ca,this.xa);this.Ca=Math.cos(c)*g;this.xa=Math.sin(c)*g}z9(){return d.pm(0,0,this.Ca,this.xa)}Zba(c){c=!!c;this.kj!==c&&(this.kj=c,this.rb&&(this.kj?this.MH():this.NH()))}eca(c){this.uq=c}Th(c){(this.rb=!!c)?(this.kg(),this.kj&&this.MH()):(this.vp(),this.NH())}Kh(){return self.D1}};const e=new WeakMap;self.D1=class extends a{constructor(){super();e.set(this,a.Wm().oa)}get speed(){return e.get(this).Xm()}set speed(c){b.dg(c);e.get(this).tp(c)}get acceleration(){return e.get(this).$b}set acceleration(c){b.dg(c);
e.get(this).Ur(c)}get isEnabled(){return e.get(this).rb}set isEnabled(c){e.get(this).Th(c)}}}{"use strict";const d=self.D;d.Ya.ef.P={HY(b,a){return d.compare(Math.sqrt(this.Ca*this.Ca+this.xa*this.xa),b,a)},pia(b,a){return d.compare(this.uq,b,a)},NF(){return!0},$f(){return this.rb}}}
{"use strict";const d=self.D;d.Ya.ef.jb={eQ(b){this.tp(b)},DP(b){this.Ur(b)},wna(b){this.pca(b)},k5(b){this.Tba(d.Ua(b))},AM(b){if(b&&(b=b.Oq(this.L))){var a=this.L.B(),e=this.j.Ak,c=this.j.Ao(this.L),g=d.tm(0,0,this.Ca,this.xa),l=e.CM(this.L,this.zw,this.Aw,b);this.Ca=Math.cos(l)*g;this.xa=Math.sin(l)*g;a.Om(this.Ca*c,this.xa*c);a.ma();this.Nk&&(a.Cc(l),this.Yp=a.Da(),a.ma());0!==g&&(this.kj?e.Mz(this.L,this.Ca/g,this.xa/g,Math.max(2.5*g*c,30))||e.QF(this.L,100):e.v4(this.L,this.Ca/g,this.xa/g,Math.max(2.5*
g*c,30),b))}},r5(b){this.Zba(b)},lna(b){this.eca(b)},Ui(b){this.Th(b)},Doa(){this.RK=!0}}}{"use strict";const d=self.D;d.Ya.ef.Ge={y6(){return this.Xm()},BX(){return this.$b},Hha(){return d.Fg(this.z9())},Cia(){return this.uq},dja(){return this.Ia}}}
{const d=self.D;self.BM=function(){return[d.F.md,d.Ya.zm,d.Ya.Jq,d.Ya.wrap,d.Ya.ef,d.F.Keyboard,d.F.Audio,d.F.al,d.F.Text,d.F.ko,d.F.kb.P.$q,d.F.kb.P.z_,d.F.kb.P.JY,d.F.kb.jb.WM,d.F.kb.Ge.random,d.F.kb.jb.SX,d.Ya.ef.jb.DP,d.Ya.ef.jb.r5,d.Ya.ef.jb.eQ,d.Ya.ef.jb.k5,d.Ya.ef.jb.Ui,d.F.kb.jb.m6,d.F.Keyboard.P.sO,d.F.kb.P.y_,d.F.md.jb.x6,d.Ya.zm.jb.Ui,d.F.md.Ge.UX,d.F.kb.P.TO,d.F.md.jb.F6,d.F.md.jb.l5,d.F.md.P.I3,d.F.md.jb.jZ,d.F.kb.jb.G6,d.F.Audio.jb.Play,d.F.kb.P.nN,d.F.md.jb.hg,d.F.md.jb.z6,d.F.Keyboard.P.QO,
d.F.kb.jb.d1,d.F.Audio.P.y2,d.F.ko.jb.T5,d.F.Audio.jb.E6,d.F.Audio.jb.m4,d.F.Audio.jb.l4,d.F.al.P.Jz,d.F.kb.P.GY,d.F.kb.jb.q5,d.F.Audio.jb.B_,d.F.kb.jb.GG]};self.mY=[{uoa:0},{"8Direction":0},{xpa:0},{yoa:0},{eja:0},{fja:0},{ef:0},{Pha:0},{Xha:0},{Roa:0},{Uha:0},{Keyboard:0},{Audio:0},{md:0},{al:0},{Kka:0},{exit:0},{Lla:0},{Mpa:0},{Lpa:0},{tra:0},{Dqa:0},{xsa:0},{Bqa:0},{Tra:0}]}
self.lY=[()=>"asteroid",d=>{const b=d.Mr().Vv;return()=>b.Bd()},()=>"start",()=>0,d=>{const b=d.Mr().Lq();return()=>b(30,1268)},d=>{const b=d.Mr().Lq();return()=>b(30,720)},()=>1,d=>{const b=d.Mr().Lq();return()=>b(1,300)},d=>{const b=d.Mr().Lq();return()=>b(0,360)},()=>"play",()=>"bullet",()=>.1,()=>500,()=>300,d=>{const b=d.Mr();return()=>b.A_()},()=>5,()=>"",()=>"newlevel",()=>"new level",()=>"end",()=>"audio",()=>-10,()=>2,()=>-100,()=>10];
